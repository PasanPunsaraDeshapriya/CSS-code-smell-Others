< !doctype html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><meta name="viewport" id="meta__viewport" content="width=device-width, initial-scale=1"><meta name="robots" content="noindex, nofollow" /><meta name="robots" content="none" /><meta name="robots" content="noarchive" /><link rel="canonical" href="https://www.onetwotrip.com/ru/" /><title></title><link rel="stylesheet" href="twiketlive/css/index.base.compiled.b9159920.css" media="screen">< !-- do not include to build,
because of relative paths to twiketlive/css/jquery/images --><link rel="stylesheet" type="text/css" href="twiketlive/css/jquery/ui.d62357f6.css" media="screen" /><link rel="stylesheet" href="twiketlive/css/index.media.all.compiled.68de3ef3.css" media="all"><link rel="stylesheet" href="twiketlive/css/index.media.screen.compiled.d80c959a.css" media="screen"><link rel="stylesheet" type="text/css" href="twiketlive/l10n/ru/css/extra.7a428ed.css" media="screen" />< !--google tag manager --><script>(function(w, d, s, l, i) {
        w[l]=w[l]||[]; w[l].push({
            'gtm.start':new date().gettime(), event:'gtm.js'
        }); var f=d.getelementsbytagname(s)[0], j=d.createelement(s), dl=l !='datalayer' ?'&l=' +l:''; j.async=true; j.src='https://www.googletagmanager.com/gtm.js?id=' +i+dl; f.parentnode.insertbefore(j, f)
})(window, document, 'script', 'datalayer', 'gtm-52mpb4s');

</script>< !--end google tag manager --><script src="twiketlive/l10n/ru/js/l10n.7a428ed.js"></script><script src="twiketlive/l10n/ru/js/refdata.7a428ed.js"></script><script src="twiketlive/l10n/ru/js/hotels.7a428ed.js"></script><script type="text/javascript">(function(window) {
        var document=window.document; var _kmq=_kmq || []; var _kmk=_kmk || '8d1f8584cbc0a025b95e59b6a64a8e66f864680f'; var lang='ru'; switch(lang) {
            case "uk-ua": _kmk="aa1979a8dc4ff11a00fd4acc4d222f1bbc0055fd"; break; case "es": _kmk="87d0ab4c3043c175e580f283d76fed5101b090bf"; break; case "tr": _kmk="6a31023cff786e6e8d6896464757a4c7f40e408f"; break; case "de": _kmk="b0580069fb75584802ae0276f5bd8f5424008296"; break; case "en-gb": _kmk="9061dca59433ec667cb36abda185a7157081c3a4"; break
        }

        function _kms(u) {
            settimeout(function() {
                    var s=document.createelement('script'); var f=document.getelementsbytagname('script')[0]; s.type='text/javascript'; s.async=true; s.src=u; f.parentnode.insertbefore(s, f)
                }

                , 1)
        }

        if(window.location.hostname.indexof("onetwotrip.com") > -1) {
            _kms('/js/km/km_emu1.js'); _kms('/js/km/km_emu2.js'); (function(i, s, o, g, r, a, m) {
                    i['googleanalyticsobject']=r; i[r]=i[r]||function() {
                        (i[r].q=i[r].q||[]).push(arguments)
                    }

                    , i[r].l=1*new date(); a=s.createelement(o), m=s.getelementsbytagname(o)[0]; a.async=1; a.src=g; m.parentnode.insertbefore(a, m)
                })(window, document, 'script', '//ga.otthyper.com/analytics.js', 'ga'); ga('create', 'ua-21448683-1', 'auto'); ga('send', 'pageview')
        }

        var tw=window.tw || (window.tw= {}); var twiket=window.twiket || (window.twiket= {}); tw.currency=tw.currency || twiket.currency || 'rub'; tw.language=tw.language || twiket.language || 'ru'; // var _ua = navigator.useragent.tolowercase(); var ismsie = (/msie/i.test(_ua) && !/opera/i.test(_ua) || /trident\//i.test(_ua)) || /edge/i.test(_ua); var version = (_ua.match( /.+(?:me|ox|on|rv|it|era|opr|ie)[\/: ]([\d.]+)/ ) || [0,'0'])[1]; if (!window.intl || (ismsie && version >= 11)){object.defineproperty(window, 'intl',{value: null, writable: true}); document.write('<script type="text/javascript" src="twiketlive/js/intl.complete.b799fb22.js"></scr' + 'ipt>'); document.write('<script type="text/javascript" src="twiketlive/js/intl.min.a21de888.js"></scr' + 'ipt>')}})(this); </script> <script src="https://static.onetwotrip.com/recaptcha/captcha.js"></script> <script src="twiketlive/js/index.compiled.17f6597e.js"></script> <link rel="stylesheet" href="twiketlive/js/seatselection/seatselection-a4c2d0a710b2f069c010.css" /> <script src="twiketlive/js/seatselection/seatselection-a4c2d0a710b2f069c010.49474276.js"></script> <!--hot-7714:front-hotels:widget/hotelwidget-assets.shtml--> <link rel="stylesheet" href="twiketlive/js/hotelwidget/hotelwidget-0e650b8016caf9d82e5a.css" /> <script src="twiketlive/js/hotelwidget/hotelwidget-0e650b8016caf9d82e5a.ec4c475b.js"></script> <script src="twiketlive/js/carrent.prod.97fa5d9f.js"></script> <script src="twiketlive/l10n/ru/js/baggage.7a428ed.js"></script> <!--adfox--> <script src="https://yastatic.net/pcode/adfox/loader.js" crossorigin="anonymous"></script> <!-- dfp --> <script async='async' src='https://www.googletagservices.com/tag/js/gpt.js'></script> <script> var googletag = googletag ||{}; googletag.cmd = googletag.cmd || []; </script> <!--[if !ie 7]> <style type="text/css"> #content{display:table;height:100%}</style> <![endif]--> <!--[if lte ie 8]> <style type="text/css"> #printticket{padding-left: 0; padding-right: 0}#printticket table{font-size: 12px; border-collapse: collapse}</style> <![endif]--> <!--[if ie 9]> <link rel="stylesheet" type="text/css" href="twiketlive/css/seatmap-ie9.3884622b.css" /> <![endif]--> </head> <body> <!--google tagmanager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=gtm-52mpb4s"height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> <!--end google tag manager (noscript) --> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <defs> <symbol id="svg-baggage" viewbox="0 0 73 56"><g fill-rule="evenodd"><path d="m52.7 12.96l.06-5.66c52.8 2.57 48.9.78 44.03.75h28.87c24.05.7 20.03 2.54 20 7.3v5.66h15.7v55.6h41.32v12.95h52.7zm-6.97 0h26.97l.05-5.66h18.7v5.66zm5.65 12.96c-4.2-.04-5.58 3.36-5.62 7.6v48c0 52.25 1.4 55.6 5.65 55.6h4.72v12.95h5.65m66.95 12.96c4.2-.04 5.58 3.36 5.6 7.6v48c.03 4.24-1.36 7.6-5.6 7.6h-4.73v12.95h4.73"/></g></symbol> <symbol id="svg-people" viewbox="0 0 73 53"><g fill-rule="evenodd"><path d="m35.32 32.65c2.2 1.7 8.8 3.24 14.07 6.1 1.73.96 1.88 2.36 2 3.2.14.85.42 10.36.42 10.36h.5s.28-9.5.4-10.35c.14-.84.15-2.13 2.03-3.2 5.23-2.95 11.83-4.3 14.04-6 .88-.67.65-1.76.85-2.8.2-1.05.85-.33.85-1.44 0-1.1.2-.9.08-2.4-.1-1.28-1.87-1.42-1.97-3.83-.02-.5-.92-.85-1.44-1.63-.52-.8-1.37-2.15-1.37-3.72 0-1.56.33-1.17.33-3.13s-.07-3.1 1.04-7.64c.42-1.7 1.84-3.67 3.25-4.57c20.5.37 19.73 2 26.15.55c4.17-.93 10.7 3.4 10.76 6.84.1 4.68.37 4.32.65 6.26.2 1.37.6 1.04.6 2.6 0 1.57-.86 3.53-1.38 4.3-.53.8-1.02 2.05-1.08 2.55-.34 2.62-2.1 2.02-2.16 3.42-.07 1.28-.15 1.1.04 2.1.16.84.65-.04.84 1 .2 1.04.06 2.57.88 3.03m46.7 23.8c.36.53.98.77 1 1.13.07 1.68 1.3 1.78 1.38 2.68.08 1.04-.07.9-.07 1.68 0 .77-.44.27-.58 1-.13.73.03 1.5-.6 1.96-.68.53-2 1.02-3.55 1.6 2.25.82 4.72 1.8 7.05 3.03 2.5 1.3 2.56 2.93 2.75 4.2.07.43.16 2.53.24 4.8h17.83s-.2-6.62-.28-7.2c-.1-.6-.15-1.55-1.4-2.24-3.68-2-8.28-3.08-9.82-4.26-.57-.32-.48-1.4-.6-2.12-.15-.72-.5-.1-.6-.7-.13-.68-.08-.57-.03-1.46.05-.98 1.27-.56 1.5-2.38.05-.36.4-1.23.75-1.78.37-.54.96-1.9.96-3s-.26-.86-.4-1.82c-.2-1.35-.4-1.1-.46-4.36-.04-2.4-4.6-5.43-7.5-4.78-4.48 1-3.94-.12-5.28.72-1 .63-1.98 2-2.27 3.2-.78 3.16-.73 3.95-.73 5.32 0 1.36-.23 1.1-.23 2.18 0 1.1.6 2.04.96 2.6"/></g></symbol> <symbol id="svg-deselector" viewbox="-281 404.4 33 32.5"><circle cx="-264.5" cy="420.6" r="15.5"/><path fill="none" stroke="#fff" stroke-width="3" stroke-linecap="square" stroke-miterlimit="10" d="m-271.3 427.4l13.6-13.5m-258 427.2l-13-13.1"/></symbol> <symbol id="svg-auto" viewbox="0 0 205 205"><g fill-rule="evenodd"><path d="m102.8.4c46.4.4.8 46 .8 102.4c0 56.5 45.6 102.2 102 102.2s205 159 205 102.6c205 46 159.2.3 102.8.3zm0 178.7c-42.2 0-76.6-34.3-76.6-76.5s60.6 26 102.8 26c42.3 0 76.6 34.3 76.6 76.5s145 179 102.8 179z"/><path d="m94.3 51.4l-34 85h17l8.5-25.4h33.6l9 25.5h17l-34-85h-17zm-5 51l13.6-37.7 13 37.8h89.3z"/></g></symbol> <symbol id="svg-manual" viewbox="0 0 205 205"><g fill-rule="evenodd"><path d="m102.8.6c46.4.6.8 46.4.8 102.8c0 56.4 45.6 102 102 102s205 159.3 205 103 159.2.6 102.8.6zm0 178.8c-42.2 0-76.6-34.4-76.6-76.6 0-42.3 34.4-76.6 76.6-76.6 42.3 0 76.6 34.3 76.6 76.6 0 42.2-34.3 76.6-76.6 76.6z"/><path d="m102.8 111.3l-25.5-51h-17v85h17v85.8l17 34h17l17-34v59.5h17v-85h-17l-25.5 51"/></g></symbol> <symbol id="svg-cardoor" viewbox="0 0 67 66"><path d="m27 0h-.4c-2.6 0-4.2 1.5-4.8 2v.2l-20.3 20-.3.5c.2 24.4 0 26 0 27v38.5h66.8v0h27zm31.7 41.5h-7.4c-1 0-1.6-.7-1.6-1.6 0-1 .7-1.6 1.6-1.6h7.4c1 0 1.6.7 1.6 1.5s-.7 1.5-1.6 1.5zm61.5 29h7.3c-2-1-2.3-2-1.5-3.6l25.3 6.2c.4-.4.8-1 1.5-.8h34.7v29z" fill-rule="evenodd"/></symbol> <symbol id="svg-closer" viewbox="0 0 75 75"><path d="m37 0c16.6 0 0 16.6 0 37c0 20.5 16.6 37 37 37 20.5 0 37-16.5 37-37c74 16.6 57.6 0 37 0zm19.7 56.8c-5 5-12 8-19.7 8-7.7 0-14.6-3-19.7-8-5-5-8-12-8-19.8 0-7.7 3-14.6 8-19.7 5-5 12-8 19.7-8 7.8 0 14.7 3 19.7 8s65 29.3 65 37c0 7.8-3.2 14.7-8.3 19.8zm-5.4-34c-2-2-5-2-7 0l37 30l-7.4-7.5c-2-2-5-2-7 0-1.8 2-1.8 5 0 7l7.6 7.3-7.5 7.4c-2 2-2 5 0 7 1 1 2.2 1.4 3.5 1.4 1.2 0 2.5-.5 3.4-1.5l37 44l7.4 7.3c1 1 2.2 1.5 3.5 1.5 1 0 2.4-.5 3.3-1.5 2-2 2-5 0-7l44 37l7.3-7.4c2-2 2-5 0-7z" fill-rule="evenodd"/></symbol> <symbol id="svg-gasoline" viewbox="0 0 57 73"><path d="m56.06 10.7c.6-1.28 0-2.14-.96-2.58l-5.53-2.54c-.94-.43-2.18.25-2.77 1.52-.43.94-.38 1.96.07 2.6l46 11.6h-7.37v4.04c38.63-.25 35.16 0 30.87 0h7.75c3.47 0 0 3.47 0 7.76v10.48c0 .2 0 .38.03.56 0 .2-.03.38-.03.57v64.5c0 4.3 3.47 7.76 7.75 7.76h40.38c4.3 0 7.76-3.47 7.76-7.75v19.38c0-2.18-.9-4.15-2.36-5.56l.7-1.5c.7-.14 1.42-.73 1.82-1.6zm34.18 4.13v5.54h17.95l-5.3-5.6 21.53.06z" fill-rule="evenodd"/></symbol> <symbol id="svg-snowflake" viewbox="0 0 89 101"><path d="m36.8 50.3l3.94 5.83h7.37l3.4-5.84-3.58-6.23h-7.38l36.8 50.3zm3.02 46.96v-13.2l-7.38 4.14-3.76-2.15v81.4l10.94-6.22v66.5l-7.93 5.1-.02-9.2-7.58 4.38v12.47l-4.16 2.57-3.5-2.32v-8.36l-11.52 6.5l0 75.57v70.3l12.1-6.6-7.57-3.8v-4.83l4.3-2.35 10.83 6.38 7.54-4.34-.18-.14-7.7-4.42 7.47-4.64-7.5-4.34l8.43 47.6l-4.07-2.04v-4.8l7.34-4.13l0 30.27v25l4.5-2.32 11.54 6.67v-8.5l3.48-2.35 4.27 2.46-.04 12.72 7.76 4.43-.03-8.97 8.12 4.37v-8.68l28.68 18.6v-4.62l3.76-2.18 7.38 4.15v2.77l44.04 0l4.26 2.77v13.18l7.65-4.24 3.84 2.56v4.15l-11.33 6.42v8.68l7.74-4.72v9.45l8-4.35v-13.6l3.84-1.8 4.03 1.8v8.7l11.88-6.42 4.16 2.53v30l-11.6 6.6 7.26 4.07v4.7l80 47.45l-11.14-6.58-7.7 4.9 7.45 4.63-7.66 4.42 7.92 4.15l80 52.75l3.58 2.53v4.48l-7 3.93 11.14 6.6v5.2l-4.7 2.14-10.94-6.22v8.23l-3.93 2.2-3.84-2.2v-12.5l-8.1-4.6v8.67l-7.73-4.72v8.68l59.4 81.4v4.92l-3.76 1.9-7.34-4.16v13.2l44.04 100l-4.22-2.74z" fill-rule="evenodd"/></symbol> <symbol id="svg-search" viewbox="-226.3 390.3 60 59.2"><path d="m-177.1 443.6l-10.9-10.9c-3 2-6.6 3.1-10.4 3.1-10.5 0-19.1-8.5-19.1-19.1 0-10.5 8.5-19.1 19.1-19.1 10.5 0 19.1 8.5 19.1 19.1 0 3.7-1 7.1-2.8 10l11 11c.6.6.1 2-1.1 3.1l-1.6 1.6c-1.3 1.3-2.7 1.8-3.3 1.2zm-8.7-26.9c0-7-5.7-12.7-12.7-12.7-7 0-12.7 5.7-12.7 12.7s5.7 12.7 12.7 12.7c7.1 0 12.7-5.7 12.7-12.7z"/></symbol> <symbol id="svg-arrow-left" viewbox="0 0 38 59"><path d="m30.7 59l1 29.3l29-29 7.3 7.3-21.7 21.7l38 51.7 30.7 59" fill-rule="evenodd"/></symbol> <symbol id="svg-arrow-right" viewbox="0 0 38 59"><path d="m7.3 0l37 29.7l-29 29-7.3-7.3 21.7-21.7l0 7.3 7.3 0" fill-rule="evenodd"/></symbol> <symbol id="svg-arrow-down" viewbox="0 0 60 39"><path d="m59.5 7.807l-29.73 29.73l.78 8.545l7.307-7.307l29.77 22.923 52.192.5 59.5 7.807" fill-rule="evenodd"/></symbol> <symbol id="svg-filter-big" width="70" height="70" viewbox="0 0 70 70" xmlns="http://www.w3.org/2000/svg"><g fill="#fff" fill-rule="evenodd"><g stroke="#fff" stroke-width=".3" fill="#fff"><path d="m45.264 50.564h.06c.597 0 1.076-.415 1.076-1.007.18-2.49-.837-4.267-2.69-4.682-3.107-.77-4.42-1.718-4.9-2.31.18-.18.42-.356.538-.534 2.032-2.31 1.733-6.162 1.673-6.577-.238-4.563-3.644-5.69-5.675-5.63-2.032-.06-5.438 1.067-5.677 5.63-.06.474-.36 4.267 1.673 6.578.18.238.42.416.658.593-.538.593-1.912 1.482-4.84 2.252-1.852.474-2.808 2.252-2.63 4.682.06.592.54 1.007 1.076 1.007h.06c.598-.06 1.076-.533 1.016-1.185-.06-.83 0-2.194 1.016-2.43 4.004-1.008 5.677-2.37 6.334-3.438.36.06.777.12 1.195.12h.18c.477 0 .896-.06 1.314-.18.656 1.068 2.27 2.43 6.333 3.438 1.016.237 1.076 1.66 1.016 2.43.12.71.597 1.244 1.194 1.244zm-9.8-9.007s-.06 0 0 0c-1.016 0-1.793-.297-2.33-.948-1.255-1.364-1.255-4.03-1.136-4.92v-.06c.18-3.258 2.39-3.614 3.287-3.614h.18c.776-.06 3.286.12 3.405 3.615v.06c.12.89.06 3.556-1.135 4.978-.538.533-1.315.83-2.27.89z"/><path d="m58.47 46.475h.06c.598 0 1.076-.415 1.076-1.007.18-2.193-.717-3.793-2.39-4.208-2.45-.592-3.586-1.362-4.004-1.837l.358-.355c1.793-2.015 1.554-5.333 1.494-5.748-.18-4.03-3.227-5.037-5.02-4.978-1.792-.06-4.78.948-5.02 4.978-.06.415-.298 3.733 1.495 5.748.12.178.298.296.477.474-.478.415-1.554 1.126-3.944 1.718-.597.12-.956.712-.777 1.304.12.474.598.83 1.076.83.06 0 .18 0 .24-.06 3.405-.83 4.84-2.014 5.497-2.903.297.06.596.06.895.12h.18c.358 0 .716-.06 1.015-.12.598.95 2.09 2.075 5.498 2.905.776.177.776 1.303.776 1.955-.06.652.42 1.185 1.016 1.185zm-8.366-8.06c-.836 0-1.434-.236-1.912-.77-1.016-1.125-1.016-3.377-.956-4.147v-.06c.12-2.666 1.972-2.963 2.69-2.963h.178c.598 0 2.63.12 2.81 2.963v.06c.06.77.06 2.963-.957 4.148-.418.533-1.076.77-1.853.77zm11.382 45.586c.06.593.538 1.008 1.076 1.008h.06c.597-.06 1.075-.534 1.016-1.185-.06-.653 0-1.78.776-1.957 3.407-.83 4.9-2.015 5.498-2.904.36.06.657.118 1.016.118h.18c.298 0 .597-.06.896-.12.597.89 2.09 2.075 5.497 2.905.06 0 .18.06.24.06.477 0 .955-.356 1.075-.83.12-.593-.18-1.185-.777-1.304-2.33-.594-3.466-1.305-3.944-1.78.18-.117.3-.295.48-.414 1.792-2.014 1.553-5.333 1.493-5.748-.18-4.03-3.227-5.037-5.02-4.978-1.792-.06-4.78.95-5.02 4.978-.06.415-.298 3.734 1.495 5.748l.418.415c-.418.416-1.494 1.186-4.063 1.78-1.614.473-2.51 2.014-2.39 4.206zm6.753-11.91v-.06c.12-2.667 1.972-2.963 2.69-2.963h.178c.598 0 2.63.12 2.81 2.963v.06s.238 2.784-.957 4.088c-.42.474-1.076.77-1.853.77h-.06c-.776 0-1.434-.236-1.852-.77-1.015-1.126-1.015-3.318-.955-4.09zm31.212 30.722c.63-.158.876-.547.767-1.02-.11-.478-.362-.642-.81-.956.102-.102.204-.205.308-.307 1.546-1.74 1.34-4.6 1.288-4.958-.155-3.475-2.783-4.344-4.33-4.293-1.545-.052-4.122.817-4.328 4.292-.05.357-.257 3.22 1.288 4.957.104.152.26.255.413.408-.52.238-.762.5-.607 1.012.103.41.515.715.927.715.052 0 .14-.02.206-.05.26-.118 1.006-.644 1.277-.91.257.05.515.05.772.102h.155c.31 0 .62-.052.876-.103l.297.282c.476.457 1.108.925 1.5.826zm-2.723-2.845c-.722 0-1.238-.205-1.65-.664-.876-.972-.876-2.914-.825-3.578v-.05c.103-2.3 1.7-2.556 2.32-2.556h.154c.514 0 2.267.1 2.42 2.554v.05c.053.665.053 2.556-.824 3.58-.36.458-.927.663-1.597.663zm44.483 30.722c.63-.158.877-.547.767-1.02-.11-.478-.36-.642-.81-.956l.31-.307c1.545-1.74 1.34-4.6 1.287-4.958-.154-3.475-2.782-4.344-4.328-4.293-1.547-.052-4.124.817-4.33 4.292-.052.357-.258 3.22 1.288 4.957.103.152.258.255.413.408-.518.238-.76.5-.606 1.012.103.41.515.715.927.715.053 0 .14-.02.208-.05.258-.118 1.005-.644 1.276-.91.258.05.516.05.773.102h.154c.31 0 .62-.052.878-.103 0 0 .243.23.296.282.476.457 1.108.925 1.5.826zm-2.723-2.845c-.72 0-1.237-.205-1.65-.664-.875-.972-.875-2.914-.823-3.578v-.05c.103-2.3 1.7-2.556 2.318-2.556h.154c.516 0 2.268.1 2.423 2.554v.05c.05.665.05 2.556-.825 3.58-.36.458-.928.663-1.598.663z"/></g></g></symbol> <symbol id="svg-filter-lux" width="71" height="70" viewbox="0 0 71 70" xmlns="http://www.w3.org/2000/svg"><g fill="#fff" fill-rule="evenodd"><path d="m49.764 50.017c0 .5-6.16.908-13.764.908-7.246 0-13.183-.37-13.724-.838-.016-.014-.027-.03-.033-.043l-.002-.005c-.002-.01-.004-.015-.004-.023 0-.5 6.16-.907 13.764-.907 7.603 0 13.764.406 13.764.907m56.143 25.832c-.48-.485-1.145-.785-1.878-.785-1.467 0-2.656 1.198-2.656 2.675 0 .77.325 1.462.84 1.95l-3.457 5.335c-.456.703-1.274 1.078-2.1.964-.827-.115-1.514-.7-1.764-1.5l-1.92-6.16c1.086-.337 1.875-1.355 1.875-2.56 0-1.477-1.19-2.675-2.656-2.675-1.466 0-2.655 1.198-2.655 2.676 0 1.024.57 1.91 1.407 2.362l-3.27 6.285c-.374.716-1.11 1.163-1.912 1.163-.802 0-1.538-.447-1.91-1.163l-3.272-6.285c.837-.45 1.407-1.338 1.407-2.36 0-1.48-1.19-2.677-2.654-2.677-1.466 0-2.655 1.198-2.655 2.676 0 1.205.79 2.223 1.876 2.56l-1.92 6.16c-.25.8-.936 1.385-1.762 1.5-.827.115-1.645-.26-2.1-.963l-3.46-5.335c.517-.488.843-1.18.843-1.95 0-1.477-1.188-2.675-2.655-2.675-1.467 0-2.656 1.198-2.656 2.675 0 1.478 1.188 2.676 2.655 2.676.076 0 .15-.005.226-.01l3.758 18.26c2.99-.353 8.27-.586 14.282-.586 6.013 0 11.29.233 14.282.587l3.757-18.263c.074.006.15.01.225.01 1.467 0 2.656-1.197 2.656-2.675 0-.738-.296-1.407-.777-1.89zm-8.187 19.655c-3.19-.23-7.437-.362-11.956-.362-4.52 0-8.765.132-11.956.362l-1.456-7.076c.68.337 1.44.517 2.224.517.232 0 .465-.016.696-.048 1.93-.27 3.557-1.656 4.143-3.53l.617-1.976 1.242 2.387c.88 1.69 2.598 2.737 4.49 2.737 1.892 0 3.61-1.048 4.49-2.736l1.243-2.386.616 1.975c.585 1.874 2.21 3.26 4.144 3.53.23.03.462.047.694.047.785 0 1.543-.18 2.224-.516l-1.456 7.077z"/></g></symbol> <symbol id="svg-filter-manual" width="70" height="70" viewbox="0 0 70 70" xmlns="http://www.w3.org/2000/svg"><path d="m36 39h9v13.003c45 53.11 45.895 54 47 54c1.112 0 2-.894 2-1.997v21.997c49 20.89 48.105 20 47 20c-1.112 0-2 .894-2 1.997v35h-9v21.997c36 20.89 35.105 20 34 20c-1.112 0-2 .894-2 1.997v35h-9v21.997c23 20.89 22.105 20 21 20c-1.112 0-2 .894-2 1.997v15.006c0 .55.223 1.05.583 1.41.362.365.86.587 1.41.587h32v13.003c32 53.11 32.895 54 34 54c1.112 0 2-.894 2-1.997v39zm19 16c0-1.105.888-2 2-2 1.105 0 2 .888 2 2 0 1.105-.888 2-2 2-1.105 0-2-.888-2-2zm13 0c0-1.105.888-2 2-2 1.105 0 2 .888 2 2 0 1.105-.888 2-2 2-1.105 0-2-.888-2-2zm13 0c0-1.105.888-2 2-2 1.105 0 2 .888 2 2 0 1.105-.888 2-2 2-1.105 0-2-.888-2-2zm4 42c0 1.105-.888 2-2 2-1.105 0-2-.888-2-2 0-1.105.888-2 2-2 1.105 0 2 .888 2 2zm-13 0c0 1.105-.888 2-2 2-1.105 0-2-.888-2-2 0-1.105.888-2 2-2 1.105 0 2 .888 2 2z" fill="#fff" fill-rule="evenodd"/></symbol> </defs> </svg> <div id="printcar"></div> <div id="printticket"></div> <script id="tmpl_tworowtable" type="text/x-jquery-tmpl"> <div> <table class="table no-bottom-border"> <tbody>{{each(i, $value) $data.rowdata}}<tr> <td> ${$value[0]}</td> <td class="text-right"> ${$value[1]}</td> </tr>{{/each}}</tbody> </table> </div> </script> <script id="tmpl_languagesselect" type="text/x-jquery-tmpl"> <div class="dm_wrapper"> <div class="dm_selected"><span class="lang ${twiket.language}"></span>${l10n.languages[twiket.language]}</div>{{tmpl "#tmpl_languageslist"}}</div> </script> <script id="tmpl_languageslist" type="text/x-jquery-tmpl"> <ul>{{each(i, lang) l10n.languages}}{{if i != twiket.language}}<li class="lang ${i}" data-language="${i}">${l10n.languages[i]}</li>{{/if}}{{/each}}</ul> </script> <script id="tmpl_modal" type="text/x-jquery-tmpl"> <div class="modal fade{{if $data.classname}}${$data.classname}{{/if}}" id="${$data.id}">{{if !$data.name && $data.cross}}<a class="close" style="z-index: 9; position: absolute; top: 11px; right: 15px;" data-dismiss="modal">×</a>{{/if}}{{if $data.name}}<div class="modal-header">{{if $data.cross}}<a class="close" data-dismiss="modal">×</a>{{/if}}<h3 id="header">${$data.name}</h3> </div>{{/if}}<div class="modal-body">{{if $data.dom}}{{html $data.dom}}{{/if}}</div>{{if $data.showfooter}}<div class="modal-footer">{{if $data.close_button}}<button class="btn" data-dismiss="modal">{{if $data.close_buttontext}}${$data.close_buttontext}{{else}}${l10n.popup.close}{{/if}}</button>{{else $data.showoptbuttons}}{{if $data.optbuttons.close}}<button class="btn floatleft" data-button="1" data-dismiss="modal">${$data.optbuttons.buttons[0]}</button> <button class="btn" data-dismiss="modal">${l10n.popup.close}</button>{{else}}<button class="btn btn-danger floatleft" data-button="1" data-dismiss="modal">${$data.optbuttons.buttons[0]}</button>{{/if}}{{/if}}</div>{{/if}}</div> </script> <script id="tmpl_print" type="text/x-jquery-tmpl"> <div>{{each($i, $dir) $data.reservation.arrdirections}}{{each($j, $trip) $dir.trips}}{{if $trip.id%4===0}}{{tmpl({order: $data.order,reservation: $data.reservation,ticket: $data.ticket,logourl: $data.logourl, page: $trip.id, booking: $data.booking, hidepages: $item.packagesvaucher}) "#tmpl_receiptheader"}}{{/if}}<div class="trip"> <table> <tr class="up"> <td class="right fw4">${avia_receipt.ticket.departure}</td> <td> ${$trip.stdt_date.format(avia_receipt.localfulldate, false, true)}<div class="time{{if $j === 0}}fw6{{/if}}">${$trip.stdt_date.format(avia_receipt.localshorttime, false, true)}</div> </td> <td> <div>{{if checkairportcityname($trip.from)}}${avia_receipt.ticket.table.airport}{{else}}${avia_receipt.ticket.table.airportname.replacebyarray([receiptref.getairportname($trip.from)])}{{/if}}{{if $trip.sttrm != ''}}, ${avia_receipt.ticket.table.terminal}${$trip.sttrm}{{/if}}</div> <span class="point{{if $j === 0}}fw6{{/if}}">${receiptref.getcityname($trip.from)}</span><span class="fw2">, ${receiptref.getcountryname(ref.getcountrycode($trip.from))}</span> </td> <td class="right"> <div class="code_box">${$trip.from}</div> </td> </tr> <tr class="flight_info"> <td class="right"> <div class="fw4">${avia_receipt.ticket.table.flight}</div> <div>${avia_receipt.ticket.table.ticket}</div> <div>${avia_receipt.ticket.table.pnr}</div> <div>${avia_receipt.ticket.table.ak}</div>{{if $data.ticket.plccrr == 'dp'}}<div>статус купона</div>{{/if}}</td> <td class="fw4"> <div class="fw5">${$trip.aircmp}-${$trip.fltnm}</div> <div>${$data.ticket.ticketnumber}</div> <div> ${$trip.vendorpnr}{{if $trip.oprdby}}${', "' + $trip.oprdby + '"'}{{/if}}</div> <div>${ref.getairlinename($trip.aircmp)}</div>{{if $data.ticket.plccrr == 'dp'}}<div>не использован</div>{{/if}}</td> <td colspan="2"> <div><span class="fw4">{{if $dir.tariffmsgsforprint && $dir.tariffmsgsforprint.class}}${$dir.tariffmsgsforprint.class}{{else}}{{if $trip.srvcls == 'f'}}{{html avia_receipt.ticket.cls.f}}{{/if}}{{if $trip.srvcls == 'b'}}{{html avia_receipt.ticket.cls.b}}{{/if}}{{if $trip.srvcls == 'e'}}{{html avia_receipt.ticket.cls.e}}{{/if}}{{if $trip.srvcls == 'w'}}{{html avia_receipt.ticket.cls.w}}{{/if}}{{/if}}</span>{{if $trip.fic != ''}}<span class="fw3">(${$trip.fic})</span>{{/if}}</div> <div>{{if $trip.oprdby}}${avia_receipt.ticket.table.operated.replacebyarray([ref.getairlinename($trip.oprdby)])}{{else}}${avia_receipt.ticket.table.operated.replacebyarray([ref.getairlinename($trip.aircmp)])}{{/if}}</div>{{if $trip.planestr != ""}}<div>${$trip.planestr}</div>{{/if}}<div>${avia_receipt.ticket.table.baggage}:${' '}{{if $dir.tariffmsgsforprint && $dir.tariffmsgsforprint.baggage}}${$dir.tariffmsgsforprint.baggage}{{else}}{{if $trip.obg && $trip.obg[$data.ticket.agetype] && $trip.obg[$data.ticket.agetype].value && $trip.obg[$data.ticket.agetype].type}}${$trip.obg[$data.ticket.agetype].value + '' + $trip.obg[$data.ticket.agetype].type}{{else}}&mdash;{{/if}}{{/if}}{{if $trip.aircmp == 'dp'}}. сумма измерений до 158 см.{{/if}}</div> </td> </tr> <tr class="up"> <td class="right fw4">${avia_receipt.ticket.arrival}</td> <td> ${$trip.enddt_date.format(avia_receipt.localfulldate, false, true)}<div class="time{{if $j === $dir.trips.length-1}}fw6{{/if}}">${$trip.enddt_date.format(avia_receipt.localshorttime, false, true)}</div> </td> <td> <div>{{if checkairportcityname($trip.to)}}${avia_receipt.ticket.table.airport}{{else}}${avia_receipt.ticket.table.airportname.replacebyarray([receiptref.getairportname($trip.to)])}{{/if}}{{if $trip.endtrm}}{{if $trip.endtrm != ''}}, ${avia_receipt.ticket.table.terminal}${$trip.endtrm}{{/if}}{{/if}}</div> <span class="point{{if $j === $dir.trips.length-1}}fw6{{/if}}">${receiptref.getcityname($trip.to)}</span><span class="fw2">, ${receiptref.getcountryname(ref.getcountrycode($trip.to))}</span> </td> <td class="right"> <div class="code_box">${$trip.to}</div> </td> </tr>{{if $j != $dir.trips.length-1}}<tr class="line"> <td colspan="2"><div></div></td> <td colspan="2"></td> </tr>{{else $i != $data.reservation.arrdirections.length-1 && ($trip.id+1)%4}}<tr> <td colspan="4"><div class="hr"></div></td> </tr>{{/if}}</table> </div>{{if $data.reservation.trips.length-1 === $trip.id}}{{tmpl({reservation: $data.reservation}) "#tmpl_receiptnotice"}}{{if $data.reservation.trips.length > 3 && ($trip.id+1)%4===0}}<div class="break"></div>{{if !$item.packagesvaucher}}{{tmpl({order: $data.order, reservation: $data.reservation, ticket: $data.ticket, logourl: $data.logourl, page: $trip.id, booking: $data.booking}) "#tmpl_receiptheader"}}{{/if}}{{else}}{{if !$item.packagesvaucher}}<div class="hr"></div>{{/if}}{{/if}}<!--{{if $data.reservation.trips.length == 3 || ($data.reservation.trips.length > 2 && ($trip.id+1)%4===0)}}<div class="break"></div>{{tmpl({order: $data.order, reservation: $data.reservation, ticket: $data.ticket, logourl: $data.logourl, page: $trip.id, booking: $data.booking}) "#tmpl_receiptheader"}}{{else}}<div class="hr"></div>{{/if}}--> <!--{{if ($trip.id+1)%4===0}}<div class="break"></div>{{tmpl({order: $data.order, reservation: $data.reservation, ticket: $data.ticket, logourl: $data.logourl, page: $trip.id, booking: $data.booking}) "#tmpl_receiptheader"}}{{else}}<div class="hr"></div>{{/if}}-->{{else ($trip.id+1)%4===0}}{{tmpl({reservation: $data.reservation}) "#tmpl_receiptnotice"}}<div class="break"></div>{{/if}}{{/each}}{{/each}}{{if $item.packagesvaucher}}<!--<h1>стоимость пакета "перелет + отель": ${twiket.packageshelpers.formatmoney($data.booking.totalprice)}</h1>-->{{else}}{{tmpl({order: $data.order, reservation: $data.reservation, ticket: $data.ticket, receiptpage: $data.receiptpage}) "#tmpl_receiptprice"}}{{/if}}</div> </script> <script id="tmpl_receiptheader" type="text/x-jquery-tmpl"> <div class="receipt_header"> <table> <tr> <td class="logo_cell">{{if $data.logourl.indexof('12trip') > -1}}<svg version="1.1" id="layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100px" height="100px" viewbox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"> <g> <path fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="m90.449,21.933 h71.297c-0.153-11.479-9.534-20.772-21.05-20.772c-11.515,0-20.896,9.292-21.049,20.772h9.314c-4.914,0-8.933,4.019-8.933,8.932 v59.231c0,4.912,4.019,8.932,8.933,8.932h81.135c4.914,0,8.933-4.02,8.933-8.932v30.865c99.382,25.952,95.363,21.933,90.449,21.933 z m50.247,13.24c4.855,0,8.812,3.875,8.964,8.693h41.285c41.437,17.115,45.395,13.24,50.247,13.24z"/> <g> <g> <path d="m17.384,58.981v33.583h-6.155v58.981h4.688v53.43h19.292v5.552h17.384z"/> <path d="m42.145,92.564l-5.112-16.049h33.57v16.049h-6.156v53.43h9.893c7.146,0,10.005,3.463,10.005,11.543c0,4.837-0.99,8.3-4.562,10.224l5.827,17.368h42.145z m37.363,58.981h33.57v11.982h3.793c3.297,0,3.791-2.749,3.791-5.991c41.154,61.729,40.66,58.981,37.363,58.981z"/> <path d="m52.334,92.564v53.43h6.156v39.135h52.334z"/> <path d="m73.38,77.285h-3.684v15.279h-6.155v53.43h9.839c7.09,0,10.059,3.684,10.059,11.873c83.438,73.217,80.8,77.285,73.38,77.285z m73.489,58.981h-3.793v12.752h3.793c3.298,0,3.793-2.913,3.793-6.376s76.787,58.981,73.489,58.981z"/> <path d="m90.852,92.785c-2.143,0-3.848-1.705-3.848-3.848c0-2.145,1.705-3.902,3.848-3.902c2.145,0,3.848,1.758,3.848,3.902c94.699,91.08,92.996,92.785,90.852,92.785z m87.938,81.572v53.43h5.826v28.143h87.938z"/> </g> <g> <path d="m15.776,46.41c-0.866,0.981-2.019,1.73-3.98,1.73c-1.96,0-3.114-0.75-3.979-1.73c-1.529-1.729-1.498-4.729-1.498-8.765c0-4.038-0.031-7.037,1.498-8.767c0.864-0.98,2.019-1.729,3.979-1.729c1.962,0,3.114,0.749,3.98,1.729c1.527,1.73,1.498,4.729,1.498,8.767c17.274,41.681,17.304,44.68,15.776,46.41z m13.354,30.839c-0.288-0.461-0.779-0.779-1.558-0.779s-1.238,0.317-1.528,0.779c-0.605,0.98-0.721,3.057-0.721,6.806c0,3.748,0.115,5.824,0.721,6.805c0.29,0.461,0.75,0.779,1.528,0.779s1.27-0.317,1.558-0.779c0.605-0.98,0.692-3.057,0.692-6.805c14.046,33.896,13.959,31.819,13.354,30.839z"/> <path d="m27.838,47.909l-4.844-12.197v12.197h-3.229v-20.53h2.882l4.815,12.197v27.379h3.23v20.53h27.838z"/> <path d="m33.592,47.909v-20.53h8.621v2.913h36.82v5.824h4.644v2.913h36.82v5.969h5.393v2.912h33.592z"/> <path d="m56.312,30.292v47.91h-3.23v30.292h49.65v-2.912h10.121v2.912h56.312z"/> <path d="m77.514,47.91h-3.373l-2.941-15.6l-2.912,15.6h-3.373l-3.894-20.53h3.547l2.019,15.571l2.826-15.571h3.575l2.854,15.571l1.989-15.571h3.547l77.514,47.91z"/> <path d="m91.889,46.41c-0.867,0.981-2.02,1.73-3.98,1.73s-3.114-0.749-3.979-1.73c-1.528-1.73-1.5-4.729-1.5-8.766c0-4.037-0.028-7.036,1.5-8.766c0.864-0.98,2.018-1.73,3.979-1.73s3.113,0.75,3.98,1.73c1.527,1.73,1.498,4.729,1.498,8.766c93.387,41.681,93.416,44.68,91.889,46.41z m89.466,30.839c-0.288-0.461-0.779-0.778-1.558-0.778s-1.24,0.317-1.529,0.778c-0.604,0.981-0.72,3.057-0.72,6.806c0,3.749,0.115,5.824,0.72,6.805c0.289,0.461,0.751,0.778,1.529,0.778s1.27-0.317,1.558-0.778c0.604-0.981,0.692-3.057,0.692-6.805c90.158,33.896,90.07,31.82,89.466,30.839z"/> </g> <path d="m65.809,16.846c-1.046-3.031-2.946-5.658-5.417-7.593c57.6,7.063,54.069,5.755,50.247,5.756c-4.541-0.001-8.665,1.845-11.639,4.821c-2.978,2.975-4.823,7.099-4.823,11.641c0,0.797,0.648,1.444,1.445,1.444s1.446-0.646,1.446-1.444h-0.002c0.002-3.753,1.517-7.138,3.976-9.598c2.46-2.458,5.845-3.975,9.597-3.976c3.161,0.001,6.056,1.075,8.364,2.882c1.98,1.552,3.515,3.645,4.391,6.051l-2.697,0.703l6.066,6.151l2.296-8.331l65.809,16.846z"/> </g> </g> </svg>{{else}}<img src="${$data.logourl}" alt=""/>{{/if}}</td> <td>{{if $data.reservation.trips.length>3 && !$data.hidepages}}<div class="page"> <span>${avia_receipt.ticket.table.page.replacebyarray([math.ceil(($data.page+1)/3),math.ceil(($data.reservation.trips.length+1)/3)])}</span> </div>{{/if}}<table> <tr> <td> <div class="agent">${avia_receipt.agent}{{if $data.reservation.plccrr == 'dp'}}. 19 leyden street, london, england, e1 7le{{/if}}</div> <div class="receipt">${avia_receipt.name}</div> </td> </tr> </table> <table> <tr> <td> <div>${avia_receipt.ticket.passenger}</div> <div class="passenger_info">${$data.ticket.lastname}${$data.ticket.firstname}{{if $data.ticket.plccrr == 'dp'}}{{if $data.ticket.middlename}}${$data.ticket.middlename}{{/if}}(${$data.ticket.birthdate_dateobject.format("d mmmm yyyy", false, true)}){{/if}}/ ${$data.ticket.passnumber}</div> </td> <td class="right"> <div>${avia_receipt.ticket.contact}</div> <div class="order_info">${$data.booking ? $data.booking.ordernumber : $data.order.number}/ +${$data.order.phone}</div> </td> </tr> </table> </td>{{if $data.reservation.plccrr == 'dp'}}<td class="right"> <b>бронирование подтверждено</b> </td>{{/if}}</tr> </table> <div class="hr"></div> </div> </script> <script id="tmpl_receiptnotice" type="text/x-jquery-tmpl"> <div class="price_notice"> <div class="important">${avia_receipt.ticket.text.attention}</div> <div>{{html avia_receipt.ticket.text.first}}{{if !$data.reservation.onecountry}}<div class="monreal">{{html avia_receipt.ticket.text.monreal}}</div>{{/if}}</div> </div> </script> <script id="tmpl_receiptprice" type="text/x-jquery-tmpl"> <div class="price_info"> ${avia_receipt.ticket.route}${$data.reservation.ticketroutecode.join('-')}{{if $data.reservation.cardnumber}}<div>${avia_receipt.ticket.card}${$data.reservation.cardnumber}</div> <div> ${avia_receipt.ticket.issued}:{{if twiket.receiptlang == "en-us"}}${$data.ticket.dateissued.format("mmmm d, yyyy h:mmt", false, true)}{{else}}${$data.ticket.dateissued.format("d mmmm yyyy hh:mm", false, true)}{{/if}}</div>{{/if}}{{if !$data.reservation.canrefund && $data.reservation.plccrr === "su"}}<div class="norefund">${avia_receipt.ticket.norefund}</div>{{/if}}{{tmpl({reservation: $data.reservation, ticket: $data.ticket, space: true, l10n: window.avia_receipt.price, hidetotal: reservation.omsgs.hide_total_mk}) "#tmpl_reservinfo"}}</div> </script> <script id="tmpl_reservinfo" type="text/x-jquery-tmpl"> <div class="fareprice"> <div class="dashedborder"></div> <table class="pass_info"> <tr><td colspan='5'></td></tr>{{if !reservation.omsgs.hide_payment_details_in_receipt}}<tr> <td class="name">${$data.l10n.passenger}: <b>${$data.ticket.lastname}${$data.ticket.firstname}${$data.ticket.middlename}</b></td> <td class="sum">${formatmoneynew(ticket.prices.faretax, ticket.prices.currency)}</td> <td>${ticket.prices.currency}</td> </tr> <tr class="p20"> <td class="name">${$data.l10n.tariff}</td> <td class="sum">${formatmoneynew(ticket.prices.tariff, ticket.prices.currency)}</td> <td class="right">${ticket.prices.currency}</td>{{if ticket.showpricedifference}}<td class="sum"><div>=</div> ${formatmoneynew(ticket.pricesinviewcurrency.tariff, reservation.viewcurrency)}</td> <td class="right">${reservation.viewcurrency}</td>{{/if}}</tr> <tr class="p20"> <td class="name p20">${$data.l10n.tax}</td> <td class="sum">${formatmoneynew(ticket.prices.tax, ticket.prices.currency)}</td> <td class="right">${ticket.prices.currency}</td>{{if ticket.showpricedifference}}<td class="sum"><div>=</div> ${formatmoneynew(ticket.pricesinviewcurrency.tax, reservation.viewcurrency)}</td> <td class="right">${reservation.viewcurrency}</td>{{/if}}</tr> <tr class="h10"><td colspan="3"></td>{{if ticket.showpricedifference}}<td colspan="2"></td>{{/if}}</tr> <tr> <td class="name">${$data.l10n.baggage}</td> <td class="sum">${formatmoneynew(ticket.prices.baggage, ticket.prices.currency)}</td> <td class="right">${ticket.prices.currency}</td>{{if ticket.showpricedifference}}<td class="sum"><div>=</div> ${formatmoneynew(ticket.pricesinviewcurrency.baggage, reservation.viewcurrency)}</td> <td class="right">${reservation.viewcurrency}</td>{{/if}}</tr>{{if !$data.hidetotal}}<tr> <td class="name">${$data.l10n.service}</td> <td class="sum">${formatmoneynew(ticket.prices.markup, ticket.prices.currency)}</td> <td class="right">${ticket.prices.currency}</td>{{if ticket.showpricedifference}}<td class="sum"><div>=</div> ${formatmoneynew(ticket.pricesinviewcurrency.markup, reservation.viewcurrency)}</td> <td class="right">${reservation.viewcurrency}</td>{{/if}}</tr>{{if ticket.prices.commission}}<tr> <td class="name">${$data.l10n.comission}</td> <td class="sum">${formatmoneynew(ticket.prices.commission, ticket.prices.currency)}</td> <td class="right">${ticket.prices.currency}</td>{{if ticket.showpricedifference}}<td class="sum"><div>=</div> ${formatmoneynew(ticket.pricesinviewcurrency.commission, reservation.viewcurrency)}</td> <td class="right">${reservation.viewcurrency}</td>{{/if}}</tr>{{/if}}{{if ticket.prices.discount}}<tr> <td class="name">${$data.l10n.discount}</td> <td class="sum">${formatmoneynew(ticket.prices.discount, ticket.prices.currency)}</td> <td class="right">${ticket.prices.currency}</td>{{if ticket.showpricedifference}}<td class="sum"><div>=</div> ${formatmoneynew(ticket.pricesinviewcurrency.discount, reservation.viewcurrency)}</td> <td class="right">${reservation.viewcurrency}</td>{{/if}}</tr>{{/if}}{{/if}}{{if ticket.haschange}}<tr> <td class="name">${$data.l10n.change}(${ticket.changetime})</td> <td class="sum">${formatmoneynew(ticket.prices.change, ticket.prices.currency)}</td> <td class="right">${ticket.prices.currency}</td>{{if ticket.showpricedifference}}<td class="sum"><div>=</div> ${formatmoneynew(ticket.pricesinviewcurrency.change, reservation.viewcurrency)}</td> <td class="right">${reservation.viewcurrency}</td>{{/if}}</tr>{{/if}}{{/if}}{{if !$data.hidetotal}}{{if $data.space}}<tr class="receipt_th">{{if ticket.showpricedifference}}<td colspan="5"><div></div></td>{{else}}<td colspan="3"><div></div></td>{{/if}}</tr>{{/if}}<tr class="total_price title">{{if ticket.showpricedifference}}<td class="name">${$data.l10n.total}</td> <td class="sum right" colspan="4">${formatmoneynew(ticket.pricesinviewcurrency.total, reservation.viewcurrency)}${reservation.viewcurrency}</td>{{else}}<td class="name">${$data.l10n.total}</td> <td class="sum right" colspan="2">${formatmoneynew(ticket.prices.total, ticket.prices.currency)}${ticket.prices.currency}</td>{{/if}}</tr>{{/if}}</table>{{if ticket.showratesinfo}}<div class="dashedborder"></div>{{each($r, $rate) ticket.ratesinfo}}<div class="totalexplained">${$rate}</div>{{/each}}{{/if}}<div class="dashedborder"></div>{{if reservation.cancelmeta && ticket.status == "canceled"}}<h5> ${l10n.order.reservation.statuses.canceled}: ${reservation.cancelmeta.formatedtime}, ${reservation.cancelmeta.ip}</h5> <div class="dashedborder"></div>{{/if}}</div> <div id="adfox_14968343856942635"></div> </script> <script id="tmpl_socialshare" type="text/x-jquery-tmpl"> <div class="social invisible"> <span>${l10n.social.share}</span> <a href="" target="_blank" class="fb"></a> <a href="" target="_blank" class="tw"></a>{{if twiket.language == 'ru' || twiket.language.indexof("ua")>-1}}<a href="" target="_blank" class="vk"></a>{{/if}}</div> </script> <script id="tmpl_requeststatus" type="text/x-jquery-tmpl">{{if $item.status == 'paymentcaptured' || $item.status == 'orderpaymentrefunded'}}<span class="label label-success">${l10n.question.request[$item.type]}${l10n.question.request.statuses.success}</span>{{else $item.status == 'waitingforpayment' && $item.paytype != 'cash'}}<span class="label label-important">${l10n.question.request[$item.type]}${l10n.question.request.statuses.waitingforapprove}</span>{{else $item.status == 'waitingforpayment' || $item.status == 'waitingforconfirm'}}<span class="label label-important">${l10n.question.request[$item.type]}${l10n.question.request.statuses.waitingforpayment}</span>{{if $item.extpay}}{{if $item.extpay.rapida}}<div>${l10n.order.externalpayments.code}: ${$item.extpay.rapida.id}</div>{{else $item.extpay["711ua"]}}<div>${l10n.order.externalpayments.code}: ${$item.extpay["711ua"].id}</div>{{/if}}{{/if}}{{else $item.status == 'paymentblocked'}}<span class="label label-important">${l10n.question.request[$item.type]}${l10n.question.request.statuses.inwork[0]}</span>{{else $item.status == 'waitingforapprove'}}<span class="label label-important">${l10n.question.request[$item.type]}${l10n.question.request.statuses.waitingforapprove}</span>{{else}}<span class="label label-warning">${l10n.question.request[$item.type]}${l10n.question.request.statuses.inwork[1]}</span>{{/if}}</script> <script id="tmpl_unpaidreservations" type="text/x-jquery-tmpl"> <div class="unpaid_reservations_block"> <div class="ssl_assurance"> <i class="icon-lock"></i>{{html l10n.payment.html_ssl}}</div> <form action="" class="card_container"> <fieldset class="submit"> <button type="submit" class="btn btn-primary" id="payreservations">${l10n.unpaidreservations.pay}</button> <button class="btn cancel" id="hideunpaidreservationsform">${l10n.ticket.cancel}</button> </fieldset> </form> </div> </script> <script id="tmpl_baggagetype" type="text/x-jquery-tmpl">{{if $data.obg[$item.agetype] && $data.obg[$item.agetype].type == "k"}}{{if twiket.language == 'de'}}{{html l10n.ticket.baggage.replacebyarray([$data.obg[$item.agetype].value+" "+l10n.ticket.kg,"werden"])}}{{else}}{{html l10n.ticket.baggage.replacebyarray([$data.obg[$item.agetype].value+" "+l10n.ticket.kg])}}{{/if}}{{/if}}{{if $data.obg[$item.agetype] && $data.obg[$item.agetype].type == "pc"}}{{if $data.obg[$item.agetype].value == 1}}{{if twiket.language == 'de'}}{{html l10n.ticket.baggage.replacebyarray([$data.obg[$item.agetype].value+" "+l10n.ticket.bags[0],"wird"])}}{{else}}{{html l10n.ticket.baggage.replacebyarray([$data.obg[$item.agetype].value+" "+l10n.ticket.bags[0]])}}{{/if}}{{else}}{{if twiket.language == 'de'}}{{html l10n.ticket.baggage.replacebyarray([$data.obg[$item.agetype].value+" "+l10n.ticket.bags[1],"werden"])}}{{else}}{{html l10n.ticket.baggage.replacebyarray([$data.obg[$item.agetype].value+" "+l10n.ticket.bags[1]])}}{{/if}}{{/if}}{{/if}}</script> <script id="tmpl_tripinfo" type="text/x-jquery-tmpl"> <div class="flightinformation"> <div class="name">{{if twiket.language == "tr"}}${aircmp}-${fltnm}${l10n.ticket.rating}{{else}}${l10n.ticket.rating}${aircmp}-${fltnm}{{/if}}</div> <ul>{{if html_tmpl.flightinfo.ages}}<li>{{if !html_tmpl.flightinfo.ageabs}}<span class="near">≈</span>{{/if}}${showaircraftyears(math.round(html_tmpl.flightinfo.ages.value/12))}</li>{{/if}}{{if html_tmpl.flightinfo.delay && html_tmpl.flightinfo.delay15 && html_tmpl.flightinfo.delay30}}<li> ${l10n.ticket.tooltips.info[1].replacebyarray([math.round(html_tmpl.flightinfo.delay30.value + html_tmpl.flightinfo.delay15.value)])}</li>{{/if}}{{if html_tmpl.flightinfo.late}}<li> ${l10n.ticket.tooltips.info[2].replacebyarray([math.round(html_tmpl.flightinfo.late.value)])}</li>{{/if}}{{if html_tmpl.flightinfo.cancelled}}<li> ${l10n.ticket.tooltips.info[3].replacebyarray([math.round(html_tmpl.flightinfo.cancelled.value)])}</li>{{/if}}{{if html_tmpl.flightinfo.seatsminpe && html_tmpl.flightinfo.seatsmaxpe}}<li> ${(html_tmpl.flightinfo.seatsminpe.value).tofixed()}-${(html_tmpl.flightinfo.seatsmaxpe.value).tofixed()}${l10n.ticket.tooltips.passage}${l10n.ticket.tooltips.chair}(${l10n.ticket.tooltips.e}) </li>{{else html_tmpl.flightinfo.seatpitche}}<li> ${(html_tmpl.flightinfo.seatpitche.value).tofixed()}${l10n.ticket.tooltips.passage}${l10n.ticket.tooltips.chair}(${l10n.ticket.tooltips.e}) </li>{{/if}}{{if html_tmpl.flightinfo.seatsminpb && html_tmpl.flightinfo.seatsmaxpb}}<li> ${(html_tmpl.flightinfo.seatsminpb.value).tofixed()}-${(html_tmpl.flightinfo.seatsmaxpb.value).tofixed()}${l10n.ticket.tooltips.passage}${l10n.ticket.tooltips.chair}(${l10n.ticket.tooltips.b}) </li>{{else html_tmpl.flightinfo.seatpitchb}}<li> ${(html_tmpl.flightinfo.seatpitchb.value).tofixed()}${l10n.ticket.tooltips.passage}${l10n.ticket.tooltips.chair}(${l10n.ticket.tooltips.b}) </li>{{/if}}</ul> </div> </script> <script id="tmpl_airporttooltipcontent" type="text/x-jquery-tmpl"> <div> <ul class="nav nav-list">{{if $.isnumeric(temperature)}}<li class="temperature"> <i class="icon-temperature-{{if temperature > 0}}positive{{else}}negative{{/if}}" title="${l10n.ticket.temperature}"></i> ${l10n.ticket.fortoday}{{if temperature > 0}}+{{/if}}${temperature}${temperaturesign}</li>{{/if}}{{if lat && lon}}<li class="location"> <i class="icon-map-marker" title="${l10n.ticket.showonmap}"></i> <a href="https://maps.google.com/?q=${lat},${lon}&z=12" target="_blank">${l10n.ticket.showonmap}</a> </li>{{/if}}{{if fullurl}}<li class="site"> <i class="icon-home" title="${l10n.ticket.site}"></i> <a href="${fullurl}" target="_blank">${l10n.ticket.viewairportsite}</a> </li>{{/if}}{{if phone}}<li> <i class="icon-info-sign" title="${l10n.ticket.airportphone}"></i> ${l10n.ticket.airportphone}:&nbsp; ${phone}</li>{{/if}}{{if airporttime}}<li> <i class="icon-time" title="${l10n.ticket.currentdatetime}"></i> ${l10n.ticket.currentdatetime}:&nbsp;{{if twiket.language == "en-us"}}${airporttime.format("h:mmt / ddd mmm-dd-yyyy")}{{else}}${airporttime.format("hh:mm / ddd dd-mmm-yyyy")}{{/if}}</li>{{/if}}</ul> </div> </script> <script id="tmpl_options" type="text/x-jquery-tmpl"> <div class="tabbable tabs-left"> <ul class="nav nav-tabs options-nav"> <li id="cancel_item" class="invisible"><div class="options return"></div> <a href="/${json.result[0].customerlanguage}/tlive/states?code=${encryptedcode}&action=cancel" target="_blank"> ${l10n.options.menu[0]}</a> </li> <li id="return_item" class="invisible"><div class="options return"></div> <a href="/${json.result[0].customerlanguage}/tlive/states?code=${encryptedcode}&action=refund" target="_blank"> ${l10n.options.menu[1]}</a> </li> <li id="change_item" class="invisible"><div class="options change"></div> <a href="/${json.result[0].customerlanguage}/tlive/states?code=${encryptedcode}&action=exchange" target="_blank"> ${l10n.options.menu[2]}</a> </li> <li id="support_item" class="invisible"> <div class="options question"></div> <a href="" data-href="http://support.onetwotrip.com/hc/" target="_blank">${l10n.options.menu[5]}</a> </li> </ul> <div class="tab-content" id="mainoptions">{{if $data.selectedreservation.cancancelticket}}<div class="tab-pane" id="info-cancel"> <div class="requestblock"> <div class="name requesthead">${l10n.options.cancel.name}</div> <div class="requestbody"> <div> <span class="label label-warning">№${$data.selectedticket.ticketnumber}, ${$data.selectedticket.lastname}${$data.selectedticket.firstname}</span> </div> <br> <div id="timer">{{html l10n.options.cancel.timertext}}<span class='bold nowrap' id='canceltimer'></span>. </div> <br> <div id="notificationtext">{{if twiket.language === "ru" && $data.selectedticket.vzr}}<p/> <div class="message"> <div class="label label-success"><div class="ownerinfo"><i class="icon-heart icon-white"></i> у вас оформлена страховка выезжающего за рубеж</div></div> <div class="comment well"> <p>при отмене авиабилета, действующий полис не отменяется.<br/>для инициации отмены полиса обратитесь по телефону: 8 (800) 333 04 93</p> </div> </div>{{/if}}</div> <div id="confirmationstep"> <div class="cancel-ticket-passenger"> <div>${l10n.options.cancel.chooseticket}:</div> <input type="checkbox" id="cancel_{$data.selectedticket.ticketnumber}"/><label for="cancel_{$data.selectedticket.ticketnumber}">№${$data.selectedticket.ticketnumber}, ${$data.selectedticket.lastname}${$data.selectedticket.firstname}</label> </div> <div id="voidreasonblock"> <div id="reasonmsg"> ${l10n.options.cancel.reasons[0]}: </div> <div class="control-group"> <label class="radio"> <input id="reason1" type="radio" value="datemistake" name="voidreason"> ${l10n.options.cancel.reasons[1]}</label> <label class="radio"> <input id="reason2" type="radio" value="wrongpassdata" name="voidreason"> ${l10n.options.cancel.reasons[2]}</label> <label class="radio"> <input id="reason3" type="radio" value="changeplan" name="voidreason"> ${l10n.options.cancel.reasons[3]}</label> <label class="radio"> <input id="reason4" type="radio" value="other" name="voidreason"> ${l10n.options.cancel.reasons[4]}</label> </div> <button id="submitvoidreason" class="btn btn-primary">${l10n.options.cancel.cancelbutton}</button> </div> <div id="cardblock"> <form class="cancellationcardform" method="post" action=""> <div class="cancellationsum"></div> <div class="cancellationcard"></div> <div class="agreerules"> <label class="checkbox"> <input type="checkbox" name="agreerules"/> ${l10n.question.request.agreerules[0]}</label> </div> <div class="submit"> <span class="returnprice"></span><button type="submit" id="submitcardblock" class="btn btn-primary">${l10n.question.request.pay}</button> </div> </form> </div> </div> <div class="loader"></div> </div> </div> </div>{{/if}}<div class="tab-pane" id="info-returns">{{tmpl($data) "tmpl_return"}}{{tmpl($data.selectedticket,{type: 'returns'}) "tmpl_questionlist"}}</div> <div class="tab-pane" id="info-changes">{{tmpl($data) "tmpl_change"}}{{tmpl($data.selectedticket,{type: 'changes'}) "tmpl_questionlist"}}</div>{{if $data.showgeneralquestions}}<div class="tab-pane" id="info-questions">{{tmpl($data.selectedticket) "tmpl_newquestion"}}{{tmpl($data.selectedticket,{type: 'general'}) "tmpl_questionlist"}}</div>{{/if}}</div> </div> <div class="dashedborder"></div> </script> <script id="tmpl_questionlist" type="text/x-jquery-tmpl"> <div class="qlist">{{each($i, $req) $data.requests[$item.type]}}{{tmpl($req) "tmpl_singlequestion"}}{{/each}}</div> </script> <script id="tmpl_singlequestion" type="text/x-jquery-tmpl"> <div rid="${$data.id}" type="${$data.tp}"{{if $data.reqtype}}reqtype="${$data.reqtype}"{{/if}}> <table class="simple hover"> <tr> <td> <div class="namewrap"> <div class="name"> ${$data.subject}</div>{{if $data.reqstatus}}{{if $data.reqstatus == 'paymentcaptured' || $data.reqstatus == 'orderpaymentrefunded'}}<span class="label label-success">${l10n.question.request.statuses.success}</span>{{else $data.reqstatus == 'waitingforpayment' && $data.paytype != 'cash'}}<span class="label label-important">${l10n.question.request.statuses.waitingforapprove}</span>{{else $data.reqstatus == 'waitingforpayment' || $data.reqstatus == 'waitingforconfirm'}}<span class="label label-important">${l10n.question.request.statuses.waitingforpayment}</span>{{else $data.reqstatus == 'paymentblocked'}}<span class="label label-important">${l10n.question.request.statuses.paymentblocked}</span>{{else $data.reqstatus == 'waitingforapprove'}}<span class="label label-important">${l10n.question.request.statuses.waitingforapprove}</span>{{else $data.status == 'closed'}}<span class="label label-info">${l10n.question.request.statuses.closed}</span>{{else}}<span class="label label-warning">${l10n.question.request.statuses.inprocess}</span>{{/if}}{{else}}{{if $data.status == 'open'}}{{if $data.messagetype == 'complaint'}}<span class="label label-warning">${l10n.question.item.open.complaint}</span>{{else $data.messagetype == 'suggestion'}}<span class="label label-warning">${l10n.question.item.open.suggestion}</span>{{else}}<span class="label label-warning">${l10n.question.item.open.def}</span>{{/if}}{{else}}{{if $data.messagetype == 'complaint'}}<span class="label label-success">${l10n.question.item.closed.complaint}</span>{{else $data.messagetype == 'suggestion'}}<span class="label label-success">${l10n.question.item.closed.suggestion}</span>{{else}}<span class="label label-success">${l10n.question.item.closed.def}</span>{{/if}}{{/if}}{{/if}}<span class="show_more"><span class="dashed">${l10n.question.more}</span>&hellip;</span> </div> </td> </tr> </table> <div class="dialogue"></div> </div> </script> <script id="tmpl_newquestion" type="text/x-jquery-tmpl"> <div class="requestblock"> <div class="name requesthead"><span class="dashed">${l10n.question.item.create}</span></div> <div class="requestbody"> <div class="greetings">{{if twiket.language.indexof('en') < 0}}{{if $data.gender == "m"}}${l10n.question.item.faq.appeal[0]}{{else}}${l10n.question.item.faq.appeal[1]}{{/if}}${" "}<b>${$data.lastname.tolowercase()}${$data.firstname.tolowercase()}</b>,<br/>{{/if}}{{html l10n.question.item.faq.html}}</div>{{if twiket.language == 'ru'}}<a class="btn btn-danger" id='m_help' href="http://support.onetwotrip.com/hc/ru/requests/new" target="_blank"> <i class="icon-comment icon-white"></i> ${l10n.question.connectwithsupport}</a>{{else}}<form class="tw-form" id="questionform" method="post" action=""> <div> <div class="control-group"> <label class="radio"> <input id="type1" type="radio" value="question" name="qtype"> ${l10n.question.item.type.def}</label> <label class="radio"> <input id="type2" type="radio" value="suggestion" name="qtype"> ${l10n.question.item.type.suggestion}</label> <label class="radio"> <input id="type3" type="radio" value="complaint" name="qtype"> ${l10n.question.item.type.complaint}</label> </div> <textarea class="well" placeholder="${l10n.question.item.placeholder.def}"></textarea> <div class="submit"> <button class="btn btn-danger"><i class="icon-comment icon-white"></i> ${l10n.question.send}</button><div class="loader"></div> </div> </div> </form>{{/if}}</div> </div> </script> <script id="tmpl_singlecomment" type="text/x-jquery-tmpl">{{if $data.comment != ''}}<div class="message">{{if $data.author && $data.author == 'operator'}}<div class="label label-info"><div class="ownerinfo"><i class="icon-user icon-white"></i> ${l10n.question.types.operator}{{tmpl($data.date) "tmpl_msgdatetime"}}</div></div>{{else $data.author && $data.author == 'system'}}<div class="label label-warning"><div class="ownerinfo"><i class="icon-exclamation-sign icon-white"></i> ${l10n.question.types.system}{{tmpl($data.date) "tmpl_msgdatetime"}}</div></div>{{else}}<div class="label"><div class="ownerinfo"><i class="icon-user icon-white"></i> ${l10n.question.types.client}{{tmpl($data.date) "tmpl_msgdatetime"}}</div></div>{{/if}}<div class="comment well">{{html $data.comment}}</div> </div>{{/if}}</script> <script id="tmpl_commentdatetime" type="text/x-jquery-tmpl"> <div class="commenttime">${$data.format("localshortdate")}, <i class="icon-time icon-white"></i> ${$data.format("localshorttime")}(+${-$data.gettimezoneoffset()/60}gmt)</div> </script> <script id="tmpl_passengerslist" type="text/x-jquery-tmpl"> <ul class="passengers-list">{{each($i, $t) $data.tickets}}<li> <b>{{if $t.seat}}${$t.seat}{{else}}<small>${l10n.order.services.seat.select}</small>{{/if}}</b> ${$t.ticket.firstname}${$t.ticket.lastname}</li>{{/each}}</ul> </script> <script id="tmpl_tripslist" type="text/x-jquery-tmpl"> <div class="control-group flights-list">{{each($i, $t) $data.trips}}{{if !trip.hide}}<label class="checkbox"> <input type="radio" value="${$i}" name="trip" />{{if ref.getcity($t.trip.from).parent}}<span class="big">${ref.getcityname($t.trip.from)}</span>, ${ref.countries[ref.getcity($t.trip.from).parent].name}{{else}}<span class="big">${ref.getcityname($t.trip.from)}</span>{{/if}}<span> → </span>{{if ref.getcity($t.trip.to).parent}}<span class="big">${ref.getcityname($t.trip.to)}</span>, ${ref.countries[ref.getcity($t.trip.to).parent].name},{{else}}<span class="big">${ref.getcityname($t.trip.to)}</span>{{/if}}<span style="color: #666"> ${" " + l10n.ticket.departure}{{if twiket.language != 'ru' && twiket.language.indexof("ua")<0}}${" " + $t.trip.stdt_date.getdate() + " " + l10n.calendar.months_d[($t.trip.stdt_date.getmonth())]}${$t.trip.stdt_date.format("localshorttime")}, ${l10n.calendar.days_n[($t.trip.stdt_date.getday())]}{{else}}${" " + $t.trip.stdt_date.getdate() + " " + l10n.calendar.months_d[($t.trip.stdt_date.getmonth())].tolowercase()}${$t.trip.stdt_date.format("localshorttime")}, ${l10n.calendar.days_n[($t.trip.stdt_date.getday())].tolowercase()}{{/if}}</span> </label>{{/if}}{{/each}}</div> </script> <script id="tmpl_return" type="text/x-jquery-tmpl"> <div class="toggleoperation"> <div class="name">${l10n.returns.isactiverequest}</div> </div>{{if $data.selectedticket.refunded}}<div class="requestblock"> <div class="name requesthead">${l10n.returns.refunded}</div> </div>{{else $data.selectedreservation.tripscanceled}}<div class="requestblock"> <div class="name requesthead">${l10n.returns.tripscanceled}</div> </div>{{else}}<div class="requestblock">{{if $data.selectedticket.isreturnslimited}}<div class="name requesthead">${l10n.returns.cantmake}</div>{{html l10n.returns.limitrequest}}{{else $data.selectedreservation.allused}}<div class="name requesthead">${l10n.returns.cantmake}</div>{{else}}<div class="name requesthead"><span class="dashed">{{if $data.selectedticket.requests.returns.length>0}}${l10n.returns.newinit[0]}{{else}}${l10n.returns.newinit[1]}{{/if}}</span></div> <div class="requestbody" id="return_info"> <div class="control-group invisible">{{html l10n.returns.faq}}</div>{{tmpl($data) "tmpl_passengerscollection"}}<div class="infoselection">{{tmpl($data.selectedreservation) "tmpl_choosedirections"}}<div id="returntypes"> <div class="comment-group"> <div class="infohead">${l10n.returns.types.choose}</div> </div> <div class="accordion" id="returnoptions">{{if !$data.selectedreservation.pricefreezeinfo && !$data.isauc}}<div class="accordion-group"> <div class="accordion-heading"> <a href="#collapseone" data-parent="#returnoptions" data-toggle="collapse" class="accordion-toggle"><b>${l10n.returns.types.name[0]}</b></a> </div> <div class="accordion-body collapse" id="collapseone"> <div class="accordion-inner">{{if $data.selectedreservation.canrefund}}<form class="form-horizontal form" method="post"> <fieldset> <div class="control-group"> <label class="radio"> <input id="return0" type="radio" checked="checked" value="0" name="return">{{html l10n.returns.variants.r0}}</label> <label class="radio"> <input id="return2" type="radio" value="2" name="return"> ${l10n.returns.variants.r2}</label> </div> <div class="comment-group"> <div class="message"> <div class="label label-warning"><div class="ownerinfo"><i class="icon-exclamation-sign icon-white"></i> ${l10n.question.warning}</div></div> <div class="comment well importantinformation">{{html l10n.returns.comment.removeplaces}}{{if $data.selectedreservation.paytype == 'card'}}<p>${l10n.returns.refundcomment1}</p>{{/if}}</div> </div>{{if twiket.language === "ru" && $data.selectedticket.vzr}}<div class="message"> <div class="label label-success"><div class="ownerinfo"><i class="icon-heart icon-white"></i> у вас оформлена страховка выезжающего за рубеж</div></div> <div class="comment well"> <p>при обмене/возврате авиабилета, действующий полис не отменяется.<br/>для инициации отмены/переоформления полиса обратитесь по телефону: 8 (800) 333 04 93</p> </div> </div>{{/if}}</div> <div class="returnagreement"> <label class="checkbox"> <input type="checkbox" name="returnagreement"/> <b>${l10n.returns.removeagreement}</b> </label> </div> <div class="submit"> <span class="makereturn action"> <button type="submit" class="btn btn-danger"><i class="icon-comment icon-white"></i> ${l10n.returns.options[0]}</button> </span> <span class="calculatereturn action invisible"> <button type="submit" class="btn btn-danger"><i class="icon-comment icon-white"></i> ${l10n.returns.options[1]}</button> </span> <div class="loader"></div> </div> </fieldset> </form>{{else}}<p>${l10n.returns.rejectedbyrules}</p>{{if twiket.language == 'ru' && !$data.selectedreservation.partused && ref.getcountrycode($data.selectedreservation.arrdirectionsall[0].trips[0].from) == "ru"}}{{/if}}{{/if}}</div> </div> </div>{{/if}}<div class="accordion-group"> <div class="accordion-heading"> <a href="#collapsetwo" data-parent="#returnoptions" data-toggle="collapse" class="accordion-toggle"><b>${l10n.returns.types.name[1]}</b></a> </div> <div class="accordion-body collapse" id="collapsetwo"> <div class="accordion-inner"> <form class="form-horizontal form" method="post"> <fieldset> <div class="comment-group">{{html l10n.returns.forcerefundcomment1}}</div> <div class="control-group"> <label class="radio"> <input id="return3" type="radio" checked="checked" value="3" name="return"> ${l10n.returns.variants.r3}</label> <label class="radio"> <input id="return4" type="radio" value="4" name="return"> ${l10n.returns.variants.r4}</label> <label class="radio"> <input id="return5" type="radio" value="5" name="return"> ${l10n.returns.variants.r5}</label> <label class="radio"> <input id="return6" type="radio" value="6" name="return"> ${l10n.returns.variants.r6}</label> </div> <div class="comment-group"> <div class="message"> <div class="label label-warning"><div class="ownerinfo"><i class="icon-exclamation-sign icon-white"></i> ${l10n.question.warning}</div></div> <div class="comment well">{{html l10n.returns.forcerefundcomment2}}<p>${l10n.returns.forceexplain1}</p>{{if $data.selectedreservation.paytype == 'card'}}<p>${l10n.returns.forceexplain2}</p>{{/if}}</div> </div> </div> <div class="control-group"> <label class="radio"> <input id="return7" type="radio" value="7" name="return"> ${l10n.returns.variants.r7}</label> <label class="radio"> <input id="return8" type="radio" value="8" name="return"> ${l10n.returns.variants.r8}</label> </div> <div class="comment-group"> <div class="message"> <div class="label label-warning"><div class="ownerinfo"><i class="icon-exclamation-sign icon-white"></i> ${l10n.question.warning}</div></div> <div class="comment well importantinformation">{{html l10n.returns.forcerefundcomment3}}</div> </div>{{if twiket.language === "ru" && $data.selectedticket.vzr}}<div class="message"> <div class="label label-success"><div class="ownerinfo"><i class="icon-heart icon-white"></i> у вас оформлена страховка выезжающего за рубеж</div></div> <div class="comment well"> <p>при обмене/возврате авиабилета, действующий полис не отменяется.<br/>для инициации отмены/переоформления полиса обратитесь по телефону: 8 (800) 333 04 93</p> </div> </div>{{/if}}</div> <div class="returnagreement"> <label class="checkbox"> <input type="checkbox" name="returnagreement"/> <b>${l10n.returns.removeagreement}</b> </label> </div> <div class="submit"> <button type="submit" class="btn btn-danger"><i class="icon-comment icon-white"></i> ${l10n.returns.options[0]}</button> <div class="loader"></div> </div> </fieldset> </form> </div> </div> </div> </div> </div> </div> </div>{{/if}}</div>{{/if}}</script> <script id="tmpl_choosedirections" type="text/x-jquery-tmpl"> <div class="comment-group"> <div class="infohead">${l10n.returns.choosedirections}</div>{{if $data.arrdirections.length>1}}{{html l10n.returns.segmentsinfo}}{{/if}}</div> <div class="control-group">{{each($i, $direction) $data.arrdirections}}{{if !$direction.used}}<label class="checkbox{{if $direction.departed}}tgray{{/if}}"> <input id="trips_${$direction.tripsid}" type="checkbox" value="${$direction.tripsid}" name="route"/>{{if ref.getcity($direction.trips[0].from).parent}}<span class="big"> ${ref.getcityname($direction.trips[0].from) + ", "}</span> ${ref.countries[ref.getcity($direction.trips[0].from).parent].name}{{else}}<span class="big">${ref.getcityname($direction.trips[0].from)}</span>{{/if}}<span> → </span> <span class="big">${ref.getcityname($direction.trips[$direction.trips.length - 1].to) + ", "}</span>{{if ref.getcity($direction.trips[$direction.trips.length - 1].to).parent}}${ref.countries[ref.getcity($direction.trips[$direction.trips.length - 1].to).parent].name + ", "}{{/if}}${l10n.ticket.departure}${' '}{{if twiket.language != 'ru' && twiket.language.indexof("ua")<0}}<span class="big">${$direction.trips[0].stdt_date.getdate() + " " + l10n.calendar.months_d[($direction.trips[0].stdt_date.getmonth())]}${$direction.trips[0].stdt_date.format("localshorttime")}</span> ${", " + l10n.calendar.days_n[($direction.trips[0].stdt_date.getday())]}{{else}}<span class="big">${$direction.trips[0].stdt_date.getdate() + " " + l10n.calendar.months_d[($direction.trips[0].stdt_date.getmonth())].tolowercase()}${$direction.trips[0].stdt_date.format("localshorttime")}</span> ${", " + l10n.calendar.days_n[($direction.trips[0].stdt_date.getday())].tolowercase()}{{/if}}</label>{{/if}}{{/each}}</div> </script> <script id="tmpl_passengerscollection" type="text/x-jquery-tmpl"> <div class="passengerscollection"> <div class="comment-group"> <div class="infohead">${l10n.changes.choosepassengers}</div> </div> <div class="control-group"> <label class="checkbox"> <input type="checkbox" name="pascollection" rid="${$data.selectedreservation.id}" tid="${$data.selectedticket.id}"/>${$data.selectedticket.firstname + ' ' + $data.selectedticket.lastname}</label>{{each($i, $reservation) $data.json.result[0].reservations}}{{if $reservation.status != 'canceled' && !$reservation.tripscanceled && $reservation.tripskey == $data.selectedreservation.tripskey}}{{each($j, $ticket) $reservation.tickets}}{{if $ticket.status == "issued" && !$ticket.refunded && !$ticket.activechange && !$ticket.activereturn && ($data.selectedreservation.id != $reservation.id || ($data.selectedreservation.id == $reservation.id && $ticket.id != $data.selectedticket.id) )}}<label class="checkbox"> <input type="checkbox" name="pascollection" rid="${$reservation.id}" tid="${$ticket.id}"/>${$ticket.firstname + ' ' + $ticket.lastname}</label>{{/if}}{{/each}}{{/if}}{{/each}}</div> </div> </script> <script id="tmpl_layoutresult" type="text/x-jquery-tmpl"> <div class="searchresult"> <div class="routeheader">{{if $item.changes}}${l10n.changes.result.replaceon}${$item.flights}{{else}}{{html l10n.changes.result.routehead[1]}}${direction[0].from}&rarr; ${direction[0].to}${', '}{{if twiket.language != 'ru' && twiket.language.indexof("ua")<0}}${direction[0].startdate.format("mmmm dd") + ', ' + direction[0].startdate.format("dddd")}{{else}}${string(direction[0].startdate.format("dd mmmm") + ', ' + direction[0].startdate.format("dddd").tolowercase())}{{/if}}{{if $item.defaultcls != direction[0].srvcls}}${' ('}{{if direction[0].srvcls == 'f'}}${l10n.changes.cls.f.tolowercase()}{{else direction[0].srvcls == 'b'}}${l10n.changes.cls.b.tolowercase()}{{else}}${l10n.changes.cls.e.tolowercase()}{{/if}}${' '}${l10n.changes.cls.name}${')'}{{/if}}{{/if}}</div> <div class="f_cont"> <div class="head"> <table> <tr> <td class="departure"><span st="departure">${l10n.searchresult.tableheader[0]}</span></td> <td class="journey"><span st="journey">${l10n.searchresult.tableheader[1]}</span></td> <td class="arrival"><span st="arrival">${l10n.searchresult.tableheader[2]}</span></td> <td class="ak"><span st="ak">${l10n.searchresult.tableheader[3]}</span></td> <td class="route"><span st="route">${l10n.searchresult.tableheader[4]}</span></td> <td class="price">{{if $item.changes}}<span>${l10n.changes.result.departure}</span>{{else}}<span st="price"></span>{{/if}}</td> </tr> </table>{{if !$item.changes}}<button type="button" class="btn btn-info changesearch">${l10n.changes.result.newsearch}</button>{{/if}}</div> <div class="dataflights"></div> </div> </div> </script> <script id="tmpl_singletrip" type="text/x-jquery-tmpl"> <div class="rowwrapper"> <div class="rowitem avl" id="${tripids[$item.dir]}-${tripids}" fi="${flightindex}"> <table> <tr> <td class="departure">${html_tmpl.starttime[$item.dir]}</td> <td class="journey"> <div class="arrow"> <div class="jt"> ${html_tmpl.durationjourneytimeshort[$item.dir]}</div> </div> </td> <td class="arrival">${html_tmpl.endtime[$item.dir]}</td> <td class="ak" title="${html_tmpl.bytrips.airline[$item.dir][0]}"> <img src="twiketlive/img/ak/${html_tmpl.bytrips.logo[$item.dir][0]}.png" alt=""/><div class="ellipsis akname">${html_tmpl.bytrips.airline[$item.dir][0]}</div> </td> <td class="route"> <div class="ellipsis">{{html html_tmpl.bytrips.html_route[$item.dir]}}</div> </td> <td class="price">{{if showchangesurcharge}}<button type="button" class="btn">${formatmoneynew(amountfare, twiket.currency)}${twiket.currency}</button>{{else}}<button type="button" class="btn">${l10n.changes.result.select}</button>{{/if}}</td> </tr> </table> </div> </div> </script> <script id="tmpl_moretripsinfo" type="text/x-jquery-tmpl"> <div class="moreinfo invisible"> <div class="tripblock">{{tmpl($data.flight,{dir: $item.dir, showprice: $item.showprice}) "tmpl_selectedtripinfo"}}</div> </div> </script> <script id="tmpl_selectedtripinfo" type="text/x-jquery-tmpl"> <div class="{{if $item.dir==1}}secondselected{{else}}firstselected{{/if}}" fi="${$data.flightindex}" sid="${$data.searchid}"> <div class="closeinfo"><div class="cross"></div></div>{{each(i) $data.tripids[$item.dir]}}<div class="rowitem selectedtrip"> <table> <tr> <td class="departure">${$data.html_tmpl.bytrips.starttime[$item.dir][i]}</td> <td class="journey"> <div class="arrow"> <div class="jt"> ${$data.html_tmpl.bytrips.durationjourneytimeshort[$item.dir][i]}</div> </div> </td> <td class="arrival">${$data.html_tmpl.bytrips.endtime[$item.dir][i]}</td> <td class="ak" title="${$data.html_tmpl.bytrips.airline[$item.dir][i]}"> <img src="twiketlive/img/ak/${$data.html_tmpl.bytrips.logo[$item.dir][i]}.png" alt=""/><div class="akname ellipsis">${$data.html_tmpl.bytrips.airline[$item.dir][i]}</div> </td> <td class="route" title="${$data.html_tmpl.bytrips.flightinfodirect[$item.dir][i]}"> <div class="ellipsis"> ${$data.html_tmpl.bytrips.flightinfodirect[$item.dir][i]}</div> </td> <td class="price"> <div class="tripdate">${$data.html_tmpl.bytrips.startdate[$item.dir][i]}</div> </td> </tr> <tr class="additional"> <td colspan="3"></td> <td class="subak"> <div class="ellipsis" title="${$data.html_tmpl.bytrips.planes[$item.dir][i]}"> ${$data.html_tmpl.bytrips.planes[$item.dir][i]}</div> </td> <td colspan="2" class="subroute"> ${$data.html_tmpl.bytrips.flightnumber[$item.dir][i]}{{if $data.everytripak[$item.dir][i] != $data.opeverytripak[$item.dir][i]}}${', ' + l10n.searchresult.block.item.operated}${$data.html_tmpl.bytrips.operatedairline[$item.dir][i]}{{/if}}${', '}{{if $data.serviceclasses[$item.dir][i] == 'f'}}${l10n.changes.cls.f}{{else $data.serviceclasses[$item.dir][i] == 'b'}}${l10n.changes.cls.b}{{else}}${l10n.changes.cls.e}{{/if}}${' '}(${$data.classes[$item.dir][i]}){{if $item.showprice}}${', '+l10n.changes.result.places}: ${$data.tripsseatavl[$item.dir][i]}{{/if}}</td> </tr>{{if $data.html_tmpl.bytrips.durationstoptime[$item.dir][i]}}<tr class="smallinfo"> <td colspan="3"> <td colspan="3"> <div> ${l10n.searchresult.block.item.board}${$data.html_tmpl.bytrips.durationstoptime[$item.dir][i]}</div> </td> </tr>{{/if}}</table> </div>{{/each}}</div>{{if $item.showprice}}<div class="priceblock submit">{{if $data.showchangesurcharge}}{{tmpl($data.amountdetails) "#tmpl_changesurchargetableprice"}}{{/if}}<div class="loader"></div> <button type="button" class="btn btn-danger buttonprice" fi="${$data.flightindex}">${l10n.changes.result.select}</button> </div>{{/if}}</script> <script id="tmpl_field" type="text/x-jquery-tmpl"> <div class="control-group">{{if $data.checkbox}}<div class="checkbox"> <input type="checkbox" autocomplete="off" name="${name}_flag" id="input_${name}_flag" value="true" checked="checked"/> </div>{{/if}}<input type="${$data.inputtype}" autocomplete="${$data.autocomplete}" name="${$data.name}" id="input_${$data.name}" value="${$data.value}" maxlength="${$data.maxlength}"/> </div> </script> <script id="tmpl_card" type="text/x-jquery-tmpl"> <div class="block_creditcard"> <div class="creditcard avers"> <div class="visa-logo"></div> <div class="mastercard-logo"></div> <div class="cardnumber"> <label for="input_number">${l10n.card.fields[0]}</label> <div class="number"></div> </div> <div class="expdate"> <table> <tr> <td class="expmonthlabel"><label for="input_expmonth">${l10n.card.fields[1]}</label></td> <td class="expyearlabel"><label for="input_expyear">${l10n.card.fields[2]}</label></td> </tr> <tr> <td class="expmonth"> <label for="input_expmonth">{{html l10n.card.fields[3]}}</label> </td> <td class="expyear"></td> </tr> </table> </div> <div class="holdername"> <label for="input_holdername">${l10n.card.fields[4]}</label> </div> </div> <div class="creditcard reverse"> <div class="cvv"> <label for="input_cvv">${l10n.card.fields[5]}</label> </div> </div> </div> </script> <script id="tmpl_cardauthorization" type="text/x-jquery-tmpl"> <div> <div class="note">{{html l10n.cardauth.html_cardcheckcomment}}</div> <div class="title2">${l10n.cardauth.cvv}</div> <table class="form"><tr> <td> <form id="form_cardauthorization"> <div class="code"></div> <button type="submit" class="btn btn-danger">${l10n.cardauth.confirm}</button> </form> </td> <td class="error"> <div class="invisible">${l10n.cardauth.errorcode}</div> </td> </tr></table> <div class="note">{{html l10n.cardauth.notecode}}</div> <table class="picture"> <tr> <td> <div class="title3">${l10n.cardauth.titlesms}</div> <div class="pic phone"></div> <div class="note">${l10n.cardauth.notesms}</div> </td> <td> <div class="title3">${l10n.cardauth.titlebank}</div> <div class="pic ebank"></div> <div class="note">${l10n.cardauth.notebank}</div> </td> <td> <div class="title3">${l10n.cardauth.titlecard}</div> <div class="pic card"></div> <div class="note">${l10n.cardauth.notecard}</div> </td> </tr> </table> <div class="note warn">${l10n.cardauth.warncode}</div> </div> </script> <script id="tmpl_hint" type="text/x-jquery-tmpl"> <div class="hint ${$data.classname}"> <div class="abs"><div class="tl"></div><div class="tr"></div><div class="bl"></div><div class="br"></div><div class="t"></div><div class="r"></div><div class="b"></div><div class="l"></div><div class="c"></div><div class="arrup"></div></div>{{if $data.error}}{{if $data.errortype == 'required'}}${l10n.hint.required}{{else $data.errortype == "passwordmatch"}}${l10n.hint.dismatchpasswords}{{else $data.errortype == "lowregpas"}}${l10n.hint.shortpassword}{{else $data.errortype == "cvv"}}${l10n.hint.neednumber}{{else}}{{if $data.type == "email"}}${l10n.hint.wrongaddress}{{else $data.type == "gender"}}${l10n.hint.gender}{{else $data.type == "birthdate"}}{{if $data.errortype == "age"}}${l10n.hint.wrongagetype}{{else $data.errortype == "wrong"}}${l10n.hint.wrongbirthdate}{{/if}}{{else $data.type == "expdate"}}{{if $data.errortype == "expired"}}${l10n.hint.expireddoc}{{else $data.errortype == "wrong"}}${l10n.hint.wrongdoc}{{/if}}{{else $data.type == "cardnumber"}}{{if $data.errortype == "luhn"}}${l10n.hint.wrongcardnumber}{{else}}${l10n.hint.needcardnumber}{{/if}}{{else $data.type == "number" && $data.errortype == "expired"}}${l10n.hint.expiredcard}{{/if}}{{/if}}{{else $data.warn}}{{if $data.type == "email"}}{{html l10n.hint.html_erroremail}}{{else $data.type == "phone"}}{{html l10n.hint.html_errorsms}}{{/if}}{{else}}{{if $data.type == "phone"}}${l10n.hint.format.phone}{{else $data.type == "name"}}{{if $data.hinttype == "cardname"}}${l10n.hint.format.cardname}{{else}}${l10n.hint.format.passportname}{{/if}}{{else $data.type == "birthdate"}}${l10n.hint.format.date}{{else $data.type == "passport"}}{{html l10n.hint.format.html_doc}}{{else $data.type == "expdate"}}${l10n.hint.format.date}{{else $data.hinttype == "regpas"}}${l10n.hint.format.password}{{/if}}{{/if}}</div> </script> <script id="tmpl_onetimepas" type="text/x-jquery-tmpl"> <div>{{if $data.existed}}{{html l10n.question.onetimepas.comment1}}{{else}}{{html l10n.question.onetimepas.comment2}}{{/if}}<form class="tw-form" method="post" id="onetimepasform"> <div class="input-prepend control-group"> <span class="add-on"><i class="icon-qrcode"></i></span> <input type="text" value="" name="code" maxlength="8" placeholder="${l10n.question.onetimepas.code}"/> </div> <div id="onetimepascaptcha" class="captcha-container"></div> <div class="submit"> <button type="submit" class="btn btn-primary">${l10n.question.onetimepas.confirm}</button><div class="loader"></div> </div> </form> </div> </script> <script id="tmpl_baloonflightstars" type="text/x-jquery-tmpl"> <div class="stars_baloon"> <ul>{{if flightinfo.delay && flightinfo.delay15 && flightinfo.delay30}}<li> <div class="info_stars" style="width: ${flightinfo.delay.width.stars}px"></div><div class="info_half_stars" style="width: ${flightinfo.delay.width.halfstar}px"></div><div class="info_empty_stars" style="width: ${flightinfo.delay.width.emptystars}px"></div> <div class="comment"> ${l10n.ticket.tooltips.info[0].replacebyarray([math.round(flightinfo.delay15.value)])}</div> </li> <li> <div class="info_stars" style="width: ${flightinfo.delay.width.stars}px"></div><div class="info_half_stars" style="width: ${flightinfo.delay.width.halfstar}px"></div><div class="info_empty_stars" style="width: ${flightinfo.delay.width.emptystars}px"></div> <div class="comment"> ${l10n.ticket.tooltips.info[1].replacebyarray([math.round(flightinfo.delay30.value)])}</div> </li>{{/if}}{{if flightinfo.late}}<li> <div class="info_stars" style="width: ${flightinfo.late.width.stars}px"></div><div class="info_half_stars" style="width: ${flightinfo.late.width.halfstar}px"></div><div class="info_empty_stars" style="width: ${flightinfo.late.width.emptystars}px"></div> <div class="comment"> ${l10n.ticket.tooltips.info[2].replacebyarray([math.round(flightinfo.late.value)])}</div> </li>{{/if}}{{if flightinfo.cancelled}}<li> <div class="info_stars" style="width: ${flightinfo.cancelled.width.stars}px"></div><div class="info_half_stars" style="width: ${flightinfo.cancelled.width.halfstar}px"></div><div class="info_empty_stars" style="width: ${flightinfo.cancelled.width.emptystars}px"></div> <div class="comment"> ${l10n.ticket.tooltips.info[3].replacebyarray([math.round(flightinfo.cancelled.value)])}</div> </li>{{/if}}{{if flightinfo.ages}}<li> <div class="info_stars" style="width: ${flightinfo.ages.width.stars}px"></div><div class="info_half_stars" style="width: ${flightinfo.ages.width.halfstar}px"></div><div class="info_empty_stars" style="width: ${flightinfo.ages.width.emptystars}px"></div> <div class="comment">{{if !flightinfo.ageabs}}≈{{/if}}${showaircraftyears(math.round(flightinfo.ages.value/12))}</div> </li>{{/if}}{{if flightinfo.seatpitche}}<li> <div class="info_stars" style="width: ${flightinfo.seatpitche.width.stars}px"></div><div class="info_half_stars" style="width: ${flightinfo.seatpitche.width.halfstar}px"></div><div class="info_empty_stars" style="width: ${flightinfo.seatpitche.width.emptystars}px"></div> <div class="comment">${(flightinfo.seatpitche.value).tofixed()}${l10n.ticket.tooltips.passage}${l10n.ticket.tooltips.chair}(${l10n.ticket.tooltips.e})</div> </li>{{/if}}{{if flightinfo.seatpitchb}}<li> <div class="info_stars" style="width: ${flightinfo.seatpitchb.width.stars}px"></div><div class="info_half_stars" style="width: ${flightinfo.seatpitchb.width.halfstar}px"></div><div class="info_empty_stars" style="width: ${flightinfo.seatpitchb.width.emptystars}px"></div> <div class="comment">${(flightinfo.seatpitchb.value).tofixed()}${l10n.ticket.tooltips.passage}${l10n.ticket.tooltips.chair}(${l10n.ticket.tooltips.e})</div> </li>{{/if}}{{if flightinfo.seatsminpe && flightinfo.seatsmaxpe}}<li> <div class="nostarscomment"> ${(flightinfo.seatsminpe.value).tofixed()}-${(flightinfo.seatsmaxpe.value).tofixed()}${l10n.ticket.tooltips.passage}${l10n.ticket.tooltips.chair}(${l10n.ticket.tooltips.e}) </div> </li>{{/if}}{{if flightinfo.seatsminpb && flightinfo.seatsmaxpb}}<li> <div class="nostarscomment"> ${(flightinfo.seatsminpb.value).tofixed()}-${(flightinfo.seatsmaxpb.value).tofixed()}${l10n.ticket.tooltips.passage}${l10n.ticket.tooltips.chair}(${l10n.ticket.tooltips.b}) </div> </li>{{/if}}</ul> </div> </script> <script id="tmpl_preloader" type="text/x-jquery-tmpl"> <div class="preloader-wrapper ${size}active"> <div class="spinner-layer spinner-blue"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> <div class="spinner-layer spinner-red"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> <div class="spinner-layer spinner-yellow"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> <div class="spinner-layer spinner-green"> <div class="circle-clipper left"> <div class="circle"></div> </div><div class="gap-patch"> <div class="circle"></div> </div><div class="circle-clipper right"> <div class="circle"></div> </div> </div> </div> </script> <script id="tmpl_tripstars" type="text/x-jquery-tmpl">{{if html_tmpl}}<div class="stars_block" data-tripinfo="${$item.i},${$item.j}"><div class="graystar" style="width: ${html_tmpl.stars}px"></div>{{if html_tmpl.halfstar>0}}<div class="halfgraystar"></div>{{/if}}{{if html_tmpl.emptystars>0}}<div class="emptystar" style="width: ${html_tmpl.emptystars}px"></div>{{/if}}</div>{{/if}}</script> <script id="tmpl_changesurchargedialogue" type="text/x-jquery-tmpl"> <div class="payinfo"> <div class="message"> <div class="label label-info"><div class="ownerinfo"><i class="icon-user icon-white"></i> ${l10n.question.request.changetitle}</div></div> <div class="comment well">{{tmpl($data) "#tmpl_changesurchargetableprice"}}</div> </div> </div> </script> <script id="tmpl_changesurchargetableprice" type="text/x-jquery-tmpl"> <table> <tr> <td>${l10n.question.request.prices.changebase}:</td> <td class="price">${formatmoneynew($data.faresurcharge)}${twiket.currency}</td> </tr> <tr> <td>${l10n.question.request.prices.changetaxes}:</td> <td class="price">${formatmoneynew($data.taxessurcharge)}${twiket.currency}</td> </tr> <tr> <td>${l10n.question.request.prices.akpenalty}:</td> <td class="price">${formatmoneynew($data.penalty)}${twiket.currency}</td> </tr> <tr> <td>${l10n.question.request.prices.payturecomission}:</td> <td class="price">${formatmoneynew($data.servicefee)}${twiket.currency}</td> </tr> <tr> <td>${l10n.question.request.prices.transactioncomission}:</td> <td class="price">${formatmoneynew($data.pgcommission)}${twiket.currency}</td> </tr> <tr> <td colspan="2" class="dashedspace"><div class="dashedborder"></div></td> </tr> <tr> <td>${l10n.question.request.prices.changetotal}:</td> <td class="price">${formatmoneynew($data.total)}${twiket.currency}</td> </tr> </table> </script> <script id="tmpl_supertabs" type="text/x-jquery-tmpl"> <div class="super-tabs clearfix"> <div class="tabs-switch-conainer clearfix">{{each(i,$tab) tabs}}<div class="tabs-switch" data-link='${$tab.link}' style='background-color:${$tab.backgroundcolor};'> ${$tab.text}</div>{{/each}}</div> <div class="tabs-conainer">{{each(i,$tab) tabs}}{{if $tab.tmplname}}<div class="tab" style='background-color:${$tab.backgroundcolor};' > <div class="super-tab-content">{{tmpl $tab.tmplname}}</div> </div>{{/if}}{{/each}}</div> </div> </script> <script id="tmpl_hotel_order" type="text/x-jquery-tmpl"> <div class="row">{{if !$item.hideordernumber}}<div class="span9"> <h1> ${l10n.hotels.hotelorder.order}${$data.number}</h1> <div class="subh1">${$data.email}, ${$data.phonestring}</div> <div style='height:6px;'></div>{{tmpl($data.reservations[0],{}) '#tmpl_hotel_status'}}</div>{{/if}}<div id="hotelsactivitiesbanner" style="margin-top: 20px;" class="span9 invisible"></div> <div class="span9" style='margin-top:35px;'> <div class="clearfix"> <h1> <div class="pull-left"> <a class="hotel-link" href="${$data.hotellink}" target="_blank">${$data.reservations[0].hotel.name}</a> </div> <div class="stars star${$data.reservations[0].hotel.stars}pull-left"></div> </h1>{{if $item.showhotelstatusforpackages}}<div style="float: left;margin: 6px 10px;">{{tmpl($data.reservations[0],{}) '#tmpl_hotel_status'}}</div>{{/if}}</div> </div> <div class="span9"> <span class='large_subheading'> ${$data.reservations[0].hotel.address + ',&nbsp;'}${($data.reservations[0].hotel.translated_city || $data.reservations[0].hotel.city) + ',&nbsp;'}{{if $data.reservations[0].hotel.zip}}${$data.reservations[0].hotel.zip + ',&nbsp;'}{{/if}}${$data.reservations[0].hotel.country_translated || $data.reservations[0].hotel.country}</span> </div> <div class="span9"> <span class='large_subheading3' id="hodatesinfo"></span> </div> <div class="span9" id="hotels_more_info_wrap"> <div style='height:6px;'></div>{{if $data.reservations[0].status !== 'canceled'}}<a href="javascript:void(0)" rel="nofollow" id='more_info' class="invisible btn btn-info btn-small with_icons"> <i class='icon-info-sign icon-white'></i> ${l10n.hotels.hotelorder.less}</a> <div class="dropdown btn-group"> <a class="btn btn-small dropdown-toggle" rel="nofollow" data-toggle="dropdown" href="javascript:void(0)"> <i class='icon-download icon-black'></i> ${l10n.hotels.hotelorder.downloaddocs}&nbsp;&nbsp;<span class="caret"></span> </a> <ul class="dropdown-menu"> <li><a target='_blank' rel="nofollow" href='/voucher/${$data.reservations[0].token}.pdf?lang=${pagelang}&locale=${pagelocale}&mode=hotel&guest_id=${$data.reservations[0].customer.id}'>${l10n.hotels.hotelorder.orderfor}${$data.reservations[0].customer.firstname}${$data.reservations[0].customer.lastname}</a></li>{{if pagelang === 'ru' || pagelang === 'uk'}}<li><a target='_blank' rel="nofollow" href='/voucher/${$data.reservations[0].token}.pdf?lang=en&locale=gb&mode=hotel&guest_id=${$data.reservations[0].customer.id}'>${l10n.hotels.hotelorder.orderfor}${$data.reservations[0].customer.firstname}${$data.reservations[0].customer.lastname}(en)</a></li>{{/if}}{{each(i, value) $data.reservations[0].allguests}}{{if value.id}}<li><a target='_blank' rel="nofollow" href='/voucher/${$data.reservations[0].token}.pdf?lang=${pagelang}&locale=${pagelocale}&mode=hotel&guest_id=${value.id}'>${l10n.hotels.hotelorder.orderfor}${value.firstname}${value.lastname}</a></li>{{if pagelang === 'ru' || pagelang === 'uk'}}<li><a target='_blank' rel="nofollow" href='/voucher/${$data.reservations[0].token}.pdf?lang=en&locale=gb&mode=hotel&guest_id=${value.id}'>${l10n.hotels.hotelorder.orderfor}${value.firstname}${value.lastname}(en)</a></li>{{/if}}{{/if}}{{/each}}{{if $data.reservations[0].showvoucher && $data.reservations[0].room.pay_type !== 'postpay'}}<li><a target='_blank' rel="nofollow" href='/voucher/${$data.reservations[0].token}.pdf?lang=${pagelang}&locale=${pagelocale}&mode=client'>${l10n.hotels.hotelorder.invoice}</a></li>{{/if}}</ul> </div>{{if !$data.reservations[0].room.non_refundable && $data.reservations[0].cancancelorder && $data.reservations[0].status !== 'pending'}}<a id='cancel_order' rel="nofollow" href="javascript:void(0)" class="btn btn-small btn-danger with_icons"> <i class='icon-remove-circle icon-white'> </i> ${l10n.hotels.hotelorder.cancel}</a>{{/if}}{{/if}}</div> <div id='more_info_data' class='span9'> <div style='margin-top:20px;'> <h4> ${$data.reservations[0].room.rooms_req}× ${$data.reservations[0].room.name}</h4>{{if $data.reservations[0].room.translations && $data.reservations[0].room.translations[twiket.language]}}(${$data.reservations[0].room.translations[twiket.language]}){{/if}}<p>{{html $data.reservations[0].room.desc}}</p> <h5> ${$data.reservations[0].room.bedname}</h5> </div> <div style='margin-top:4px;'>{{if $data.reservations[0].specialrequest && ($data.reservations[0].specialrequest.nonsmoke || $data.reservations[0].specialrequest.higherfloor || $data.reservations[0].specialrequest.noelevator || $data.reservations[0].specialrequest.latecheckin || $data.reservations[0].specialrequest.notes)}}<h3>${l10n.hotels.hotelorder.wishes}</h3> <ul>{{if $data.reservations[0].specialrequest.nonsmoke}}<li>${l10n.hotels.smoking.ns.title}</li>{{/if}}{{if $data.reservations[0].specialrequest.higherfloor}}<li>${l10n.hotels.order.detail.floor}</li>{{/if}}{{if $data.reservations[0].specialrequest.noelevator}}<li>${l10n.hotels.order.detail.elevator}</li>{{/if}}{{if $data.reservations[0].specialrequest.latecheckin}}<li>${l10n.hotels.order.detail.late}</li>{{/if}}{{if $data.reservations[0].specialrequest.notes}}<li>${$data.reservations[0].specialrequest.notes}</li>{{/if}}</ul>{{/if}}<h3>${l10n.hotels.hotelorder.guests}</h3> <ul> <li> ${$data.reservations[0].customer.firstname.touppercase()}${$data.reservations[0].customer.lastname.touppercase()}</li>{{each(i, value) $data.reservations[0].allguests}}<li> ${value.firstname.touppercase()}${value.lastname.touppercase()}</li>{{/each}}</ul> </div>{{if !$item.hidefare}}<div style='margin-top:20px;' class="payment_block"> <h3>${l10n.hotels.hotelorder.pay}</h3> <p> ${$data.reservations[0].room.translated_name}${l10n.hotels.hotelorder.for}&nbsp; ${$data.reservations[0].hotel.nights + " " + l10n.hotels.hotelorder.nights[$data.helpers.decline($data.reservations[0].hotel.nights)]}. <br/> <a id='tax_data_hook' href='javascript:void(0)'>${l10n.hotels.hotelorder.taxinfo}</a> </p>{{if $data.reservations[0].usedbonuses && $data.reservations[0].usedpromocode}}{{if $data.reservations[0].room.pay_type == "prepay"}}<div class="prepay"> ${l10n.hotels.hotelorder.prepay}${$data.paydateformatted}</div>{{/if}}<div class="pay_item"> ${l10n.hotels.hotelorder.costofbook}{{if $data.reservations[0].room.promosting}}(${l10n.hotels.hotelorder.withdiscount[0]}<span class="sale_price"> ${l10n.hotels.hotelorder.withdiscount[1]}${$data.reservations[0].room.promosting}</span>){{/if}}<div class="main_price"> ${$data.reservations[0].room.pricestring}</div> </div> <div class="pay_item"> ${l10n.hotels.hotelorder.usedbonuses}<div class="bonus_price"> ${'- ' + $data.reservations[0].room.usedbonusesstring}</div> </div>{{if $data.reservations[0].usedpromocode.amount > 0}}<div class="pay_item"> ${l10n.hotels.hotelorder.promocode}<div class="promo_price"> ${'- ' + $data.reservations[0].room.usedpromocodestring}</div> </div>{{/if}}{{if $data.reservations[0].room.pay_type == "prepay" && $data.reservations[0].room.refundaccountamount}}<div class="pay_item"> ${l10n.hotels.hotelorder.refundaccount}<div class="promo_price"> ${'- ' + $data.reservations[0].room.refundaccountamountstring}</div> </div>{{/if}}<div class="pay_item"> <b>${l10n.hotels.hotelorder.usedcard}</b> <div class="pay_price"> ${$data.reservations[0].room.payedpricestring}</div> </div>{{/if}}{{if $data.reservations[0].usedbonuses && !$data.reservations[0].usedpromocode}}{{if $data.reservations[0].room.pay_type == "prepay"}}<div class="prepay"> ${l10n.hotels.hotelorder.prepay}${$data.paydateformatted}</div>{{/if}}<div class="pay_item"> ${l10n.hotels.hotelorder.costofbook}{{if $data.reservations[0].room.promosting}}(${l10n.hotels.hotelorder.withdiscount[0]}<span class="sale_price"> ${l10n.hotels.hotelorder.withdiscount[1]}${$data.reservations[0].room.promosting}</span>){{/if}}<div class="main_price"> ${$data.reservations[0].room.pricestring}</div> </div> <div class="pay_item"> ${l10n.hotels.hotelorder.usedbonuses}<div class="bonus_price"> ${'- ' + $data.reservations[0].room.usedbonusesstring}</div> </div>{{if $data.reservations[0].room.pay_type == "prepay" && $data.reservations[0].room.refundaccountamount}}<div class="pay_item"> ${l10n.hotels.hotelorder.refundaccount}<div class="promo_price"> ${'- ' + $data.reservations[0].room.refundaccountamountstring}</div> </div>{{/if}}<div class="pay_item"> <b>${l10n.hotels.hotelorder.usedcard}</b> <div class="pay_price"> ${$data.reservations[0].room.payedpricestring}</div> </div>{{/if}}{{if !$data.reservations[0].usedbonuses && $data.reservations[0].usedpromocode && $data.reservations[0].room.pay_type == "prepay"}}{{if $data.reservations[0].room.pay_type == "prepay"}}<div class="prepay"> ${l10n.hotels.hotelorder.prepay}${$data.paydateformatted}</div>{{/if}}<div class="pay_item"> ${l10n.hotels.hotelorder.costofbook}{{if $data.reservations[0].room.promosting}}(${l10n.hotels.hotelorder.withdiscount[0]}<span class="sale_price"> ${l10n.hotels.hotelorder.withdiscount[1]}${$data.reservations[0].room.promosting}</span>){{/if}}<div class="main_price"> ${$data.reservations[0].room.pricestring}</div> </div>{{if $data.reservations[0].room.pay_type == "prepay" && $data.reservations[0].usedpromocode.amount > 0}}<div class="pay_item"> ${l10n.hotels.hotelorder.promocode}<div class="promo_price"> ${'- ' + $data.reservations[0].room.usedpromocodestring}</div> </div>{{/if}}{{if $data.reservations[0].room.pay_type == "prepay" && $data.reservations[0].room.refundaccountamount}}<div class="pay_item"> ${l10n.hotels.hotelorder.refundaccount}<div class="promo_price"> ${'- ' + $data.reservations[0].room.refundaccountamountstring}</div> </div>{{/if}}<div class="pay_item"> <b>${l10n.hotels.hotelorder.usedcard}</b> <div class="pay_price"> ${$data.reservations[0].room.payedpricestring}</div> </div>{{/if}}{{if !$data.reservations[0].usedbonuses && !$data.reservations[0].usedpromocode && $data.reservations[0].room.refundaccountamount && $data.reservations[0].room.pay_type == "prepay"}}{{if $data.reservations[0].room.pay_type == "prepay"}}<div class="prepay"> ${l10n.hotels.hotelorder.prepay}${$data.paydateformatted}</div>{{/if}}<div class="pay_item"> ${l10n.hotels.hotelorder.costofbook}{{if $data.reservations[0].room.promosting}}(${l10n.hotels.hotelorder.withdiscount[0]}<span class="sale_price"> ${l10n.hotels.hotelorder.withdiscount[1]}${$data.reservations[0].room.promosting}</span>){{/if}}<div class="main_price"> ${$data.reservations[0].room.pricestring}</div> </div>{{if $data.reservations[0].room.pay_type == "prepay" && $data.reservations[0].room.refundaccountamount}}<div class="pay_item"> ${l10n.hotels.hotelorder.refundaccount}<div class="promo_price"> ${'- ' + $data.reservations[0].room.refundaccountamountstring}</div> </div>{{/if}}<div class="pay_item"> <b>${l10n.hotels.hotelorder.usedcard}</b> <div class="pay_price"> ${$data.reservations[0].room.payedpricestring}</div> </div>{{/if}}{{if !$data.reservations[0].usedbonuses && !$data.reservations[0].usedpromocode && !$data.reservations[0].room.refundaccountamount}}<h4> ${$data.reservations[0].room.pay_type == "postpay" ? l10n.hotels.hotelorder.totalpostpay : l10n.hotels.hotelorder.totalprepay}:&nbsp; <span class='price_color'> ${$data.reservations[0].room.pricestring}{{if $data.reservations[0].room.promosting}}, ${l10n.hotels.hotelorder.withdiscountin}${$data.reservations[0].room.promosting}{{/if}}</span> </h4>{{/if}}{{if $data.reservations[0].room.pay_type == "postpay" && $data.reservations[0].room.postpaypromostring}}<h4> ${l10n.hotels.hotelorder.totalpostpay}:&nbsp; <span class='price_color'> ${$data.reservations[0].room.pricestring}{{if $data.reservations[0].room.promosting}}, ${l10n.hotels.hotelorder.withdiscountin}${$data.reservations[0].room.promosting}{{/if}}</span> </h4>{{/if}}{{if $data.reservations[0].room.currency !== $data.reservations[0].room.gate_currency}}<p>{{html l10n.hotels.hotelorder.attention}}</p>{{/if}}{{if $data.reservations[0].room.supplements}}{{each(i, value) $data.reservations[0].room.supplements}}{{if value.mandatory && value.charge_type === 'postpay'}}{{if !i}}<div class="pay_item_title">{{html l10n.hotels.order.supplements}}</div>{{/if}}<div class="pay_item"> <span>${value.name}</span> <div class="promo_price"> ${$data.helpers.addcurrencysymbol(value.price, value.currency)}</div> </div>{{/if}}{{/each}}{{/if}}</div> <br/> <h4>${l10n.hotels.hotelorder.rules}</h4> <ul class="normal-list">{{if $data.reservations[0].room.payedprice || $data.reservations[0].room.refundaccountamount}}{{if $data.reservations[0].room.usedbonusesforpay || $data.reservations[0].room.usedpromocodeforpay}}{{if !($data.reservations[0].room.non_refundable && $data.reservations[0].room.pay_type === 'prepay')}}<li>${l10n.hotels.hotelorder.paymentinfo.info1[0]}${$data.reservations[0].hotel.name}${l10n.hotels.hotelorder.paymentinfo.info1[1]}:</li> <li class="indent">${l10n.hotels.hotelorder.paymentinfo.info2};</li> <li class="indent">${l10n.hotels.hotelorder.paymentinfo.info3};</li>{{/if}}{{/if}}{{if $data.reservations[0].room.pay_type === 'prepay'}}<li class="{{if !$data.reservations[0].room.non_refundable}}indent{{/if}}"> ${l10n.hotels.hotelorder.prepay}; </li>{{else $data.reservations[0].room.pay_type === 'postpay'}}{{if $data.payments[0].required_card}}{{if $data.reservations[0].room.non_refundable || $data.reservations[0].room.deposit}}<li class="indent"> ${l10n.hotels.hotelorder.postpaynonrefundable}; </li>{{else}}<li class="indent"> ${l10n.hotels.hotelorder.postpayinhotel}; </li>{{/if}}{{else $data.reservations[0].room.deposit}}<li class="indent"> ${l10n.hotels.hotelorder.postpaydeposit}; </li>{{else}}<li class="indent"> ${l10n.hotels.hotelorder.postpayinhotelcash}; </li>{{/if}}{{/if}}{{if $data.reservations[0].room.non_refundable}}<li class="{{if $data.reservations[0].room.pay_type !== 'prepay'}}indent{{/if}}">{{html l10n.hotels.hotelorder.paymentinfo.info5}};</li>{{else $data.reservations[0].room.policy.fine || $data.reservations[0].room.policy.fault}}{{if $data.reservations[0].room.policy.free}}<li class="indent"> ${l10n.hotels.hotelorder.paymentinfo.info6}${$data.helpers.formatdate($data.reservations[0].room.policy.free, $data.reservations[0].hotel.translated_city || $data.reservations[0].hotel.city)}; </li>{{/if}}<li class="indent">{{html $data.helpers.getpolicy($data)}}</li>{{/if}}{{if !$data.reservations[0].room.non_refundable && $data.reservations[0].room.pay_type == "prepay" && $data.reservations[0].room.refundaccountamount}}<li>${l10n.hotels.hotelorder.paymentinfo.info18};</li>{{/if}}{{if $data.reservations[0].room.canshowbonusesinfo && $data.reservations[0].room.usedbonusesforpay}}<li>${l10n.hotels.hotelorder.paymentinfo.info9};</li>{{/if}}{{if $data.reservations[0].room.usedpromocodeforpay}}<li>${l10n.hotels.hotelorder.paymentinfo.info10};</li>{{/if}}{{html $data.helpers.getpromobeeline($data)}}{{if $data.reservations[0].room.fine && $data.reservations[0].room.fine.free}}<li>${l10n.hotels.hotelorder.paymentinfo.info11}<span class='label label-success'>${$data.reservations[0].room.fine.freeformater}</span>;</li>{{/if}}{{if $data.paymentvariants && $data.paymentvariants.length && $data.paymentvariants[0].comission > 0}}<li> ${l10n.hotels.hotelorder.paymentinfo.info12[0]}${$data.helpers.addcurrencysymbol($data.helpers.addpadding($data.paymentvariants[0].comission,3),$data.paymentvariants[0].currency)}${l10n.hotels.hotelorder.paymentinfo.info12[1]}; </li>{{/if}}{{else}}{{if $data.reservations[0].room.usedonlybonusesforpay}}<li>${l10n.hotels.hotelorder.paymentinfo.info13}</li>{{/if}}{{if $data.reservations[0].room.usedonlypromoforpay}}<li>${l10n.hotels.hotelorder.paymentinfo.info14}</li>{{/if}}{{if $data.reservations[0].room.usedpromobonusesforpay}}<li>${l10n.hotels.hotelorder.paymentinfo.info15}</li>{{/if}}{{/if}}<li>${l10n.hotels.hotelorder.paymentinfo.info16};</li>{{if $data.reservations[0].hoteldetails.instructions || $data.reservations[0].hoteldetails.policy || $data.reservations[0].hoteldetails.information}}<li> ${l10n.hotels.order.conditions.details.title}{{if $data.reservations[0].hoteldetails.instructions}}<span class="hide">{{html $data.reservations[0].hoteldetails.instructions}}</span>{{html l10n.hotels.order.conditions.details.instructions}}{{/if}}{{if $data.reservations[0].hoteldetails.policy}}<span class="hide">{{html $data.reservations[0].hoteldetails.policy}}</span>{{if $data.reservations[0].hoteldetails.instructions}},{{/if}}{{html l10n.hotels.order.conditions.details.policy}}{{/if}}{{if $data.reservations[0].hoteldetails.information}}<span class="hide"><div class="cnt">{{html $data.reservations[0].hoteldetails.information}}</div></span>{{if $data.reservations[0].hoteldetails.instructions || $data.reservations[0].hoteldetails.policy}},{{/if}}{{html l10n.hotels.order.conditions.details.information}}{{/if}}. </li>{{/if}}</ul> <hr/> <p>${l10n.hotels.hotelorder.paymentinfo.info17}</p> <ul class='normal-list'> <li>${$data.number}</li> <li>${$data.email}</li> <li>${$data.phone}</li> <li>${$data.reservations[0].customer.firstname}${$data.reservations[0].customer.lastname}</li> </ul>{{/if}}</div> </div> </script> <script id="tmpl_hotel_status" type="text/x-jquery-tmpl">{{if $data.status === 'reserved'}}{{if $data.expired}}<span class="label label-warning">${l10n.hotels.hotelorder.book.expired}</span>&nbsp;{{else}}<span class="label label-success">${l10n.hotels.hotelorder.book.reserved}</span>&nbsp;{{/if}}{{else $data.status === 'created'}}<span class="label label-success">${l10n.hotels.hotelorder.book.created}</span>&nbsp;{{else $data.status === 'canceled'}}<span class="label label-danger">${l10n.hotels.hotelorder.book.canceled}</span>&nbsp;{{else $data.status === 'pending'}}<span class="label label-warning">${l10n.hotels.hotelorder.book.pending}</span>&nbsp;{{else $data.status === 'error'}}<span class="label label-danger">${l10n.hotels.hotelorder.book.error}</span>&nbsp;{{/if}}</script> <script id="tmpl_packages_order" type="text/x-jquery-tmpl" > <noscript></noscript> </script> <script id="tmpl_packages_order_footer" type="text/x-jquery-tmpl" > <br> <div class="dashedborder"></div> <br> <h1>${l10n.packages.payment.title}</h1> <br> <p>{{if $data.hotels.result[0].reservations[0].status === 'canceled'}}{{html l10n.packages.payment.status.canceled.replaceby({totalprice: $data.booking.currency === 'rub' ? '<span class="money-formatted">' + $item.formatmoney($data.booking.totalprice, $data.booking.currency) + '</span>' : $item.formatmoney($data.booking.totalprice, $data.booking.currency)})}}{{else}}{{html l10n.packages.payment.status.captured.replaceby({totalprice: $data.booking.currency === 'rub' ? '<span class="money-formatted">' + $item.formatmoney($data.booking.totalprice, $data.booking.currency) + '</span>' : $item.formatmoney($data.booking.totalprice, $data.booking.currency)})}}{{/if}}</p> <br> <div class="dashedborder"></div> </script> <script id="tmpl_packages_order_header" type="text/x-jquery-tmpl" > <div class="row"> <div class="span5"> <table> <tr> <td><h1>${l10n.order.name}${$data.booking.ordernumber}</h1></td> </tr> </table> <div class="subh1">${$data.booking.email}, +${$item.maskphone($data.booking.phone)}</div> </div>{{if $data.avia.result[0].status !== 'waiting'}}<div class="span5"> <br> <a class="btn btn-danger print" id="print_op" target="_blank"> <div class="loader invisible" style="vertical-align: middle;margin: -3px 10px 0 0;"><div id="tw-loader" style="background-size: 14px;height: 14px;width: 14px;padding: 0px;"></div></div> <i class="icon-print icon-white"></i> &nbsp;${l10n.packages.header.printvoucher}&nbsp; </a> <a href=${downloadvoucherlink}style="margin-left: 10px;" class="btn btn-primary" target="_blank"> <i class="icon-download-alt icon-white"></i> &nbsp;${l10n.packages.header.downloadvoucher}&nbsp; </a> </div>{{/if}}</div> <div class="h_spacer1"></div> </script> <script id="tmpl_packages_print_blank" type="text/x-jquery-tmpl" > <link rel="stylesheet" type="text/css" href="twiketlive/css/common.c1e742f6.css" media="print"/> <div id="printticket" style="page-break-before:always;"></div> </script> <script id="tmpl_railway_order" type="text/x-handlebars"> <div class="railwayorder"> <h1> ${l10n.order.name}${$data.number}&nbsp;{{if $data.reservations[0].status === 'refundcheck'}}не выписан{{/if}}</h1> <div class="subh1"> ${$data.email}${$data.email ? ', ' : ''}${$data.phone}</div> <div class="h_spacer1"></div> <div id="bookingform" class='clearfix railwayorder__hotelwidget'></div>{{each($i, $reservation) $data.reservations}}<div class="reservationblock" data-reservation="${$reservation.id}"> <h1> ${$reservation.directions[0].fromname}&rarr; ${$reservation.directions[0].toname}</h1> <div class="train_name">{{if $data.reservations.length > 1}}{{if $i == 0}}поезд туда{{else}}поезд обратно{{/if}}<br/>{{/if}}{{if $data.reservations.length == 1}}поезд{{/if}}№ <b>${$reservation.directions[0].traininfo.number2 || $reservation.directions[0].traininfo.number || $reservation.directions[0].train}</b>{{if $reservation.directions[0].traininfo.name}}&nbsp;${$reservation.directions[0].traininfo.name},{{/if}}{{if $reservation.directions[0].traininfo.brand}}&nbsp;${$reservation.directions[0].traininfo.brand},{{/if}}{{each($ci, $c) $reservation.directions[0].traininfo.class}}${" "}${$c},{{/each}}&nbsp; ${$reservation.directions[0].traininfo.route[0]}&rarr; ${$reservation.directions[0].traininfo.route[1]}</div> <div> отправление <b>${$reservation.directions[0].traininfo.departure.datetime.format("dd mmmm" +" в "+ "hh:mm")}</b> </div> <div> прибытие <b>${$reservation.directions[0].traininfo.arrival.datetime.format("dd mmmm" +" в "+ "hh:mm")}</b> </div> <div class="h_spacer1"></div> <h1>пассажиры</h1>{{if ($reservation.status === 'issued' && $reservation.wholeorderrefundonly)}}<div class="h_spacer1"></div>{{if $reservation.iscommonelregavailable}}<a class="common-el-reg-btn el-reg-btn btn" data-reservation="${$reservation.id}" data-el-reg-status="${$reservation.iscommonelregcancellable ? 'registered' : 'non-registered'}"> ${$reservation.iscommonelregcancellable ? 'отменить эл. регистрацию за всех пассажиров' : 'пройти эл. регистрацию за всех пассажиров'}</a>&nbsp;&nbsp;{{/if}}{{if $reservation.wholeorderrefundonly}}<a class="common-refund btn"> оформить возврат на всех пассажиров </a>&nbsp;&nbsp;{{/if}}<div class='common cancel-info-block-container'></div>{{/if}}{{each($pi, $p) $reservation.passengers}}<div class='passenger-block' data-ticket-id="${$p.ticketid}"> <span class='lead'> ${$p.name.last}${$p.name.first}${$p.name.mid}</span>{{if $p.status == "printed"}}<span class="label label-warning">${$data.ln.statuses[$p.status]}</span>{{else $p.status == "issued"}}{{if $p.ispaidnoer}}<span class="label label-success">${$data.ln.statuses[statuses.paid_noer]}</span>{{else}}<span class="label label-success">${$data.ln.statuses[$p.status]}</span>{{/if}}{{else $p.status == "registered"}}<span class="label label-success">${$data.ln.statuses[statuses.issued]}</span>{{else $p.status == "refundcheck"}}<span class="label label-warning">${$data.ln.statuses[$p.status]}</span>{{else $p.status == "canceled"}}<span class="label">${$data.ln.statuses[$p.status]}:{{if $p.refundamount}}<span>${$p.refundamount}${l10n.currency[$p.currency].abbr}на карту</span>{{/if}}{{if $p.refundamount && $p.refundaccountrefundamount}}<span>, </span>{{/if}}{{if $p.refundaccountrefundamount}}<span>${$p.refundaccountrefundamount}${l10n.currency[$p.currency].abbr}на накопительный счет</span>{{/if}}{{if $p.bonusrefundamount && ($p.refundaccountrefundamount || $p.refundamount)}}<span>, </span>{{/if}}{{if $p.bonusrefundamount}}<span>${$p.bonusrefundamount}${l10n.currency[$p.currency].abbr}на бонусный счет</span>{{/if}}</span>{{else}}<span class="label">${$data.ln.statuses[$p.status]}</span>{{/if}}{{if $p.elregpending}}<span class="label label-warning">${$data.ln.statuses[statuses.el_reg_pending]}</span>{{else $p.iselregavailable}}{{if $p.elreg}}<span class="label label-success">${$data.ln.statuses[statuses.registered]}</span>{{else $p.elreg === false}}<span class="label label-warning">${$data.ln.statuses[statuses.unregistered]}</span>{{/if}}{{/if}}<div> <!--${$p.birthdatetime.format("dd mmmm yyyy")}, ${$data.ln.docs["t"+$p.doctype]}${$p.docnumber}<br/--> <div class="train_type"> <span>вагон ${$reservation.directions[0].car}${$reservation.directions[0].cartypetext}, ${($p.seats || []).length > 1 ? 'места ' + $p.seats[0] + '-' + $p.seats[$p.seats.length - 1] : 'место ' + $p.place}</span>&nbsp;{{if $p.placeparams && $p.placeparams.tier}}<span>${$data.ln.placetiers[$p.placeparams.tier]}</span>&nbsp;{{/if}}{{if $p.placeparams && $p.placeparams.gender}}<span>${$data.ln.placegenders[$p.placeparams.gender]}</span>&nbsp;{{/if}}{{if $i === 0 && $p.withbeddingforward}}<span>(с бельем)</span>{{/if}}{{if $i === 1 && $p.withbeddingbackward}}<span>(с бельем)</span>{{/if}}</div> </div>{{if $p.transitdocument === "simplifieddocument" && $p.ticketapprovalstatus}}<div class="transit-document-info">{{if $p.ticketapprovalstatus === "novalue"}}<div class="transit-wrapper" > <div class="tansit-status wait"></div> </div> <div class="transit-wrapper description">упд-жд оформляется. когда документ будет готов, вам придет sms. примерное время обработки запроса — 26 часов с момента покупки.</div>{{/if}}{{if $p.ticketapprovalstatus === "accepted"}}<div class="transit-wrapper" > <div class="tansit-status success"></div> </div> <div class="transit-wrapper description">упд-жд готов. при посадке в вагон просто покажите билет и паспорт.</div>{{/if}}{{if $p.ticketapprovalstatus === "rejected"}}<div class="transit-wrapper" > <div class="tansit-status declined"></div> </div> <div class="transit-wrapper description">в оформлении упд-жд отказано.</div>{{/if}}</div>{{/if}}{{if $p.status === "refundcheck"}}<div class='passenger-confirm-status confirm-status'> <p> обновите статус заказа или обратитесь в <a class="link" href="//support.onetwotrip.com/hc/ru/requests/new" target="_blank"> службу поддержки </a> </p> <p> <a class="confirm-status-btn btn" data-ticket-id="${$p.ticketid}"> обновить статус </a> </p> <div class="confirm-status-error" data-ticket-id="${$p.ticketid}"></div> </div>{{/if}}{{if $data.reservations[0].isnamechanged}}<div class="letters-were-changed-warning"> в связи с особенностью работы асу "экспресс 3" буквы ъ / ё заменены на ь / е </div>{{/if}}<div class='ticket-info-container'>{{if $p.status === "registered"}}посадка в поезд по документу <b>${$data.ln.docs["t"+$p.doctype]}${$p.docnumber}</b>. рекомендуем вам распечатать посадочный купон перед поездкой. <br/>{{if $p.withoutticket}}<br/> <div> <strong>внимание!</strong> ребенок без места оформлен в один билет с взрослым. при отмене взрослого билета - отменится так же ребенок без места. </div>{{/if}}<br/>{{if $p.withroundtripdiscounttariff}}<div> <strong>внимание:</strong> возврат билетов туда, возможен только после возврата билетов обратно, так как на обратный билет был применен тариф со скидкой "туда - обратно". <a href="https://support.onetwotrip.com/hc/ru/sections/200995821" target="_blank">подробнее</a>. </div> <br/>{{/if}}{{if $p.refundavailableuntiliso}}<div> <strong>внимание:</strong> возврат билетов возможен до ${$p.refundavailableuntiliso.format("dd mmmm yyyy hh:mm")}(время местное) </div> <br/>{{/if}}{{if !$p.withoutticket}}<a class="action-link btn ${$p.elregpending ? 'disabled' : ''}" data-type="getticket" data-reservation="${$reservation.id}" data-ticket="${$p.ticketid || $p.parentticketid}"> <i class="icon-print"></i>&nbsp;&nbsp;распечатать посадочный купон </a>&nbsp;&nbsp;{{if $reservation.enginetype === "amadeus_euro"}}<a class="action-link btn" data-type="getfarerules" data-fareofferid="${$reservation.directions[0].fareofferid}"> <i class="icon-exclamation-sign"></i>&nbsp;&nbsp;правила тарифа </a>&nbsp;&nbsp;{{/if}}{{if $p.policylink}}<a class="btn" href="${$p.policylink}" target="_blank"> <i class="icon-print"></i>&nbsp;&nbsp;распечатать страховой полис </a>&nbsp;&nbsp;{{/if}}{{if !$reservation.wholeorderrefundonly}}<a class="action-link btn ${$p.isrefundavailable ? '' : 'disabled'}" data-type="getrefund" data-status="${$reservation.statusdepurture}" data-reservation="${$reservation.id}" data-ticket="${$p.ticketid}"><i class="icon-refresh"></i>&nbsp;&nbsp;оформить возврат</a>&nbsp;&nbsp;{{/if}}{{if $data.salesreceipt}}<a href="${$data.salesreceipt}" class="btn"><i class="icon-download-alt"></i>&nbsp;&nbsp;<span>документ об оплате</span></a>&nbsp;&nbsp;{{/if}}{{if $p.iselregavailable}}<a class="action-link btn el-reg-btn ${$p.iselregdisabled ? 'disabled' : ''}" data-type="elreg" data-el-reg-status="${$p.elreg ? 'registered' : 'non-registered'}" data-reservation="${$reservation.id}" data-ticket="${$p.ticketid || $p.parentticketid}" > ${$p.elreg ? 'отменить эл. регистрацию' : 'пройти эл. регистрацию'}</a>&nbsp;&nbsp;{{/if}}{{/if}}{{else $p.status === "canceled"}}информация о возврате указана в квитанции разных сборов. <br/>{{if !$p.withoutticket}}<a class="btn action-link ${$p.elregpending ? 'disabled' : ''}" data-type="getticket" data-reservation="${$reservation.id}" data-ticket="${$p.ticketid || $p.parentticketid}"> <i class="icon-print"></i>&nbsp;&nbsp;распечатать квитанцию разных сборов </a>{{if $reservation.enginetype === "amadeus_euro"}}<a class="action-link btn" data-type="getfarerules" data-fareofferid="${$reservation.directions[0].fareofferid}"> <i class="icon-exclamation-sign"></i>&nbsp;&nbsp;правила тарифа </a>&nbsp;&nbsp;{{/if}}{{if $data.salesreceipt}}<a href="${$data.salesreceipt}" class="btn"> <i class="icon-download-alt"></i>&nbsp;&nbsp;<span>документ об оплате</span>&nbsp;&nbsp; </a>{{/if}}{{/if}}{{else $p.status === "printed"}}для проезда в поезде, предъявите <b>билет</b> и <b>${$data.ln.docs["t"+$p.doctype]}${$p.docnumber}.</b> <br/> контрольный купон для проезда <u>недействителен</u>. <br/> оформить возврат билета вы можете <b>только</b> в кассах вокзала. <br/>{{if $p.withoutticket}}<br/> <div> <strong>внимание!</strong> ребенок без места оформлен в один билет с взрослым. при отмене взрослого билета - отменится так же ребенок без места. </div> <br/>{{/if}}{{if $p.withroundtripdiscounttariff}}<br/> <div> <strong>внимание:</strong> возврат билетов туда, возможен только после возврата билетов обратно, так как на обратный билет был применен тариф со скидкой "туда - обратно". <a href="https://support.onetwotrip.com/hc/ru/sections/200995821" target="_blank">подробнее</a>. </div>{{/if}}{{if $p.refundavailableuntiliso}}<div> <strong>внимание:</strong> возврат билетов возможен до ${$p.refundavailableuntiliso.format("dd mmmm yyyy hh:mm")}(время местное) </div> <br/>{{/if}}{{if !$p.withoutticket}}<a class="action-link btn" data-type="getticket" data-reservation="${$reservation.id}" data-ticket="${$p.ticketid || $p.parentticketid}"> <i class="icon-print"></i>&nbsp;&nbsp;распечатать контрольный купон </a>{{if $reservation.enginetype === "amadeus_euro"}}<a class="action-link btn" data-type="getfarerules" data-fareofferid="${$reservation.directions[0].fareofferid}"> <i class="icon-exclamation-sign"></i>&nbsp;&nbsp;правила тарифа </a>&nbsp;&nbsp;{{/if}}{{if $p.policylink}}&nbsp;&nbsp; <a class="btn" href="${$p.policylink}" target="_blank"> <i class="icon-print"></i>&nbsp;&nbsp;распечатать страховой полис </a>{{/if}}{{/if}}{{else $p.status === "issued"}}посадка в поезд по документу <b>${$data.ln.docs["t"+$p.doctype]}${$p.docnumber}.</b> <br/> вам <u>необходимо получить билет в кассе вокзала</u> или терминале самообслуживания. <br/> контрольный купон для проезда недействителен. <br/>{{if $p.withoutticket}}<br/> <div> <strong>внимание!</strong> ребенок без места оформлен в один билет с взрослым. при отмене взрослого билета - отменится так же ребенок без места. </div>{{/if}}{{if $p.withroundtripdiscounttariff}}<br/> <div> <strong>внимание:</strong> возврат билетов туда, возможен только после возврата билетов обратно, так как на обратный билет был применен тариф со скидкой "туда - обратно". <a href="https://support.onetwotrip.com/hc/ru/sections/200995821" target="_blank">подробнее</a>. </div>{{/if}}{{if $p.refundavailableuntiliso}}<div> <strong>внимание:</strong> возврат билетов возможен до ${$p.refundavailableuntiliso.format("dd mmmm yyyy hh:mm")}(время местное) </div> <br/>{{/if}}<br/>{{if !$p.withoutticket}}<a class="action-link btn ${$p.elregpending ? 'disabled' : ''}" data-type="getticket" data-reservation="${$reservation.id}" data-ticket="${$p.ticketid || $p.parentticketid}"> <i class="icon-print"></i>&nbsp;&nbsp; распечатать контрольный купон</a>&nbsp;&nbsp;{{if $reservation.enginetype === "amadeus_euro"}}<a class="action-link btn" data-type="getfarerules" data-fareofferid="${$reservation.directions[0].fareofferid}"> <i class="icon-exclamation-sign"></i>&nbsp;&nbsp;правила тарифа </a>&nbsp;&nbsp;{{/if}}{{if $p.policylink}}<a class="btn" href="${$p.policylink}" target="_blank"> <i class="icon-print"></i>&nbsp;&nbsp;распечатать страховой полис </a>&nbsp;&nbsp;{{/if}}{{if !$reservation.wholeorderrefundonly}}<a class="action-link btn ${$p.isrefundavailable ? '' : 'disabled'}" data-status="${$reservation.statusdepurture}" data-type="getrefund" data-reservation="${$reservation.id}" data-ticket="${$p.ticketid}"><i class="icon-refresh"></i>&nbsp;&nbsp;оформить возврат</a>&nbsp;&nbsp;{{/if}}{{if $data.salesreceipt}}<a href="${$data.salesreceipt}" class="btn"><i class="icon-download-alt"></i>&nbsp;&nbsp;<span>документ об оплате</span></a>&nbsp;&nbsp;{{/if}}{{if $p.iselregavailable}}<a class="action-link btn el-reg-btn ${$p.iselregdisabled ? 'disabled' : ''}" data-type="elreg" data-el-reg-status="${$p.elreg ? 'registered' : 'non-registered'}" data-reservation="${$reservation.id}" data-ticket="${$p.ticketid || $p.parentticketid}" > ${$p.elreg ? 'отменить эл. регистрацию' : 'пройти эл. регистрацию'}</a>&nbsp;&nbsp;{{/if}}{{/if}}{{/if}}<br/> <br/> </div> <div class='cancel-info-block-container'></div> </div>{{/each}}</div> <br> <br>{{/each}}<table class='fare-table'> <caption> <h1> оплачено </h1> </caption> <tr class='with-dash'> <td></td> <td></td> <td></td> </tr>{{each($ri, $reservation) $data.reservations}}{{if $reservation.roundtrip}}<tr class='row-title'> <td colspan="3"><h1>${$ri === 0 ? 'поезд туда' : 'поезд обратно'}</h1></td> </tr>{{each($pi, $p) $reservation.passengers}}<tr> <td> <div class='row-title'>${l10n.order.ticket.price.fare}</div> </td> <td> <div class='row-data text-right'>${$p.gdsamount.tofixed(2)}${l10n.currency[$p.currency].abbr}</div> </td> <td> <div class='row-data'>${$data[$ri === 0 ? "isconferenceroomcoupeforward" : "isconferenceroomcoupebackward"] ? 'купе-переговорная' : $data.ln.tariff[$p.tarifftype]}{{if $p.tariffname}}-{{/if}}${$p.tariffname}</div> </td> </tr>{{/each}}<tr> <td> <div class='row-title'>сервисный сбор</div> </td> <td> <div class='row-data text-right'> ${$reservation.commissionsamount.tofixed(2)}{{if $data.payments[0]}}${l10n.currency[$data.payments[0].currency].abbr}{{/if}}</div> </td> <td></td> </tr>{{else}}{{each($pi, $p) $reservation.passengers}}<tr> <td> <div class='row-title'>${l10n.order.ticket.price.fare}</div> </td> <td> <div class='row-data text-right'>${$p.gdsamount.tofixed(2)}${l10n.currency[$p.currency].abbr}</div> </td> <td> <div class='row-data'>${$data.isconferenceroomcoupeforward ? 'купе-переговорная' : $data.ln.tariff[$p.tarifftype]}{{if $p.tariffname}}-{{/if}}${$p.tariffname}</div> </td> </tr>{{/each}}{{/if}}{{/each}}{{if $data.roundtrip && ($data.services.insurance_railways || $data.services.refund_package_railways || $data.discountpoints || $data.promocodeamount > 0)}}<tr> <td colspan="3"> <h1>туда / обратно</h1> </td> </tr>{{/if}}{{if $data.services.insurance_railways}}<tr> <td> <div class='row-title'>страхование</div> </td> <td> <div class='row-data text-right'> ${$data.services.insurance_railways.cost.tofixed(2)}${l10n.currency[$data.services.insurance_railways.currency].abbr}</div> </td> <td></td> </tr>{{/if}}{{if $data.services.refund_package_railways}}<tr> <td> <div class='row-title'>возврат 100% стоимости билета</div> </td> <td> <div class='row-data text-right'> ${$data.services.refund_package_railways.cost.tofixed(2)}${l10n.currency[$data.services.refund_package_railways.currency].abbr}</div> </td> <td></td> </tr>{{/if}}{{if $data.services.remind_package_railways}}<tr> <td> <div class='row-title'>информация о поездке в sms</div> </td> <td> <div class='row-data text-right'> ${$data.services.remind_package_railways.cost.tofixed(2)}${l10n.currency[$data.services.remind_package_railways.currency].abbr}</div> </td> <td></td> </tr>{{/if}}{{if $data.discountpoints}}<tr> <td> <div class='row-title'>скидка в обмен на бонусы</div> </td> <td> <div class='row-data text-right'>-${$data.discountpoints}${l10n.currency[$data.payments.currency].abbr}</div> </td> <td></td> </tr>{{/if}}{{if $data.reservations.length < 2}}<tr> <td> <div class='row-title'>сервисный сбор</div> </td> <td> <div class='row-data text-right'> ${$data.agentsfee.tofixed(2)}{{if $data.payments[0]}}${l10n.currency[$data.payments[0].currency].abbr}{{/if}}</div> </td> <td></td> </tr>{{/if}}{{if $data.promocodeamount > 0}}<tr> <td> <div class='row-title'>промокод</div> </td> <td> <div class='row-data text-right'>-${$data.promocodeamount}${l10n.currency[$data.payments.currency].abbr}</div> </td> <td></td> </tr>{{/if}}<tr class='with-dash'> <td> <div class='row-title'><b>${l10n.order.ticket.price.total2}</b></div> </td> <td> <div class='row-data text-right'><b>${$data.totalamount}${l10n.currency[$data.reservations[0].passengers[0].currency].abbr}</b></div> </td> </tr> </table> </div> <div class="banner-popup__overlay div-gpt-ad-1562595713127-0-overlay"> <div class="banner-popup__layout"> <!-- /21734590017/rzd_tlive_popup --> <div class="banner-popup"> <svg class="js-close close-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"> <path fill="#212121" fill-rule="nonzero" d="m12 10.94l7.47-7.47a.75.75 0 0 1 1.06 1.06l13.06 12l7.47 7.47a.75.75 0 0 1-1.06 1.06l12 13.06l-7.47 7.47a.75.75 0 0 1-1.06-1.06l10.94 12 3.47 4.53a.75.75 0 0 1 1.06-1.06l12 10.94z"/> </svg> <div class="dfp-banner" id='div-gpt-ad-1562595713127-0' style='width:400px;height:486px;'></div> </div> </div> </div> </script> <script id="tmpl_bus_order" type="text/x-handlebars"> <div class='bus-order'> <h1>${l10n.order.name}${$data.orderid}</h1> <div class="subh1">${$data.client.email}, ${$data.client.phone}</div> <div class="h_spacer1"></div> <a class="hotel-search-link" target="_blank" href="https://www.onetwotrip.com/ru/hotels/"> <div id="adfox_15010836842855203"></div> </a> <h1> ${$data.tickets[0].run.runname}</h1> <div class="bus-order_bus-info">{{if $data.tickets[0].run.bus}}<div> автобус&nbsp; <b>${$data.tickets[0].run.bus.title}</b>,&nbsp; гос. номер&nbsp; <b>${$data.tickets[0].run.bus.number}</b> </div>{{/if}}<div> отправление: <b>${$data.tickets[0].run.startdatetime.format("dd mmmm" +" в "+ "hh:mm")}</b> </div> <div> прибытие: <b>${$data.tickets[0].run.enddatetime.format("dd mmmm" +" в "+ "hh:mm")}</b> </div> </div> <div class="h_spacer1"></div> <h1>пассажиры</h1> <div class='bus-order_passengers'>{{each($pi, $passenger) $data.tickets}}<div class='passenger-block' data-ticket-id="${$passenger.id}"> <span class='lead'> ${$passenger.passenger.surname}${$passenger.passenger.name}${$passenger.passenger.middlename}</span> <div> место ${$passenger.seatnumber}</div> <div class='ticket-info-container'> <a class="action-link btn" data-type="getticket" data-lastname="${$passenger.passenger.surname}" data-ticket="${$passenger.id}"> <i class="icon-print"></i>&nbsp;&nbsp;распечатать посадочный купон </a>&nbsp;&nbsp; <span class='bus-order_loader'></span> </div> </div>{{/each}}</div> </div> </script> <!--"bus":{--> <!--"hasairconditioning": true,--> <!--"hastv": true,--> <!--"number": "e545ka199",--> <!--"seatscapacity": 38,--> <!--"title": "икарус 247"--> <!--},--> <script id="tmpl_structure" type="text/x-jquery-tmpl"> <div id="content"> <div class="top"> <div class="main"> <div id="languageselect" class="paneldropmenu"></div>{{tmpl() "#tmpl_socialshare"}}</div> </div> <div class="main body"> <!-- /21734590017/avia_tlive_rt --> <div class="promo-sidebar promo-sidebar--right dfp-banner" id='div-gpt-ad-1552999425798-0' style='height:400px;width:240px;display:none;'></div> <div id="layout_start"> <table class="simple"> <tbody> <tr> <td> <div class="cell"> <div class="h_devider"></div> <div>{{html l10n.searchforms.orderdetails.html_enter}}</div> <form class="tw-form" method="post" id="orderform"> <div> <div class="input-prepend control-group"> <span class="add-on"><i class="icon-shopping-cart"></i></span> <input type="text" value="" maxlength="30" name="number" placeholder="${l10n.searchforms.orderdetails.placeholders[0]}"/> </div> <div class="input-prepend control-group"> <span class="add-on"><i class="icon-envelope"></i></span> <input type="text" value="" maxlength="70" name="email" placeholder="${l10n.searchforms.orderdetails.placeholders[1]}"/> </div> <div id="orderformcaptcha" class="captcha-container"></div> <div class="submit"> <button type="submit" class="btn btn-primary"><i class="icon-search icon-white"></i> ${l10n.searchforms.search}</button><div class="loader"></div> </div> </div> </form> <h1>${l10n.searchforms.or}</h1> <div class="ticketaccess">{{html l10n.searchforms.ticketdetails.html_enter}}</div> <form class="tw-form" method="post" id="ticketform"> <div> <div class="input-prepend control-group"> <span class="add-on"><i class="icon-list-alt"></i></span> <input type="text" value="" maxlength="30" name="number" placeholder="${l10n.searchforms.ticketdetails.placeholders[0]}"/> </div> <div class="input-prepend control-group"> <span class="add-on"><i class="icon-user"></i></span> <input type="text" value="" maxlength="70" name="lastname" placeholder="${l10n.searchforms.ticketdetails.placeholders[1]}"/> </div> <div id="ticketformcaptcha" class="captcha-container"></div> <div class="submit"> <button type="submit" class="btn btn-primary"><i class="icon-search icon-white"></i> ${l10n.searchforms.search}</button><div class="loader"></div> </div> </div> </form> </div> </td> </tr> </tbody> </table> </div>{{if window.location.href.indexof('vasonly=') === -1}}<div id="layoutpackagesorderheader"></div>{{/if}}<div id="layout_order" class="clearfix"> <div class="headerlayoutorder"></div>{{if window.location.href.indexof('vasonly=') === -1}}<!--<div id="bookingform" class='clearfix'></div>--> <div id="packagesorder" style="display:none;"></div> <div class="contentlayoutorder"></div>{{/if}}</div>{{if window.location.href.indexof('vasonly=') === -1}}<div id="layout_ticket"></div> <div id="layout_banners"> <!-- /21734590017/avia_tlive_ow --> <div class="dfp-banner" id='div-gpt-ad-1548924541766-0' style='height:120px; width:730px;display:none;'></div> <!-- /21734590017/avia_tlive_rt --> <div class="dfp-banner" id='div-gpt-ad-1548924986943-0' style='height:120px; width:730px;display:none;'></div> </div>{{/if}}<div id="layout_vas"> <div id="layout_carrentinfo"></div> <div class="additionalservices"> <div class="orderedservices"></div> <div class="availableservices"></div> </div> <div id="carrent"> <div id="carrentwidget"></div> <div id="widgetblocker"></div> </div> </div> <div id="rotationpanel"></div> <div id="layoutstarthotels"></div> <div id="layoutorderhotels"></div> <div id="layoutpackagesorderfooter"></div> <div id="layoutpackagesvas"></div> <div id="layout_options"></div> <div class='sidebar invisible'> <div class='sidebar-content'> <h4 class='invisible'>мы рекомендуем</h4> <div class='sidebar-element invisible'> <a href=''> </a> </div> </div> </div> <div id="clearfooter"></div> </div> </div>{{if window.location.href.indexof('vasonly=') === -1}}<div class="banner-popup__overlay div-gpt-ad-1560958588959-0-overlay"> <div class="banner-popup__layout"> <!-- /21734590017/avia_tlive_popup --> <div class="banner-popup"> <svg class="js-close close-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"> <path fill="#212121" fill-rule="nonzero" d="m12 10.94l7.47-7.47a.75.75 0 0 1 1.06 1.06l13.06 12l7.47 7.47a.75.75 0 0 1-1.06 1.06l12 13.06l-7.47 7.47a.75.75 0 0 1-1.06-1.06l10.94 12 3.47 4.53a.75.75 0 0 1 1.06-1.06l12 10.94z"/> </svg> <div class="dfp-banner" id='div-gpt-ad-1560958588959-0' style='width:400px;height:486px;'></div> </div> </div> </div> <div id="crinfomodal" class="modal fade" role="dialog"> <div class="modal-dialog modal-lg"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">&times;</button> <h3 class="modal-title">список документов</h3> </div> <div class="modal-body"> машину может получить только главный водитель после предъявления следующих документов:<br /> - удостоверение личности;<br /> - водительские права;<br /> - международные водительские права;<br /> - кредитная банковская карта на имя главного водителя для обеспечения условий по франшизе; </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">закрыть</button> </div> </div> </div> </div>{{/if}}</script> <script id="tmpl_visablock" type="text/x-jquery-tmpl"> <div class="visa_block">{{if visas && visas.length}}<div class="visa_display">{{each($i, $visa) visas}}<div class="visa_item"> <h2>${l10n.visa.visa}{{if $visa.number}}${$visa.number}{{else}}${$visa.visanumber}{{/if}}</h2> <div class="row"> <div class="span6"> <div class="caption">${l10n.visa.passengerorigin}:</div> <strong>${getcountrytitlebycode($visa.countryborn)}, ${$visa.cityborn}</strong> </div> </div> <div class="row"> <div class="span2"> <div class="caption">${l10n.visa.visanumber}:</div> <strong>{{if $visa.number}}${$visa.number}{{else}}${$visa.visanumber}{{/if}}</strong> </div> <div class="span3"> <div class="caption">${l10n.visa.issuedwhere}:</div> <strong>${getcountrytitlebycode($visa.issuecountry)}, ${$visa.issuecity}</strong> </div> <div class="span2"> <div class="caption">${l10n.visa.issuedwhen}:</div> <strong>${parsedate($visa.issuedate).format("dd.mm.yyyy")}</strong> </div> </div>{{if addresses && addresses.length && addresses[$i]}}<div class="row"> <div class="span6"> <div class="caption">${l10n.visa.destinationaddress}:</div> <strong> ${getcountrytitlebycode(addresses[$i].country)},{{if addresses[$i].state}}${addresses[$i].state},{{/if}}${addresses[$i].town}<br /> ${addresses[$i].street}{{if addresses[$i].post}}, ${addresses[$i].post}{{/if}}</strong> </div> </div>{{/if}}</div>{{/each}}</div>{{/if}}<form action="" class="visa_form"> <h2>${l10n.visa.addingvisa}</h2> <div class="alert alert-warning instructions">${l10n.visa.howtofilltheform}</div> <fieldset class="passenger_origin"> <div class="legend">${l10n.visa.passengerorigin}</div> <div class="row"> <div class="control-group span2"> <label for="visa_birth_country">${l10n.visa.birthcountry}</label> <select name="countryborn" id="visa_birth_country" class="birth_country span2"></select> </div> <div class="control-group span2"> <label for="visa_birth_city">${l10n.visa.birthcity}</label> <input type="text" name="cityborn" maxlength="50" autocomplete="off" class="birth_city span2" id="visa_birth_city" /> </div> </div> </fieldset> <fieldset class="visa_details"> <div class="legend">${l10n.visa.visa}</div> <div class="row"> <div class="control-group span6"> <label for="visa_number">${l10n.visa.visanumber}</label> <input type="text" name="number" maxlength="15" class="number span2" id="visa_number" /> </div> </div> <div class="row"> <div class="control-group span2"> <label for="visa_issue_country">${l10n.visa.issuecountry}</label> <select name="issuecountry" class="issue_country span2" id="visa_issue_country"></select> </div> <div class="control-group span2"> <label for="visa_issue_city">${l10n.visa.issuecity}</label> <input type="text" name="issuecity" maxlength="50" autocomplete="off" class="issue_city span2" id="visa_issue_city" /> </div> <div class="control-group span2"> <label for="visa_issue_date">${l10n.visa.issuedate}</label> <input type="text" name="issuedate" placeholder="${l10n.hint.format.date}" class="issue_date span2" id="visa_issue_date" /> </div> </div> </fieldset> <fieldset class="destination"> <div class="legend">${l10n.visa.destinationaddress}</div> <div class="row"> <div class="control-group span2"> <label for="visa_destination_country">${l10n.visa.destinationcountry}</label> <select name="country" class="destination_country span2" id="visa_destination_country"></select> </div> <div class="control-group span2"> <label for="visa_destination_region">${l10n.visa.destinationregionorstate}</label> <input name="state" id="visa_destination_region" class="destination_region span2"/> </div> <div class="control-group span2"> <label for="visa_destination_city">${l10n.visa.destinationcity}</label> <input type="text" name="town" maxlength="50" autocomplete="off" class="destination_city span2" id="visa_destination_city" /> </div> </div> <div class="row"> <div class="control-group span4"> <label for="visa_destination_street">${l10n.visa.destinationstreetaddress}</label> <input type="text" name="street" maxlength="35" class="destination_street span4" id="visa_destination_street" /> </div> <div class="control-group span2"> <label for="visa_zip">${l10n.visa.destinationzip}</label> <input type="text" name="post" maxlength="6" class="destination_zip span1" id="visa_zip" /> </div> </div> </fieldset> <fieldset class="submit"> <button type="submit" class="btn btn-primary" id="addvisa">${l10n.visa.add}</button> <button class="btn cancel" id="cancelvisaform">${l10n.ticket.cancel}</button> </fieldset> </form> </div> <div class="visa_messages"></div> <div class="dashedborder"></div> </script> <script id="tmpl_dialogue" type="text/x-jquery-tmpl">{{each($i, $req) $item.list}}{{if $req.comment != 'confirmed' && $req.comment != 'requestinfo'}}{{tmpl($req) "tmpl_singlecomment"}}{{if $i===0 && $item.tp == "return" && $item.reqstatus != 'canceled' && $item.reqstatus != 'paymentcaptured' && $item.reqstatus != 'orderpaymentrefunded' && !$item.compelled}}<div class="message resize"> <div class="label label-warning"><div class="ownerinfo"><i class="icon-exclamation-sign icon-white"></i> ${l10n.question.warning}<i class="icon-resize-full icon-white"></i></div></div> <div class="collapsetoggle"> <div class="comment well">{{html l10n.returns.comment.def}}</div> </div> </div>{{/if}}{{else $req.comment == 'confirmed'}}<div class="message"> <div class="label"><div class="ownerinfo"><i class="icon-user icon-white"></i> ${l10n.question.types.client}{{tmpl($req.date) "tmpl_msgdatetime"}}</div></div> <div class="comment well"> ${l10n.question.request.payment.confirmed}</div> </div>{{/if}}{{if !($item.pricefreezeinfo && $item.pricefreezeinfo.status !== 'payed') && $req.comment == 'requestinfo' && $item.tp != 'general' && ($item.reqtype == 'request')}}<div class="payinfo"> <div class="message"> <div class="label label-info"><div class="ownerinfo"><i class="icon-user icon-white"></i> ${l10n.question.types.operator}{{tmpl($item.createdtime) "tmpl_msgdatetime"}}</div></div> <div class="comment well">{{if $item.tp == "return"}}{{if $item.amountofaccountbonuses}}{{if $item.beginbeforedeadline}}<table class ="red_table"> <tr> <td>${l10n.question.request.prices.sumamountofaccountbonuses}</td> <td class="price">${$item.html_prices.totalsummwithaccountbonuses}</td> </tr> <tr> <td colspan="2" class="dashedspace"><div class="dashedborder"></div></td> </tr> <tr> <td>${l10n.question.request.prices.returntotalсash}</td> <td class="price">${$item.html_prices.amountfromac}</td> </tr> <tr> <td>${l10n.question.request.prices.amountofaccountbonuses}</td> <td class="price">${$item.html_prices.amountofaccountbonuses}</td> </tr> <tr> <td colspan="2" class="dashedspace"><div class="dashedborder"></div></td> </tr> </table>{{else}}<table class ="red_table"> <tr> <td>${l10n.question.request.prices.returntotalсash}</td> <td class="price">${$item.html_prices.amountfromac}</td> </tr> </table> <br /> <div>${l10n.question.request.returnpackisinactivelaterequest}</div>{{/if}}{{else}}<table> <tr>{{if $item.basetoreturn ===0}}<td colspan="2">${l10n.question.request.prices.basetoreturn[0]}</td>{{else}}<td>${l10n.question.request.prices.basetoreturn[1]}:</td> <td class="price">${$item.html_prices.base}</td>{{/if}}</tr> <tr>{{if $item.taxestoreturn ===0}}<td colspan="2">${l10n.question.request.prices.taxestoreturn[0]}</td>{{else}}<td>${l10n.question.request.prices.taxestoreturn[1]}:</td> <td class="price">${$item.html_prices.taxes}</td>{{/if}}</tr>{{if $item.penalty}}<tr class="top_sp"> <td>${l10n.question.request.prices.akpenalty}:</td> <td class="price">${$item.html_prices.penalty}</td> </tr>{{/if}}{{if $item.extpay && $item.extpay[$item.paysystemtag]}}<tr class="top_sp"> <td>${l10n.question.request.prices.extpay.rapida}:</td> <td class="price"><b>${$item.extpay[$item.paysystemtag].id}</td> </tr>{{/if}}<tr> <td colspan="2" class="dashedspace"><div class="dashedborder"></div></td> </tr>{{if $item.html_prices.discount}}<tr> <td>${l10n.question.request.prices.discountgds}:</td> <td class="price"><b>${$item.html_prices.discount}</td> </tr>{{/if}}{{if !$item.compelled && $item.paysystemtag != 'gds'}}<tr> <td>${l10n.question.request.prices.payturecomission}:</td> <td class="price">${$item.payturecomission}</td> </tr>{{/if}}<tr> <td>${l10n.question.request.prices.returntotal}:</td> <td class="price">${$item.html_prices.total}</td> </tr>{{if !$item.compelled && $item.paysystemtag == 'gds'}}<tr> <td>${l10n.question.request.prices.payturecomission}:</td> <td class="price">${$item.payturecomission}</td> </tr>{{/if}}{{if $item.ratesinfo}}<tr> <td colspan="2" class="dashedspace"><div class="dashedborder"></div></td> </tr> <tr> <td colspan="2">${$item.ratesinfo}</td> </tr>{{/if}}</table>{{/if}}{{if $item.reqstatus == 'waitingforpayment' || $item.reqstatus == 'waitingforconfirm'}}<br/>{{if $item.paytype == 'card'}}<!--{{if $item.amountofaccountbonuses && $item.beginbeforedeadline && !$item.deadlinepassed}}{{html l10n.question.request.returnwarning}}<br /><br />{{/if}}-->{{html l10n.question.request.paymentcardcomment}}{{/if}}{{if !$item.tripscanceled}}${' '}{{html l10n.question.request.timecomment}}{{/if}}{{/if}}{{else}}<table> <tr> <td>${l10n.question.request.prices.changebase}:</td> <td class="price">${$item.html_prices.base}</td> </tr> <tr> <td>${l10n.question.request.prices.changetaxes}:</td> <td class="price">${$item.html_prices.taxes}</td> </tr> <tr> <td>${l10n.question.request.prices.akpenalty}:</td> <td class="price">${$item.html_prices.penalty}</td> </tr> <tr> <td colspan="2" class="dashedspace"><div class="dashedborder"></div></td> </tr>{{if !$item.compelled}}<tr> <td>${l10n.question.request.prices.payturecomission}:</td> <td class="price"><b>${$item.payturecomission}</b></td> </tr>{{/if}}{{if $item.pgcommissioninpgcurrency > 0}}<tr> <td>${l10n.question.request.prices.transactioncomission}:</td> <td class="price"><b>${$item.html_prices.transaction}</b></td> </tr>{{/if}}<tr> <td>${l10n.question.request.prices.changetotal}:</td> <td class="price"><b>${$item.html_prices.total}</b></td> </tr>{{if $item.ratesinfo}}<tr> <td colspan="2" class="dashedspace"><div class="dashedborder"></div></td> </tr> <tr> <td colspan="2">${$item.ratesinfo}</td> </tr>{{/if}}</table>{{if !$item.tripscanceled && ($item.reqstatus == 'waitingforpayment' || $item.reqstatus == 'waitingforconfirm')}}<br/> <p>{{if $item.extpay && $item.extpay[$item.paysystemtag]}}${l10n.question.request.prices.changenumber}: <b/>${$item.extpay[$item.paysystemtag].id}</b><br/>{{/if}}{{html l10n.question.request.timecomment}}</p>{{/if}}{{/if}}</div> </div> <!--{{if $item.tp === 'return' && $item.amountofaccountbonuses && $item.beginbeforedeadline}}{{if $item.confirmedafterdeadline || (!$item.confirmedbeforedeadline && $item.deadlinepassed)}}<div class="message"> <div class="label label-info"> <div class="ownerinfo"> <i class="icon-user icon-white" /> ${l10n.question.types.operator}{{tmpl($item.deadlineformatteddate) "tmpl_msgdatetime"}}</div> </div> <div class="comment well"> <table class ="red_table"> <tr> <td>${l10n.question.request.prices.returntotalсash}</td> <td class="price">${$item.html_prices.amountfromac}</td> </tr> </table> <br /> <div>${l10n.question.request.returnpackisinactive}</div> </div> </div>{{/if}}{{/if}}--> </div>{{/if}}{{/each}}{{if $item.reqstatus == 'waitingforpayment' && $item.paytype != 'cash' && $item.tp != 'general' && ($item.reqtype == 'request')}}<form class="tw-form" id="payform" method="post" action="" type="${$item.tp}"> <div class="message"> <div class="label label-important invisible"><div class="ownerinfo"><i class="icon-shopping-cart icon-white"></i> ${l10n.question.types.payment}{{tmpl($item.createdtime) "tmpl_msgdatetime"}}</div></div> <div class="comment well">{{if ($item.tp == 'change' || ($item.isreservationpaidthroughtgds && $item.tp == 'return')) && !$item.accptonly}}<div class="cardblock"></div>{{/if}}<div class="agreerules"> <label class="checkbox"> <input type="checkbox" name="agreerules"/>{{if $item.tp == 'return'}}{{if $item.isreservationpaidthroughtgds}}${l10n.question.request.agreerules[0]}{{else}}${l10n.question.request.agreerules[1]}{{/if}}{{else}}${l10n.question.request.agreerules[2]}{{/if}}</label> </div> <div class="submit"> <button type="submit" class="btn btn-primary">${l10n.question.request.pay}</button><div class="loader"></div> </div> </div> </div> </form>{{/if}}{{if $item.status != 'closed'}}<div class="newposts"></div> <div class="requestoptbuttons submit">{{if $item.tp == 'general'}}<button class="btn showpostform"> <i class="icon-comment"></i> ${l10n.question.clientoptions.addcomment}</button>{{if $item.messagetype != 'suggestion'}}${' '}${l10n.question.clientoptions.or}{{/if}}{{else $item.tp == 'return' && ($item.compelled || $item.tripscanceled)}}<button class="btn showpostform"> <i class="icon-comment"></i> ${l10n.question.clientoptions.addcomment}</button>{{if $item.reqstatus != "paymentblocked" && !$item.tripscanceled}}${l10n.question.clientoptions.or}{{/if}}{{/if}}{{if ($item.tp == 'general' && $item.messagetype != 'suggestion') || ($item.tp != 'general' && !$item.tripscanceled && $item.reqstatus != 'paymentblocked' && $item.reqstatus != 'blocked')}}<button class="btn btn-danger closerequest"><i class="icon-ban-circle icon-white"></i>${' '}{{if $item.tp == 'general'}}{{if $item.messagetype == 'complaint'}}${l10n.question.clientoptions.rejectopt[1]}{{else}}${l10n.question.clientoptions.rejectopt[0]}{{/if}}{{/if}}{{if $item.reqtype == 'prerequest'}}${l10n.question.clientoptions.reject[1]}{{else}}{{if $item.tp == 'change'}}${l10n.question.clientoptions.reject[2]}{{/if}}{{if $item.tp == 'return'}}${l10n.question.clientoptions.reject[3]}{{/if}}{{/if}}</button>{{/if}}{{if $item.reqstatus == 'waitingforapprove'}}${' '+l10n.question.clientoptions.or+' '}<button type="submit" class="btn btn-info makeapprove"> ${l10n.question.clientoptions.confirm[0]}</button>{{/if}}{{if $item.tp != 'general' && $item.reqstatus == 'waitingforpayment' && $item.paytype != 'cash'}}{{if !$item.tripscanceled}}${' '+l10n.question.clientoptions.or+' '}{{/if}}<button type="submit" class="btn btn-info agreetopay">{{if $item.tp == "return"}}{{if $item.paysystemtag == 'gds' && !$item.accptonly}}{{tmpl({amount: $item.payturecomission}) $.template(null,l10n.question.request.payreturncomission)}}{{else}}${l10n.question.clientoptions.confirm[1]}{{/if}}{{else}}${l10n.question.clientoptions.confirm[2]}{{/if}}</button>{{/if}}<div class="loader"></div> </div> <form class="tw-form commentform" method="post" action=""> <div> <textarea class="well" placeholder="${l10n.question.clientoptions.placecomment}"></textarea> <div class="submit"> <button type="submit" class="btn btn-danger"><i class="icon-comment icon-white"></i> ${l10n.question.send}</button><div class="loader"></div> </div> </div> </form>{{/if}}{{if $item.status == 'closed' && $item.reqstatus}}{{if $item.reqstatus == "orderpaymentrefunded" || $item.reqstatus == "paymentcaptured"}}<div class="message"> <div class="label label-info"><div class="ownerinfo"><i class="icon-user icon-white"></i> ${l10n.question.types.operator}{{tmpl($item.activestatusdate) "tmpl_msgdatetime"}}</div></div> <div class="comment well">{{if $item.tp == "return"}}${l10n.question.statuses.completed.returns}{{if $item.paytype == "card"}}${' '}{{if $item.paysystemtag == 'gds'}}{{html l10n.question.statuses.completed.returntime.replaceby({"days": 60})}}{{else}}{{html l10n.question.statuses.completed.returntime.replaceby({"days": 30})}}{{/if}}{{/if}}{{else}}${l10n.question.statuses.completed.change}{{/if}}</div> </div>{{else $item.activestatusdate}}<div class="message">{{if $item.lastredactor == 'customer' || $item.lastredactor == 'system'}}<div class="label label-warning"><div class="ownerinfo"><i class="icon-exclamation-sign icon-white"></i> ${l10n.question.types.system}{{tmpl($item.activestatusdate) "tmpl_msgdatetime"}}</div></div> <div class="comment well">{{if $item.lastredactor == 'customer'}}${l10n.question.statuses.canceled.byclient}{{else}}${l10n.question.statuses.canceled.notime}{{/if}}</div>{{else}}<div class="label label-info"><div class="ownerinfo"><i class="icon-user icon-white"></i> ${l10n.question.types.operator}{{tmpl($item.activestatusdate) "tmpl_msgdatetime"}}</div></div> <div class="comment well">{{if $item.tp == "return"}}{{if $item.reqtype == 'demand'}}${l10n.question.statuses.canceled.types[0]}{{else}}${l10n.question.statuses.canceled.types[2]}{{/if}}{{if $item.cancelreason && l10n.question.statuses.canceled.refundreasons[$item.cancelreason]}}${' '}${l10n.question.statuses.canceled.refundreasons[$item.cancelreason]}{{/if}}{{else}}{{if $item.reqtype == 'demand'}}${l10n.question.statuses.canceled.types[1]}{{else}}${l10n.question.statuses.canceled.types[3]}{{/if}}{{if $item.cancelreason && l10n.question.statuses.canceled.changereasons[$item.cancelreason]}}${' '}${l10n.question.statuses.canceled.changereasons[$item.cancelreason]}{{/if}}{{/if}}</div>{{/if}}</div>{{/if}}{{/if}}</script> <script id="tmpl_mealblock" type="text/x-jquery-tmpl"> <div class="meal_block">{{if !isabsolutelytoolate}}<form action="" class="meal_form form-inline">{{if $data.ticket.agetype == "inf"}}<label for="mealtypeselect" class="control-label">${l10n.meal.mealtypeforinfant}:</label> <select name="mealtype" id="mealtypeselect"> <option value="">...</option> <option value="child" selected="selected">${l10n.meal.child}</option> </select>{{else}}<label for="mealtypeselect">${l10n.meal.mealtype}:</label> <select name="mealtype" id="mealtypeselect"> <option value="">...</option> <option value="hindu">${l10n.meal.hindu}</option> <option value="kosher">${l10n.meal.kosher}</option> <option value="halal">${l10n.meal.halal}</option> <option value="dairyvegetarian">${l10n.meal.dairyvegetarian}</option> <option value="purevegetarian">${l10n.meal.purevegetarian}</option> <option value="child">${l10n.meal.child}</option> </select>{{/if}}<fieldset class="submit"> <button type="submit" class="btn btn-primary" id="savemealform">${l10n.meal.save}</button> <button class="btn cancel" id="cancelmealform">${l10n.ticket.cancel}</button> </fieldset> <div class="alert alert-info disclaimer">{{html l10n.meal.disclaimer}}</div> </form>{{if $data.mealselected}}<div class="meal_display"> ${l10n.meal.mealtype}:&nbsp; <strong class="selected_meal">{{if l10n.meal[$data.mealselected]}}${l10n.meal[$data.mealselected]}{{else !$data.mealselected}}${l10n.meal.defaulttype}{{else}}${$data.mealselected}{{/if}}</strong> </div>{{else}}{{if istoolate}}<div class="alert alert-block too_late"> <p>${l10n.meal.toolate}</p> </div>{{else}}<button id="showmealform" class="btn btn-info show_meal_form"> <i class="icon-glass icon-white"></i>&nbsp;<span class="text">${l10n.meal.showmealchoice}</span> </button>{{/if}}{{/if}}<div class="dashedborder"></div>{{/if}}</div> </script> <script id="tmpl_seatmap" type="text/x-jquery-tmpl"> <div class="seatmap_block"> <div class="holder"> <button class="btn btn-info"><i class="icon-plane icon-white"></i>&nbsp;<span class="text">${l10n.order.services.seat.title}</span></button> </div> <div class="holder"> <h4>${l10n.order.services.seat.title}</h4>{{html l10n.order.services.seat.information}}<p id="seatcost">{{html l10n.order.services.seat.seatcost}}</p> <div id="seatsunavailable" class="alert alert-warning"> ${l10n.order.services.seat.errors.noservice}</div> <div id="seatstoolate" class="alert alert-warning"> ${l10n.order.services.seat.errors.tolate}</div> <div id="seatsviewonly" class="alert alert-warning"> ${l10n.order.services.seat.errors.bookingclass}</div> <div class="seat-map"> <div class="plane"> <!--div class="left-wing"></div> <div class="right-wing"></div> <div class="seat-row over-wing exit-left exit-right"> <big>1</big> <div class="seat-group by-window"> <span class="seat is-free">a</span> <span class="seat is-free">b</span> </div> <div class="seat-group"> <span class="seat is-free">d</span> <span class="seat is-occupied">f</span> <span class="seat is-occupied">g</span> </div> <div class="seat-group by-window"> <span class="seat is-free">h</span> <span class="seat is-free">k</span> </div> </div> <div class="seat-row over-wing"> <big>2</big> <div class="seat-group by-window"> <span class="seat is-free">a</span> <span class="seat is-free">b</span> </div> <div class="seat-group"> <span class="seat is-free">d</span> <span class="seat is-free">e</span> <span class="seat is-free">f</span> <span class="seat is-free">g</span> </div> <div class="seat-group by-window"> <span class="seat is-free">h</span> <span class="seat is-free">k</span> </div> </div--> </div> <div class="actions-panel actions-panel--save-cancel">{{tmpl({size: 'small'}) "tmpl_preloader"}}<p id="seattotal">{{html l10n.order.services.seat.seattotal}}</p> <button type="button" class="btn btn-primary" id="saveseats"> <i class="icon-ok icon-white"></i>&nbsp; <span>${l10n.order.services.seat.save}</span> </button>&nbsp;&nbsp; <button class="btn cancel">${l10n.order.services.seat.cancel}</button> <p class="toast success">${l10n.order.services.seat.success}</p> <p class="toast failure"></p> </div> <div class="actions-panel actions-panel--collapse"> <span class="dashed cancel">${l10n.order.services.seat.hideplan}</span> </div> </div> <div style="text-align: center; margin-top: 10px; width: 700px;">{{tmpl({size: 'big'}) "tmpl_preloader"}}</div> </div> <div class="dashedborder"></div> </div> </script> <script id="tmpl_change" type="text/x-jquery-tmpl"> <div class="toggleoperation"> <div class="name">${l10n.changes.isactiverequest}</div> </div>{{if $data.selectedticket.refunded}}<div class="requestblock"> <div class="name requesthead">${l10n.changes.refunded}</div> </div>{{else $data.selectedreservation.canchange}}<div class="requestblock">{{if $data.selectedticket.ischangeslimited}}<div class="name requesthead">${l10n.changes.cantmake}</div>{{html l10n.changes.limitrequest}}{{else}}<div class="name requesthead"><span class="dashed">{{if $data.selectedticket.requests.changes.length>0}}${l10n.changes.newinit[0]}{{else}}${l10n.changes.newinit[1]}{{/if}}</span></div> <div class="requestbody"> <div class="message resize"> <div class="label label-warning"><div class="ownerinfo"><i class="icon-exclamation-sign icon-white"></i> ${l10n.question.warning}<i class="icon-resize-full icon-white"></i></div></div> <div class="collapsetoggle"> <div class="comment well">{{html l10n.changes.comment.def}}{{html l10n.changes.comment.additional}}</div> </div> </div>{{if twiket.language === "ru" && $data.selectedticket.vzr}}<div class="message"> <div class="label label-success"><div class="ownerinfo"><i class="icon-heart icon-white"></i> у вас оформлена страховка выезжающего за рубеж</div></div> <div class="comment well"> <p>при обмене/возврате авиабилета, действующий полис не отменяется.<br/>для инициации отмены/переоформления полиса обратитесь по телефону: 8 (800) 333 04 93</p> </div> </div>{{/if}}<div id="change_selected"> <div class="dashedborder"></div> </div> <div id="change_surcharge" class="dialogue"></div> <div id="show_change_info"> <div class="submit"> <button type="button" class="btn btn-info" id="changesearchsetup">{{if $data.selectedreservation.arrdirections.length >1}}${l10n.changes.changesearchsetup[1]}{{else}}${l10n.changes.changesearchsetup[0]}{{/if}}</button> ${' '}<div class="inline" id="makechangerow"> ${l10n.question.clientoptions.or}${' '}<button class="btn btn-danger" id="makechange">${l10n.changes.options}</button> </div> <div class="loader"></div> </div> </div> <div id="change_info"> <form class="form-horizontal form" method="post" id="searchform"> <fieldset>{{tmpl($data) "tmpl_passengerscollection"}}<div class="comment-group"> <div class="infohead">${l10n.changes.choosedirections}</div> </div> <div class="control-group">{{each($i, $direction) $data.selectedreservation.arrdirections}}{{if !$direction.used && !$direction.departed || ($direction.departed && $direction.canchangeafterdeparture)}}<label class="radio"> <input type="radio" value="${$direction.tripsid}" name="route" dir="${$i}"/>{{if ref.getcity($direction.trips[0].from).parent}}<span class="big"> ${ref.getcityname($direction.trips[0].from) + ", "}</span> ${ref.countries[ref.getcity($direction.trips[0].from).parent].name}{{else}}<span class="big">${ref.getcityname($direction.trips[0].from)}</span>{{/if}}<span> → </span> <span class="big">${ref.getcityname($direction.trips[$direction.trips.length - 1].to) + ", "}</span>{{if ref.getcity($direction.trips[$direction.trips.length - 1].to).parent}}${ref.countries[ref.getcity($direction.trips[$direction.trips.length - 1].to).parent].name + ", "}{{/if}}${l10n.ticket.departure}${' '}{{if twiket.language != 'ru' && twiket.language.indexof("ua")<0}}<span class="big">${$direction.trips[0].stdt_date.getdate() + " " + l10n.calendar.months_d[($direction.trips[0].stdt_date.getmonth())]}${$direction.trips[0].stdt_date.format("localshorttime")}</span> ${", " + l10n.calendar.days_n[($direction.trips[0].stdt_date.getday())]}{{else}}<span class="big">${$direction.trips[0].stdt_date.getdate() + " " + l10n.calendar.months_d[($direction.trips[0].stdt_date.getmonth())].tolowercase()}${$direction.trips[0].stdt_date.format("localshorttime")}</span> ${", " + l10n.calendar.days_n[($direction.trips[0].stdt_date.getday())].tolowercase()}{{/if}}</label>{{/if}}{{/each}}</div> <div id="choosechangecls" class="invisible"> <div class="comment-group"> <div class="infohead">${l10n.changes.cls.choose}</div> </div> <div class="control-group"> <label class="radio inline"> <input type="radio" value="e" name="cls"/>${l10n.changes.cls.e}</label> <label class="radio inline"> <input type="radio" value="b" name="cls"/>${l10n.changes.cls.b}</label> <label class="radio inline"> <input type="radio" value="f" name="cls"/>${l10n.changes.cls.f}</label> </div> </div> <div class="comment-group"> <div class="infohead">${l10n.changes.dates.newdate}</div> </div> <div class="control-group"> <div class="input-prepend control-group"> <span class="add-on date_ico"><i class="icon-calendar"></i></span> <input type="text" value="" class="datemask" maxlength="10" name="flightdate" placeholder="${l10n.changes.dates.placeholder}"/> </div> </div> <div class="control-group"> <button type="submit" id="searchchanges" class="btn btn-info"><i class="icon-search icon-white"></i> ${l10n.changes.result.search}</button> <span class="submit"></span> </div> </fieldset> </form> </div> <div id="change_variants"></div> </div>{{/if}}</div>{{else $data.selectedreservation.allused}}<div class="requestblock"> <div class="name requesthead">${l10n.changes.cantmake}</div> </div>{{else $data.selectedreservation.nottimeforchange && !$data.selectedreservation.farerules.change.after}}<div class="requestblock"> <div class="name requesthead">${l10n.changes.cantmake}</div> <div>{{html l10n.changes.comment.additional}}</div> </div>{{else}}<div class="requestblock"> <div class="name requesthead">${l10n.changes.cantmake}</div> <div>${l10n.changes.rejectedbyrules}</div> </div>{{/if}}</script> <script id="tmpl_ticket" type="text/x-jquery-tmpl"> <div class="ticket">{{each($i, $direction) $data.directions}}<div class="direction">{{if $data.directions[$i - 1] && ref.getcity($data.directions[$i - 1].trips[$data.directions[$i - 1].trips.length - 1].to) == ref.getcity($direction.trips[0].from) && $data.directions[$i - 1].trips[$data.directions[$i - 1].trips.length - 1].to != $direction.trips[0].from}}<div class="change">${l10n.ticket.diffairpdirection}</div>{{/if}}{{each($j, $trip) $direction.trips}}<div class="trip{{if $j == 0}}first{{/if}}{{if $j == $direction.trips.length - 1}}last{{/if}}{{if $trip.status == 'un' || $trip.status == 'hx'}}status_un{{/if}}{{if $trip.status == 'tk'}}status_tk{{/if}}">{{if $trip.status == 'un' || $trip.status == 'tk' || $trip.status == 'hx'}}<div class="status_color"></div>{{/if}}<div class="directiontitle">{{if ref.getcity($trip.from).parent}}<span class="from"> ${ref.getcityname($trip.from)}${", "}</span> ${ref.countries[ref.getcity($trip.from).parent].name}{{else}}<span class="from">${ref.getcityname($trip.from)}</span>{{/if}}<span> → </span> <span class="to">${ref.getcityname($trip.to) + ", "}</span>{{if ref.getcity($trip.to).parent}}${ref.countries[ref.getcity($trip.to).parent].name}{{/if}}{{if $j == 0 || $direction.trips[$j - 1].enddt_date.getdate() != $trip.stdt_date.getdate()}}${", "}{{if $j===0}}${l10n.ticket.departure}{{/if}}{{if twiket.language.indexof('en-us') > -1}}<span class="weekday">${l10n.calendar["days_n"][($trip.stdt_date.getday())].tolowercase()}${", "}</span> <span class="date">${l10n.calendar["months_d"][($trip.stdt_date.getmonth())].tolowercase() + " " + $trip.stdt_date.getdate()}</span>{{else}}<span class="date">${$trip.stdt_date.getdate() + " " + l10n.calendar["months_d"][($trip.stdt_date.getmonth())].tolowercase() + ", "}</span> <span class="weekday">${l10n.calendar["days_n"][($trip.stdt_date.getday())].tolowercase()}</span>{{/if}}{{/if}}</div> <div class="directionbody"> <table> <colgroup> <col class="departure"> <col class="place"> <col class="arrival"> <col class="place"> <col class="flightnumber">{{if $trip.seat}}<col class="seat">{{/if}}<col class="ak"> <col class="cs"> <col class="plane"> <col class="trip"> </colgroup> <thead> <tr> <th>${l10n.ticket.header[0]}</th> <th>${l10n.ticket.header[6]}</th> <th>${l10n.ticket.header[1]}</th> <th>${l10n.ticket.header[6]}</th> <th>${l10n.ticket.header[2]}</th>{{if $trip.seat}}<th>${l10n.ticket.tableheader.seat}</th>{{/if}}<th>${l10n.ticket.header[3]}</th> <th>${l10n.ticket.header[4]}</th>{{if $trip.planestr}}<th>${l10n.ticket.header[5]}</th>{{/if}}{{if $trip.status !== undefined}}<th>${l10n.ticket.header[7]}</th>{{/if}}</tr> </thead> <tbody> <tr> <td> <span class="time">${$trip.stdt_date.format("localshorttime")}</span> </td> <td> <div class="airport" data-code="${$trip.from}"> <span class="airportname dashed"> ${ref.getairportname($trip.from)}{{if $trip.sttrm}}${" (" + $trip.sttrm + ")"}{{/if}}</span> </div> </td> <td> <span class="time">${$trip.enddt_date.format("localshorttime")}</span> </td> <td> <div class="airport" data-code="${$trip.to}"> <span class="airportname dashed"> ${ref.getairportname($trip.to)}{{if $trip.endtrm}}${" (" + $trip.endtrm + ")"}{{/if}}</span> </div> </td> <td class="flightnumber"> <div class="flightnumbertrigger" data-flightnumber="${$trip.fltnm}" data-airline="${$trip.aircmp}" data-date='${$trip.stdt_date.format("isodatetime")}'> <span class="flightnumbername dashed"> ${$trip.aircmp}-${$trip.fltnm}</span> </div> </td>{{if $trip.seat}}<td> <span class="time seat"> ${$trip.seat.seatnumber}</span> </td>{{/if}}<td class="ak">{{if $trip.oprdby}}<span class="warn">${ref.getairlinename($trip.oprdby)}</span>{{else}}${ref.getairlinename($trip.aircmp)}{{/if}}</td> <td class="cs">{{if $trip.srvcls == "e"}}${l10n.ticket.cls[0]}{{else $trip.srvcls == "w"}}${l10n.ticket.cls[1]}{{else $trip.srvcls == "b"}}${l10n.ticket.cls[2]}{{else $trip.srvcls == "f"}}${l10n.ticket.cls[3]}{{/if}}{{if $trip.cls != ''}}(${$trip.cls}){{/if}}</td>{{if $trip.planestr}}<td class="plane" title="${$trip.planestr}">${$trip.planestr}</td>{{/if}}<td class="tripstatus">{{if $data.reservation && !!$data.reservation.tripscanceled}}<span class="label label-important">${l10n.ticket.statuses[3]}</span>{{else $trip.status == 'un'}}<span class="label label-important">${l10n.ticket.statuses[2]}</span>{{else $trip.status == 'hk'}}${l10n.ticket.statuses[0]}{{else $trip.status == 'tk'}}<span class="label label-warning">${l10n.ticket.statuses[1]}</span>{{else $trip.status == 'hx'}}<span class="label label-important">${l10n.ticket.statuses[3]}</span>{{else $trip.status == 'used'}}<span class="label label-success">${l10n.ticket.statuses[4]}</span>{{else $trip.status == 'notused'}}<span class="label label-important">${l10n.ticket.statuses[5]}</span>{{else}}${$trip.status}{{/if}}</td> </tr> </tbody> </table> </div>{{if $trip.status != 'un' && $trip.status != 'tk' && $trip.status != 'hx'}}{{if $trip.stps}}{{each($s, $stop) $trip.stps}}<div class="stop">${l10n.ticket.stop}${ref.getairportname($stop)}</div>{{/each}}{{/if}}<div class="duration"><span>${durationtimestring($trip.flttm)}</span></div>{{if $trip.html_tmpl && $trip.html_tmpl.flightinfo && !$trip.html_tmpl.flightinfo.noinfo && $data.reservation.status != 'canceled'}}{{tmpl($trip) "tmpl_tripinfo"}}{{/if}}{{if $j == $direction.trips.length - 1}}{{if $direction.tariffmsgs && $direction.tariffmsgs.length}}<div class='tariffdetails'> <div class='tariffdetails-title'>${l10n.tariffdetails.faredetails}</div> <ul class='tariffdetails-list'>{{each($i, $message) $direction.tariffmsgs}}<li class="${$message.ishighlighted ? 'tariffdetails-highlight' : ''}"> ${$message.text}</li>{{/each}}</ul> </div>{{/if}}{{/if}}{{/if}}</div>{{if $direction.trips[$j + 1] && $direction.trips[$j + 1].status != 'un' && $direction.trips[$j + 1].status != 'tk' && $direction.trips[$j + 1].status != 'hx'}}{{if $trip.status != 'un'}}<div class="change">{{if twiket.language == 'de' || twiket.language.indexof('en')>-1}}${l10n.ticket.str.arrival.replacebyarray([$trip.enddt_date.getdate(),l10n.calendar["months_d"][$trip.enddt_date.getmonth()]])}{{else}}${l10n.ticket.str.arrival.replacebyarray([$trip.enddt_date.getdate(),string(l10n.calendar["months_d"][$trip.enddt_date.getmonth()]).tolowercase()])}{{/if}}${l10n.ticket.changeboard}&nbsp; ${durationtimestring(durationapifromminutes(($direction.trips[$j + 1].stdt_date.gettime() - $trip.enddt_date.gettime())/60000))}{{if $trip.enddt_date.getdate() != $direction.trips[$j + 1].stdt_date.getdate()}}${l10n.ticket.nextday}{{/if}}{{if $trip.to != $direction.trips[$j + 1].from}}<div>${l10n.ticket.diffairp}</div>{{/if}}</div>{{/if}}{{else}}{{if $trip.enddt_date.getdate() != $trip.stdt_date.getdate()}}<div class="change">{{if twiket.language == 'de' || twiket.language.indexof('en')>-1}}${l10n.ticket.str.arrival.replacebyarray([$trip.enddt_date.getdate(),l10n.calendar["months_d"][$trip.enddt_date.getmonth()]])}{{else}}${l10n.ticket.str.arrival.replacebyarray([$trip.enddt_date.getdate(),string(l10n.calendar["months_d"][$trip.enddt_date.getmonth()]).tolowercase()])}{{/if}}</div>{{/if}}{{/if}}{{/each}}{{if $data.directions[$i - 1] && ref.getcity($data.directions[$i - 1].trips[0].from) == ref.getcity($direction.trips[$direction.trips.length - 1].to) && $data.directions[$i - 1].trips[0].from != $direction.trips[$direction.trips.length - 1].to}}<div class="change">${l10n.ticket.diffairpdirection}</div>{{/if}}{{if ($direction.trips[0] ||{}).html_tmpl}}{{if !$direction.trips[0].html_tmpl.messages.s7_basic_econom && !$direction.trips[0].html_tmpl.messages.s7_flex_econom && !$direction.trips[0].html_tmpl.messages.s7_flex_econom && !$direction.trips[0].html_tmpl.messages.s7_flex_business}}{{if $direction.trips[0].bg && $direction.trips[0].couponstatus != 'used' && !$direction.tariffmsgs}}<div class="baggage">{{if $direction.trips[0].baggagebytype && $direction.trips[0].obg[$data.ticket.agetype]}}{{tmpl($direction.trips[0],{agetype: $data.ticket.agetype}) "tmpl_baggagetype"}}{{else}}{{tmpl($direction.trips[0],{agetype: "adt"}) "tmpl_baggagetype"}}{{/if}}{{if $direction.trips[0].oprdby && ref.baggage[$direction.trips[0].oprdby]}}{{html l10n.ticket.more.replacebyarray([ref.baggage[$direction.trips[0].oprdby]])}}{{else ref.baggage[$direction.trips[0].aircmp]}}{{html l10n.ticket.more.replacebyarray([ref.baggage[$direction.trips[0].aircmp]])}}{{/if}}</div>{{/if}}{{/if}}{{/if}}<div class="visainfo invisible">{{if twiket.language == 'de'}}<a href="" target="_blank">${l10n.ticket.visa[2]}</a> ${l10n.ticket.visa[0]}${l10n.ticket.visa[1]}<span class="select"></span>{{else twiket.language == 'az'}}<span class="select"></span> ${l10n.ticket.visa[1]}<a>${l10n.ticket.visa[2]}</a>{{else}}${l10n.ticket.visa[0]}<span class="select"></span> ${l10n.ticket.visa[1]}<a href="" target="_blank">${l10n.ticket.visa[2]}</a>{{/if}}</div>{{each($j, $trip) $direction.trips}}{{if !$direction.trips[$j + 1]}}{{if $data.directions[$i+1]}}{{if $trip.enddt_date.format("ddmm") == $data.directions[$i+1].trips[0].stdt_date.format("ddmm")}}{{if ref.getcityname($trip.to) == ref.getcityname($data.directions[$i+1].trips[0].from) && $trip.to != $data.directions[$i+1].trips[0].from}}<div class="change">${l10n.ticket.diffairpdirection}</div>{{/if}}{{/if}}{{/if}}{{/if}}{{/each}}</div>{{if $i < $data.directions.length - 1}}<div class="dashedborder"></div>{{/if}}{{/each}}</div>{{if $data.reservation.status != 'canceled' && !$data.reservation.allused && !$data.isauc && !$item.hidecancel}}<div><span class="farerules dashed">${l10n.ticket.farerules}</span></div>{{/if}}</script> <script id="tmpl_passenger" type="text/x-jquery-tmpl"> <table> <tr> <td><h1>${l10n.order.ticket.header[0]}</h1></td>{{if !$data.isorder}}<td class="invisible"> <button type="button" class="btn btn-info" id="newinfo"><i class="icon-eye-open icon-white"></i>${' '}${l10n.order.ticket.another}</button> </td>{{/if}}</tr> </table> <table> <tr> <td colspan="1"><div class="subh1 subt">${l10n.order.ticket.header[1]}</div></td> </tr> <tr> <td> <div class="passenger"><span>${ticket.lastname}${ticket.firstname}${ticket.middlename}</span> / ${ticket.passnumber}</div> </td> </tr> </table> <table> <tr> <td colspan="1"><div class="subh1 subt"></div></td> </tr> <tr> <td>{{if $data.reservation.omsgs.change_passport_by_customer && !$data.ticket.activereturn && !$data.ticket.activechange}}<button type="button" class="btn btn-info invisible" id="changedocument"><i class="icon-pencil icon-white"></i> ${l10n.updatepassengerdoc.change}</button>{{/if}}</td> <td class="widecolumn">{{if $data.reservation.omsgs.visa_number}}<button id="showvisaform" class="btn ${$data.visas && $data.visas.length ? 'btn-info' : 'btn-danger'}"> <i class="icon-flag icon-white"></i>&nbsp;<span class="showvisaformtext">{{if $data.visas && $data.visas.length}}${l10n.visa.addanothervisa}{{else}}${l10n.visa.addvisa}{{/if}}</span> </button>{{/if}}</td> <td> <button id="showvisadisplay" class="btn show_visa_display ${$data.visas && $data.visas.length ? '' : 'invisible'}"> <i class="icon-flag"></i>&nbsp;<span class="text">${l10n.visa.showvisa}</span> </button> </td> </tr> </table>{{if $data.reservation.omsgs.visa_number && $data.ticket.needvisainfoblock && !($data.visas && $data.visas.length)}}<div class="visainfoblock alert alert-danger"> ${l10n.ticket.visanumberrequired}</div>{{/if}}<div id="visablocklayout"></div>{{if $data.reservation.omsgs.change_passport_by_customer && !$data.ticket.activereturn && !$data.ticket.activechange}}<fieldset class="passenger-change-document"> <div class="control-group" id="documentnewnumber"> <label for="input_documentnewnumber">${l10n.updatepassengerdoc.number}</label> </div> <div class="control-group" id="documentexpire"> <label for="input_document_expire_flag">${l10n.updatepassengerdoc.expire}</label> </div> <div class="control-group submit"> <button type="submit" class="btn btn-primary">${l10n.updatepassengerdoc.save}</button><div class="loader"></div> </div> </fieldset>{{/if}}<div class="ticket_status">{{if reservation.status == 'canceled'}}<div class="alert alert-info">${l10n.order.ticket.statuses.canceled}</div>{{else}}{{if ticket.status == "issued"}}{{if ticket.refunded}}<div class="alert alert-info"> ${l10n.order.ticket.statuses.refunded}</div>{{else reservation.tripscanceled}}<div class="alert alert-info"> ${l10n.order.reservation.statuses.tripscanceled}</div>{{else}}<div id="status_op"></div>{{/if}}{{else ticket.status == "notenoughmoney"}}<div class="alert alert-error">{{html l10n.unpaidreservations.notenoughmoneywarning}}<form class="tw-form form-horizontal form" method="post"> <fieldset class="submit"> <button class="btn btn-success floatleft" id="showunpaidreservation">${l10n.unpaidreservations.paywithanothercard}</button> <button class="btn btn-danger floatright" type="submit" id="cancelunpaidreservation">${l10n.unpaidreservations.cancelpayment}</button> <div class="requestoptbuttons"> <div class="loader"></div> </div> </fieldset> </form> </div> <div class="unpaid_reservations_container"></div>{{else ticket.status == "waitingforpayment" && reservation.pricefreezeinfo}}<div class="alert alert-info" id="lastpayinfo"> <div class="lastpayment"></div> <div class="control-group"> ${l10n.unpaidreservations.freeze.till}<span id="lastpaytime"></span> </div> <div class="label label-important">{{html l10n.unpaidreservations.freeze.moreinfo}}</div> <form class="tw-form form-horizontal form" method="post" id="freezeform"> <fieldset class="submit"> <button class="btn btn-success floatleft" id="showunpaidreservation"><i class="icon-shopping-cart icon-white"></i> ${l10n.unpaidreservations.pay}</button> <div class="requestoptbuttons"> <div class="loader"></div> </div> </fieldset> </form> </div> <div class="unpaid_reservations_container"></div>{{else reservation.externalpayments}}{{each($k, $payment) reservation.externalpayments}}{{if $payment.paysystemtag == 'rapida'}}<div class="alert svyaznoi_bkg">${l10n.order.externalpayments.rapida}: ${$payment.id}</div>{{/if}}{{if $payment.paysystemtag == '711ua'}}<div class="alert svyaznoi_bkg">${l10n.order.statuses.wfpayment}. ${l10n.order.externalpayments.code}: ${$payment.id}</div>{{/if}}{{if $payment.paysystemtag == 'psb'}}<div class="alert psb_bkg"> <span class="psb_color">${l10n.order.statuses.wfpayment}.</span> <div>оплата счёта производится из личного кабинета клиента промсвязьбанка.<br/> при нажатии на кнопку <b>"создать счёт"</b> вы перейдёте на сайт промсвязьбанка, где клиенту банка будет выставлен счёт на сумму ${formatmoney($payment.sum)+ '&thinsp;' + l10n.currency.rub.abbr}<br/> эта сумма за все билеты в заказе. </div> <form method="post" action="${$payment.url}"> <input type="hidden" name="contractorid" value="${$payment.contractorid}" /> <input type="hidden" name="invoiceid" value="${$payment.invoiceid}" /> <input type="hidden" name="sum" value="${$payment.sum}" /> <input type="hidden" name="paydescription" value="${$payment.paydescription}" /> <input type="hidden" name="additionalinfo" value="${$payment.additionalinfo}"/> <input type="hidden" name="signature" value="${$payment.signature}" /> <button type="submit" class="btn btn-danger"><i class="icon-list-alt icon-white"></i> создать счёт</div> </form> </div>{{/if}}{{/each}}{{else}}<div class="alert alert-info">${l10n.order.ticket.statuses.inprocess}</div>{{/if}}{{/if}}</div>{{if reservation.status != 'canceled' && !reservation.tripscanceled && !ticket.refunded}}<div id="ticketblockinfo" class="{{if ticket.activereturn}}invisible{{/if}}"> <div class="dashedborder"></div> <div>${l10n.order.ticket.number}</div> <div class="pas_numbers">${ticket.ticketnumber}/ ${reservation.vendorpnr}</div>{{if reservation.checkbookingurl}}<a class="bookingurl" target="_blank" href="${reservation.checkbookingurl}">${l10n.order.ticket.checkbookingurl}</a>{{/if}}</div>{{/if}}{{if reservation.status != 'canceled' && ticket.status == 'issued' && !ticket.refunded && !reservation.tripscanceled}}<table> <tr> <td colspan="3"><div class="subh1 subt"></div></td> </tr> <tr> <td> <div id="print_op" class="invisible"> <a class="btn btn-danger print" target="_blank" href="${ticket.itinerarylink}"> ${l10n.order.ticket.download}</a> </div> </td> <td> <form class="tw-form" method="post" id="refreshblock"> <div class="submit"> <button type="button" class="btn btn-info" id="refreshinfo"><i class="icon-refresh icon-white"></i> ${l10n.order.ticket.reload}</button> <div class="loader"></div> </div> </form> </td> </tr> </table>{{/if}}</script> <script id="tmpl_order_header" type="text/x-jquery-tmpl"> <div class="row"> <div class="span6"> <table> <tr> <td><h1>${l10n.order.name}${$data.number}</h1></td>{{if $item.isorder && !twiket.params.mo}}<td class="invisible"> <button type="button" class="btn btn-info" id="newinfo"><i class="icon-eye-open icon-white"></i>${' '}${l10n.order.another}</button> </td>{{/if}}</tr> </table> <div class="subh1"> ${email}, +${phone}&nbsp;&nbsp; <!-- <a target="_blank" href="/${customerlanguage}/itinerary/?force=true&pdftype=orderreceipt&uid=${$data.id}">${l10n.receipt.get}</a> --> </div> </div> <div class="span2"> <br> <div id="print_op" class="invisible"> <a class="btn btn-danger print" target="_blank"><i class="icon-print icon-white"></i> ${l10n.order.ticket.print}</a> </div> </div> </div>{{if $data.reservations && $data.reservations.some(function(res){return res.status === 'reserved'})}}<div class="alert alert-danger bs-alert-old-docs warning-message"> ${l10n.order.reservedwarning.text}&nbsp; <a target="_blank" href="${l10n.order.reservedwarning.link}"> ${l10n.order.reservedwarning.linktext}</a> </div>{{/if}}{{if shortcutbuttons && shortcutbuttons.show && window.location.href.indexof('vasonly=') === -1}}<div class="shortcut-options">{{if shortcutbuttons.cancel}}<button class="btn btn-default" data-passenger="${shortcutbuttons.cancel}" data-block="initchangetlive21" data-action="cancel">${l10n.options.menu[0]}</button>{{/if}}{{if shortcutbuttons.changes}}<button class="btn btn-default" data-passenger="${shortcutbuttons.changes}" data-block="initchangetlive20" data-action="exchange">${l10n.options.menu[2]}</button>{{/if}}{{if shortcutbuttons.returns}}<button class="btn btn-default" data-passenger="${shortcutbuttons.returns}" data-block="initchangetlive22" data-action="refund">${l10n.options.menu[1]}</button>{{/if}}</div>{{/if}}<div class="h_spacer1"></div> </script> <script id="tmpl_order" type="text/x-jquery-tmpl">{{if servermessages.show_checkin_msg}}<div class="row control-group"> <div class='span9'> <h5>{{html l10n.order.checkin_message}}</h5> </div> </div>{{/if}}<div class="subh1 invisible">${l10n.order.header[1]}</div> <div class="passengerlistwrapper"> <table class="passengerslist" id="passengerslist">{{each($i, $reservation) reservations}}{{each($j, $ticket) tickets}}<tr rowrid="${$reservation.id+'_'+$ticket.id}"> <td class="first"> <span class="gray">${$reservation.ticketroute}</span> / <span class="bold nowrap">${$ticket.lastname}${$ticket.firstname}${$ticket.middlename}</span> </td> <td data-status="ticket">{{if $reservation.status == 'canceled'}}<span class="label">{{if $ticket.status == 'notissued'}}${l10n.order.ticket.statuses.canceled}{{else}}${l10n.order.reservation.statuses.canceled}{{/if}}</span>{{else}}{{if $ticket.status == "issued"}}{{if $ticket.refunded}}<span class="label">${l10n.order.ticket.statuses.refunded}</span>{{else $reservation.tripscanceled && !$ticket.activechange && !$ticket.activereturn}}<span class="label">${l10n.order.reservation.statuses.tripscanceled}</span>{{else}}{{if $ticket.activechange}}{{tmpl(null,{status: $ticket.lastrequeststatus, type: 'changetitle', paytype: $ticket.paytype, extpay: $ticket.requests.changes[0].extpay}) "#tmpl_requeststatus"}}{{else $ticket.activereturn}}{{tmpl(null,{status: $ticket.lastrequeststatus, type: 'returntitle', paytype: $ticket.paytype, extpay: $ticket.requests.returns[0].extpay}) "#tmpl_requeststatus"}}{{else}}<span class="label label-success">${l10n.order.ticket.statuses.issued}</span>{{/if}}{{/if}}{{else $ticket.status == 'notenoughmoney'}}<span class="label label-important">${l10n.order.ticket.statuses.nomoney}</span>{{else}}{{if $data.status == 'waitingforpayment' && $reservation.status == 'reserved'}}{{if $reservation.externalpayments[0].paysystemtag == 'rapida'}}<span class="label label-warning">${l10n.order.externalpayments.wfpayexternal}${formatmoney($reservation.externalpayments[0].amount)+ '&thinsp;' + l10n.currency[$reservation.externalpayments[0].currency].abbr}</span> <div>${l10n.order.externalpayments.code}: ${$reservation.externalpayments[0].id}</div>{{else $reservation.externalpayments[0].paysystemtag == '711ua'}}<span class="label label-warning">${l10n.order.externalpayments.wfpayexternal}${formatmoney($reservation.externalpayments[0].amount)+ '&thinsp;' + l10n.currency[$reservation.externalpayments[0].currency].abbr}</span> <div>${l10n.order.externalpayments.code}: ${$reservation.externalpayments[0].id}</div>{{else}}<span class="label label-warning">${l10n.order.statuses.wfpayment}</span>{{/if}}{{else $ticket.status == 'waitingforpayment' && $reservation.pricefreezeinfo}}{{if $ticket.pricefreezeinfo.total > 0}}<span class="label label-important"> ${l10n.order.statuses.wfpayment}${formatmoney($ticket.pricefreezeinfo.total)}${l10n.currency[$reservation.pricefreezeinfo.currency].abbr}${l10n.unpaidreservations.freeze.before}${' '}{{if twiket.language == "en-us"}}${$ticket.pricefreezeinfo.payday.format("dd mmmm yyyy h:mmt")}{{else}}${$ticket.pricefreezeinfo.payday.format("dd mmmm yyyy hh:mm")}{{/if}}</span>{{/if}}{{else}}<span class="label label-warning">${l10n.order.ticket.statuses.inprocess}</span>{{/if}}{{/if}}{{/if}}</td> <td>{{if $ticket.status == 'notenoughmoney'}}<button class="btn btn-success nowrap" id="passenger_${$i +'_' + $j}"><i class="icon-shopping-cart icon-white"></i> ${l10n.unpaidreservations.pay}</button>{{else $ticket.status == 'waitingforpayment' && $reservation.pricefreezeinfo}}{{if $ticket.pricefreezeinfo.total > 0}}<button class="btn btn-primary nowrap" id="passenger_${$i +'_' + $j}"><i class="icon-info-sign icon-white"></i> ${l10n.order.more}</button>{{/if}}{{else}}<button class="btn btn-primary nowrap" id="passenger_${$i +'_' + $j}"><i class="icon-info-sign icon-white"></i> ${l10n.order.more}</button>{{/if}}</td> </tr>{{/each}}{{/each}}{{each($name, $payinfo) $data.externalpaymentsinfo}}<tr class="gray"> <td></td> <td colspan="2">{{if $name == 'rapida'}}{{html l10n.order.externalpayments.addr.svyaznoi}}{{/if}}{{if $name == '711ua'}}${l10n.order.externalpayments.addr.ua[0]}<span class="nowrap">${l10n.order.externalpayments.addr.ua[1]}</span>{{/if}}</td> </tr>{{/each}}</table> </div>{{if $data.status == 'issuedelay'}}<div id="orderissuedelay" class="alert alert-warning invisible"></div>{{/if}}<!--{{if !$data.hasnewvas && $data.additionalservices && $data.additionalservices.length}}<div class="additionalservices additionalservices--old">{{each($sindex, $service) $data.additionalservices}}{{if 1 == 2 && $service.additionalservicetype == 'insurance' && $data.additionalservices[0].passengers}}<h1>${l10n.order.services.insurance.name}</h1> <table class="passengerslist">{{each($pindex, $pas) $service.passengers}}<tr> <td class="first"> <span class="gray">${l10n.order.services.insurance.types[$pas.insurancevariant.type]}</span> / <span class="bold nowrap">${$pas.lastname}${$pas.firstname}</span> </td> <td>{{if $service.payment.status == 'captured' || $service.payment.status == 'blocked'}}<span class="label label-success">${l10n.order.services.statuses.captured}</span>{{else $service.payment.status == 'waitingforpayment'}}<span class="label label-warning"> ${l10n.order.services.statuses.waitingforpayment}{{if $service.payment.externalid}}${': '+$service.payment.externalid}{{/if}}</span>{{else}}<span class="label label-info">${l10n.order.services.statuses.fail}</span>{{/if}}</td> <td>{{if $service.payment.status == 'captured' || $service.payment.status == 'blocked'}}${$pas.insurancevariant.source}${l10n.order.services.insurance.cost}${formatmoney($pas.insurancevariant.cost)}${l10n.currency[$pas.insurancevariant.currency].abbr}${l10n.order.services.insurance.payout}${formatmoney($pas.insurancevariant.payout)}${l10n.currency[$pas.insurancevariant.currency].abbr}{{/if}}</td> </tr>{{/each}}</table> <div class="h_spacer2"></div>{{/if}}{{if $service.additionalservicetype == 'notification'}}<h1>${l10n.order.services.notification.name}</h1> <table class="passengerslist"> <tr> <td class="first">${l10n.order.services.notification.description}</td> <td>{{if $service.payment.status == 'captured' || $service.payment.status == 'blocked'}}<span class="label label-success">${l10n.order.services.statuses.captured}</span>{{else $service.payment.status == 'waitingforpayment'}}<span class="label label-warning"> ${l10n.order.services.statuses.waitingforpayment}{{if $service.payment.externalid}}${': '+$service.payment.externalid}{{/if}}</span>{{else}}<span class="label label-info">${l10n.order.services.statuses.fail}</span>{{/if}}</td> </tr> </table> <div class="h_spacer2"></div>{{/if}}{{if $service.additionalservicetype == 'service_packs' && $service.payment.status == "captured"}}<div class="servicepacks"> <h1>${l10n.order.services.packs.name}&ndash; ${l10n.order.services.packs.types[$service.types[0].type]}</h1>{{if $service.promo}}{{if $.inarray($service.promo.promodiscountcurrency,['eur','usd','gbp']) > -1}}{{html l10n.order.services.packs.more[$service.types[0].type].replaceby({"promodiscount": accounting.formatmoney($service.promo.promodiscount,{format: "%s%v",precision: 2,currency: $service.promo.promodiscountcurrency, symbol: l10n.currency[$service.promo.promodiscountcurrency].symbol})})}}{{else}}{{html l10n.order.services.packs.more[$service.types[0].type].replaceby({"promodiscount": formatmoney(($service.promo.promodiscount|| 0).tofixed(2)) + " " + l10n.currency[$service.promo.promodiscountcurrency || "rub"].abbr})}}{{/if}}<table> <tr> <td>{{if $service.promo.code.length>1}}<b>${l10n.order.services.packs.promo[1]}</b>:{{else}}<b>${l10n.order.services.packs.promo[0]}</b>:{{/if}}</td>{{each($pindex, $promo) $service.promo.code}}<td><span class="label label-info">${$promo}</span></td>{{/each}}</tr> </table>{{else}}{{html l10n.order.services.packs.more[$service.types[0].type]}}{{/if}}</div> <div class="h_spacer2"></div>{{/if}}{{if $service.additionalservicetype == "service_packs_combined"}}<div class="servicepacks"> <h1>${l10n.order.services.packs2.name}&ndash; ${l10n.order.services.packs2.types[$service.types[0].type]}</h1>{{if $service.promo}}{{html l10n.order.services.packs2.more[$service.types[0].type].replaceby({"promodiscount": formatmoney(($service.promo.promodiscount || 0).tofixed(2)) + " " + l10n.currency[$service.promo.currency].abbr})}}<table> <tr> <td>{{if $service.promo.code.length>1}}<b>${l10n.order.services.packs2.promo[1]}</b>:{{else}}<b>${l10n.order.services.packs2.promo[0]}</b>:{{/if}}</td>{{each($pindex, $promo) $service.promo.code}}<td><span class="label label-info">${$promo}</span></td>{{/each}}</tr> </table>{{else}}{{html l10n.order.services.packs2.more[$service.types[0].type]}}{{/if}}</div> <div class="h_spacer2"></div>{{/if}}{{/each}}</div>{{/if}}--> </script> <script id="tmpl_refundinfoblock" type="text/x-handlebars"> <div class="refundinfoblock alert clearfix"> <header class="refundinfoblock__header"> <div class="heading heading--total"> сумма к возврату: ${refunddata.totalrefund}{{if refundallonly}}<span class='refundallonly'> (возврат всех билетов)</span>{{/if}}</div>{{if refunddata.hasvas}}<div class="heading"> билет — ${formatmoneynew(refunddata.ticketrefund, refunddata.currency)}${l10n.currency[refunddata.currency].abbr}</div>{{if refunddata.insurancerefund}}<div class="heading"> страхование — ${formatmoneynew(refunddata.insurancerefund, refunddata.currency)}${l10n.currency[refunddata.currency].abbr}</div>{{/if}}{{if refunddata.remindrefund}}<div class="heading"> информация о поездке в sms — ${formatmoneynew(refunddata.remindrefund, refunddata.currency)}${l10n.currency[refunddata.currency].abbr}</div>{{/if}}{{/if}}</header> <p class="info-text">{{html infotextnode}}</p> <p class="description"> <b>внимание!</b>{{if refundallonly}}(при отмене будут возвращены все билеты) </ br>{{/if}}{{if isrefundpack}}в заказе была куплена услуга “возврат 100% cтоимости билета”, возврат будет выполнен на карту. <br> <a href="https://support.onetwotrip.com/hc/ru/sections/203223725">подробнее об услуге.</a>{{else}}подтверждая операцию возврата вы соглашаетесь с <a href="${returnrulelink}" target="_blank">правилами возврата жд билетов</a>. возврат будет выполнен на банковскую карту, с которой производилась оплата. время зачисления средств от 3 до 30 банковских дней с даты оформления возврата.{{/if}}</p> <button class="btn btn-danger" type="button" data-type="cancel" data-reservation="${reservationid}" data-ticket="${ticketid}"> оформить возврат </button> <button class="btn" data-dismiss="alert">отменить</button> </div> </script> <script id="tmpl_refundcheckblock" type="text/x-handlebars"> <div class="refundinfoblock alert clearfix"> <header class="refundinfoblock__header"> <div class="heading heading--total"> операция возврата в процессе </div> </header> <p class="description"> обновите статус возврата или обратитесь в <a href='//support.onetwotrip.com/hc/ru/requests/new' target='_blank' > службу поддержки. </a> </p> <button class="btn btn-danger" type="button" data-type="cancel" data-reservation="${reservationid}" data-ticket="${ticketid}"> обновить статус </button> <button class="btn" data-dismiss="alert">отменить</button> </div> </script> <script id="tmpl_refundinfoblock--simple" type="text/x-handlebars"> <div class="refundinfoblock alert clearfix"> <div class="heading"> поезд уже ушел </div> <p class="description"> приобретая билет, вы согласились с правилами возврата жд билетов. если вы не успели на поезд, нам очень жаль, но для данного билета возврат оформить уже нельзя. </p> <button class="btn" data-dismiss="alert">закрыть</button> </div> </script> <script id="tmpl_vas" type="text/x-jquery-tmpl"> <div>{{tmpl($data) "#tmpl_vas_content_" + $data.subtype}}{{tmpl($data) "#tmpl_vas_passengers"}}<div class="vas_card_block"> <div class="vas_card"></div> <table class="buttons"> <tr> <td> <form> <button type="submit" class="service__showpayment service__actionbutton">{{= l10n.abroadinsurance.submit}}</button> </form> </td> <td> <span class="link dashed" data-dismiss="modal">{{= l10n.abroadinsurance.nope}}</span> </td> </tr> </table> </div>{{if $data.ispopup}}<table class="buttons" id="vas_options"> <tr> <td> <button class="service__paybutton service__actionbutton" id="vas_agree">{{= l10n.abroadinsurance.agree}}</button> </td> <td> <span class="link dashed" data-dismiss="modal">{{= l10n.abroadinsurance.nope}}</span> </td> </tr> </table>{{/if}}</div> </script> <script id="tmpl_vas_passengers" type="text/x-jquery-tmpl">{{if $data.insuranceinfo.source === "alfa_vzr"}}<a href="twiketlive/l10n/ru/d/vzr_alfa.pdf" target="_blank" class="dashed" id="showinsuranceconditions">{{= l10n.abroadinsurance.details.conditions}}</a>{{else}}<a href="https://static.onetwotrip.com/l10n/ru/docs/insurance/vzr_renaissance.pdf" target="_blank" class="dashed" id="showinsuranceconditions">{{= l10n.abroadinsurance.details.conditions}}</a>{{/if}}{{if $data.insuranceinfo.passengers.length > 1}}<div class="count">{{tmpl({"count": $data.insuranceinfo.passengers.length, "maxcount": $data.insuranceinfo.passengers.length}) l10n.abroadinsurance.count}}</div>{{/if}}<div> <ul class="js-passenger-list list-passengers">{{each($i, $passenger) $data.insuranceinfo.passengers}}{{tmpl($passenger) "#tmpl_vas_passenger"}}{{/each}}<li class="add"> <div class="invisible" data-toggle="dropdown"> <span class="icon-plus icon-white"></span> добавить </div> <ul class="dropdown-menu" role="menu">{{each($i, $passenger) $data.insuranceinfo.passengers}}{{tmpl($passenger) "#tmpl_vas_passenger_in_list"}}{{/each}}</ul> </li> </ul> </div>{{if $data.isow}}<div class="vzr-ow-wrapper"> <div class="vzr-date vzr-date--from"> <span>вы летите туда: </span> <span class="muted">${$data.selectedreservation.trips[0].stdt_date.format('localfulldate')}</span> </div> <div class="vzr-date vzr-date--select"> <span>выберите дату обратного вылета:</span> <div class="input-prepend control-group vzr-datepicker"> <span class="add-on date_ico"><i class="icon-calendar"></i></span> <input type="text" value="" class="datemask" maxlength="10" name="vrzdate" placeholder="дд.мм.гггг" /> </div> <div class="loader-wrapper"> <div class="js-loader sk-circle"> <div class="sk-circle1 sk-child"></div> <div class="sk-circle2 sk-child"></div> <div class="sk-circle3 sk-child"></div> <div class="sk-circle4 sk-child"></div> <div class="sk-circle5 sk-child"></div> <div class="sk-circle6 sk-child"></div> <div class="sk-circle7 sk-child"></div> <div class="sk-circle8 sk-child"></div> <div class="sk-circle9 sk-child"></div> <div class="sk-circle10 sk-child"></div> <div class="sk-circle11 sk-child"></div> <div class="sk-circle12 sk-child"></div> </div> </div> </div> <div class="select_vzrdate">количество дней действия полиса: <span></span></div> </div>{{/if}}<div class="amount">{{= l10n.abroadinsurance.total}}= <span class="total">{{= formatmoneynew( $data.insuranceinfo.total, $data.insuranceinfo.currency ) + ' ' + currencystring( $data.insuranceinfo.total, $data.insuranceinfo.currency )}}</span> </div> </script> <script id="tmpl_vas_passenger" type="text/x-jquery-tmpl"> <li class="js-passenger" data-name="${$data.firstname + '' + $data.lastname}" data-insurance-price="${$data.amount}" data-ticket-number="${$data.ticketnumber}">{{= $data.firstname.touppercase() + ' ' + $data.lastname.touppercase()}}<i class="js-delete-passenger"></i> </li> </script> <script id="tmpl_vas_passenger_in_list" type="text/x-jquery-tmpl"> <li class="js-new-insurance-passenger invisible" data-name="${$data.firstname + '' + $data.lastname}" data-first-name="${$data.firstname}" data-last-name="${$data.lastname}" data-insurance-price="${$data.amount}" data-ticket-number="${$data.ticketnumber}">{{= $data.firstname.touppercase() + ' ' + $data.lastname.touppercase()}}</li> </script> <script id="tmpl_vas_logo" type="text/x-jquery-tmpl">{{if $data.insuranceinfo.source === "alfa_vzr"}}<div class="insurance_logo"> <img alt="альфа страхование" src="twiketlive/img/insurance_alfa.png" width="111" height="24" /> </div>{{/if}}{{if $data.insuranceinfo.source === "intouch_vzr"}}<div class="insurance_logo"> <img alt="ренессанс" src="https://s3.eu-central-1.amazonaws.com/ott-static/images/vas/renaissance_insurance.png" width="111" height="24" /> </div>{{/if}}</script> <script id="tmpl_vas_insurance_vzr" type="text/x-jquery-tmpl"> <div class="vas_block">{{if $data.selectedticket.insurance_vzr}}{{html l10n.abroadinsurance.download.replaceby({link:$data.selectedticket.insurance_vzr.policy_link})}}{{else}}{{if $data.order.availableservices.insurance_vzr.available}}<button type="button" class="btn btn-info" id="payabroadinsurance"> <i class="icon-heart icon-white"></i>{{if $data.hassnowpackvzr}}{{= l10n.abroadinsurance.createbuttonshort}}{{else}}{{if tw.language === 'ru'}}{{= l10n.abroadinsurance.createbuttonru}}{{else}}{{= l10n.abroadinsurance.createbutton}}{{/if}}{{/if}}</button> <div class="vaspaymentblock"></div>{{else}}<div class="alert alert-block vzr_late"> <p>{{= l10n.abroadinsurance.toolate}}</p> </div>{{/if}}{{/if}}<div class="dashedborder"></div> </div> </script> <script id="tmpl_vas_content_insurance_vzr" type="text/x-jquery-tmpl">{{if $data.ispopup}}<div class="title">{{if $data.rualfavzr}}<h1 class="service__title">{{= l10n.abroadinsurance.rualfavzr.popup.title}}</h1>{{else}}<h1 class="service__title">страхование выезжающих за рубеж</h1>{{if !$data.isow}}{{html l10n.abroadinsurance.title3.replaceby({days: $data.insuranceinfo.days, point: ref.countries[ref.getcountrycode( $data.insuranceinfo.citycode)].name})}}{{/if}}{{/if}}</div>{{else}}<div class="title">{{if $data.rualfavzr}}<h1 class="service__title">{{html l10n.abroadinsurance.rualfavzr.body.title}}</h1>{{= l10n.abroadinsurance.rualfavzr.body.subtitle}}{{else}}<h1 class="service__title">{{html l10n.abroadinsurance.title1.replaceby({days: $data.insuranceinfo.days + ' ' + twiket.declination( $data.insuranceinfo.days, l10n.days), point: ref.countries[ref.getcountrycode( $data.insuranceinfo.citycode )].name})}}</h1>{{= l10n.abroadinsurance.title2}}{{/if}}</div>{{/if}}{{tmpl($data) "#tmpl_vas_logo"}}<div class="details">{{if $data.rualfavzr}}<ul> <li>{{html l10n.abroadinsurance.rualfavzr.details.v1.replaceby({amount: formatmoneynew( $data.insuranceinfo.payouts[0], $data.insuranceinfo.payoutcurrency ) + ' ' + $data.insuranceinfo.payoutcurrency})}}</li> <li>{{= l10n.abroadinsurance.rualfavzr.details.v2}}</li> <li>{{= l10n.abroadinsurance.rualfavzr.details.v3}}</li> </ul>{{else}}<ul> <li>{{html l10n.abroadinsurance.details.v1.replaceby({amount: formatmoneynew( $data.insuranceinfo.payouts[0], $data.insuranceinfo.payoutcurrency ) + ' ' + $data.insuranceinfo.payoutcurrency})}}</li> <li>{{= l10n.abroadinsurance.details.v2}}</li> <li>{{= l10n.abroadinsurance.details.v3}}</li> </ul>{{/if}}</div> </script> <script id="tmpl_vas_content_insurance_vzr_snowpack" type="text/x-jquery-tmpl"> <div class="snowpack-block"> <div class="title"> <div class="title1">летите&nbsp;покорять&nbsp;склоны? оформите&nbsp;специальную&nbsp;горнолыжную&nbsp;страховку</div>{{html l10n.abroadinsurance.title3.replaceby({days: $data.insuranceinfo.days})}}</div> <div class="details"> <div class="snowpack-header"> <div class="snowpack-gear"> <h5>снаряжение<br>{{if $data.snowpacklangru}}50 000 rub{{else}}1 000 у.е.{{/if}}</h5> <p>утрата, повреждение, <br/>кража прокатного/собственного</p> </div> <div class="snowpack-services"> <h5>услуги<br>{{if $data.snowpacklangru}}30 000 rub{{else}}750 у.е.{{/if}}</h5> <p>затраты на обучение, <br/>ски-пассы</p> </div> <div class="snowpack-insurancecmp"></div> </div> <div class="snowpack-payouts"> <ul> <li class="payout-item"> <div class="payout-label"> <div class="payout-title">зимний спорт</div> <span>если вы сломаете или украдут ваше горнолыжное оборудование</span> </div> <div class="payout-amount">{{if $data.snowpacklangru}}50 000 rub{{else}}до 1 000 у.е.{{/if}}</div> </li> <li class="payout-item"> <div class="payout-label"> <div class="payout-title">лыжный пакет</div> <span>если вы не сможете продолжить обучение в горнолыжной школе или дальше пользоваться купленным ски-пассом</span> </div> <div class="payout-amount">{{if $data.snowpacklangru}}30 000 rub{{else}}до 750 у.е.{{/if}}</div> </li>{{if !$data.snowpacklangru}}<li class="payout-item"> <div class="payout-label"> <div class="payout-title">медицинские расходы</div> <span>если вы получите повреждения и вас придется госпитализировать или придется прервать поездку</span> </div> <div class="payout-amount">до 30 000 у.е.</div> </li>{{/if}}<li class="payout-item"> <div class="payout-label"> <div class="payout-title">страхование ответственности перед третьими лицами</div> <span>если по вашей вине пострадают другие люди</span> </div> <div class="payout-amount">{{if $data.snowpacklangru}}350 000 rub{{else}}до 10 000 у.е.{{/if}}</div> </li> </ul> </div> </div> </div> </script> <script id="tmpl_vas_base" type="text/x-jquery-tmpl">{{if $data.servicename === 'luggage'}}<div class="service service__new service--${$data.servicename}">{{else}}<div class="service service--${$data.servicename}">{{/if}}<h1 class="service__title"> ${$data.dict[$data.servicename].name}{{if $data.status}}{{if $data.status == 'captured'}}<span class="label label-success">${$data.dict.statuses.captured}</span>{{else $data.status === 'created'}}<span class="label label-inprogress">${$data.dict.statuses.created}</span>{{else $data.status === 'sent'}}<span class="label label-inprogress">${$data.dict.statuses.sent}</span>{{else $data.status === 'paid'}}<span class="label label-inprogress">${$data.dict.statuses.paid}</span>{{else $data.status === 'done'}}<span class="label label-success">${$data.dict.statuses.done}</span>{{else $data.status === 'refunded' || $data.status === 'canceled'}}<span class="label label-cancelled">${$data.dict.statuses.cancelled}</span>{{else $data.status === 'pending'}}<span class="label label-inprogress">${$data.dict.statuses.pending}</span>{{else}}<span class="label label-important">${$data.dict.statuses.error}</span>{{/if}}{{/if}}</h1> <div class="service__content">{{tmpl($data) 'tmpl_vas_content'}}</div>{{if $data.isorderable}}<div class="service__prepaymentblock">{{if $data.servicename === 'luggage'}}<button class="service__showpayment service__actionbutton service__actionbutton__opaque">{{else}}<button class="service__showpayment service__actionbutton">{{/if}}{{if !$data.status}}${$data.dict.purchase}{{else $data.status != 'captured'}}${$data.dict.repurchase}{{/if}}</button>{{if $data.pricedata && !$data.pricedata.dynamic}}<div class="service__priceblock"> <div class="service__price"> ${formatmoneyconcat( $data.pricedata.amountperpax || $data.pricedata.amount, $data.pricedata.currency )}</div> <span class="service__priceper">{{if $data.pricedata.amountperpax}}${$data.dict.perpax}{{else}}${$data.dict.perorder}{{/if}}</span> </div>{{else}}<div class="service__priceblock service__priceblock__hidden"> <div class="service__price" /> <span class="service__priceper"> ${$data.dict.perorder}</span> </div>{{/if}}</div>{{tmpl($data) 'tmpl_vas_cardblock'}}{{/if}}{{if $data.servicename === 'seatselection'}}{{tmpl($data) 'tmpl_vas_cardblock'}}{{/if}}</div> </script> <script id="tmpl_vas_content" type="text/x-jquery-tmpl"> <div class="service__fullinfo">{{if $data.servicename == 'all_inclusive'}}<div>${$data.dict.all_inclusive.bestpackage}</div> <div>${$data.dict.all_inclusive.includes}</div> <ul class="service__list"> <li class="service__listitem">${$data.dict.all_inclusive.smsnotify}</li>{{if $data.providername}}<li class="service__listitem">{{html $data.dict.all_inclusive.flightinsurance.replacebyhash({insuranceprovider: $data.providername, insuranceinfolink: $data.insuranceinfolink,})}}</li>{{/if}}<li class="service__listitem">${$data.dict.all_inclusive.quickrefund}</li>{{if $data.promodiscount && $data.promodiscountcurrency}}<li class="service__listitem"><strong>{{html $data.dict.all_inclusive.discount.replacebyhash({amount: formatmoneyconcat(promodiscount, promodiscountcurrency)})}}</strong></li>{{/if}}</ul>{{if $data.promocode}}<div class="service__promocodeblock"> <div class="service__yourpromo">${l10n.order.services.packs.promo[0]}:</div> <div class="service__promocode">${$data.promocode}</div> </div>{{/if}}{{else $data.servicename == 'notification'}}<div>${$data.dict.notification.wewillnotify}</div> <div>${$data.dict.notification.statsinfo}</div>{{else $data.servicename == 'luggage'}}<div class='service--luggage--description'>${$data.dict.luggage.description}</div> <div> <ul class='service--luggage--thelist'>{{each($i, $direction) $data.directions}}<li class='service--luggage--listitem' data-luggage-direction=${$direction.id}> <div class='service--luggage--row service--luggage--row__withborder'> <div class='service--luggage--column'> <p class='service--luggage--text__bold'>${$direction.from}— ${$direction.to}</p> <p class='service--luggage--text__gray'> ${$direction.date.getdate() + ' ' + l10n.calendar["months_d"][($direction.date.getmonth())].tolowercase() + ' ' + $direction.date.getfullyear()}</p> </div> <div class='service--luggage--column'>{{if $direction.settings.maxweight && $direction.settings.maxvolume}}<p class='service--luggage--text__bold'> ${formatmoney($direction.price) + " " + l10n.currency[$direction.currency || 'rub'].symbol}за место </p> <p class='service--luggage--text__gray'> багаж до ${$direction.settings.maxweight}кг, ${$direction.settings.maxvolume}см по сумме трёх измерений </p>{{else}}<p class='service--luggage--text__gray'>без багажа</p>{{/if}}</div> </div> <div class="service--luggage--row"> <ul>{{each($i, $passenger) $direction.passengers}}<li class='service--luggage--listitem service--luggage--listitem__psg'> <p class='service--luggage--column service--luggage--column__psg service--luggage--text__bold'> ${$passenger.name}</p> <div class='service--luggage--column service--luggage--column__psg'> <div class=' service--luggage--circlebutton service--luggage--circlebutton__minus service--luggage--circlebutton__gray ' data-luggage-minus=${$passenger.name.replace(/\s/g, '')}/> <div class='service--luggage--amount'>${$passenger.amount}</div>{{if $data.isorderable}}<div class=' service--luggage--circlebutton service--luggage--circlebutton__plus ' data-luggage-plus=${$passenger.name.replace(/\s/g, '')}/>{{else}}<div class=' service--luggage--circlebutton service--luggage--circlebutton__plus service--luggage--circlebutton__gray ' data-luggage-plus=${$passenger.name.replace(/\s/g, '')}/>{{/if}}</li>{{/each}}</ul> </div> </li>{{/each}}</ul>{{if !$data.doshowparams}}<div class="service--luggage--row luggage--condition">{{html $data.dict.luggage.condition}}</div>{{/if}}</div>{{else $data.servicename == 'insurance'}}{{if $data.allinone}}<div>${$data.dict.insurance.compensation}</div>{{if $data.status != 'error'}}<div>{{html $data.dict.insurance.providedby.replacebyhash({insuranceprovider: $data.providername, insuranceinfolink: $data.insuranceinfolink,})}}</div> <div>{{html $data.dict.insurance.covers}}</div> <ul class="service__list">{{if $data.isintouch}}<li class="service__listitem">{{html $data.dict.insurance.intouch.health}}</li> <li class="service__listitem">{{html $data.dict.insurance.intouch.flightcancel}}</li> <li class="service__listitem">{{html $data.dict.insurance.intouch.baggageloss}}</li> <li class="service__listitem">{{html $data.dict.insurance.intouch.accident}}</li>{{else}}{{if $data.baggagepayout}}<li class="service__listitem">{{html $data.dict.insurance.baggageloss.replacebyhash({amount: formatmoneyconcat($data.baggagepayout.payout, $data.baggagepayout.currency)})}}</li>{{/if}}{{if $data.cancellationpayout}}<li class="service__listitem">{{html $data.dict.insurance.flightcancellation.replacebyhash({amount: formatmoneyconcat($data.cancellationpayout.payout, $data.cancellationpayout.currency)})}}</li>{{/if}}{{if $data.usercancel}}<li class="service__listitem">{{html $data.dict.insurance.healthcondition.replacebyhash({amount: formatmoneyconcat($data.usercancel.payout, $data.usercancel.currency)})}}</li>{{/if}}{{/if}}</ul>{{/if}}{{else $data.accidentpayout}}<div>{{html $data.dict.insurance.accidentcondition.replacebyhash({amount: formatmoneyconcat($data.accidentpayout.payout, $data.accidentpayout.currency)})}}</div> <div class="service__providedby">{{html $data.dict.insurance.providedby.replacebyhash({insuranceprovider: $data.providername, insuranceinfolink: $data.insuranceinfolink,})}}</div>{{/if}}{{else $data.servicename == 'onlinecheckin'}}<div>${$data.dict.onlinecheckin.boardingpass}</div> <div>${$data.dict.onlinecheckin.itwilllet}</div> <ul class="service__list"> <li class="service__listitem">{{html $data.dict.onlinecheckin.seattogether}}</li> <li class="service__listitem">{{html $data.dict.onlinecheckin.baggagedesk}}</li> <li class="service__listitem">{{html $data.dict.onlinecheckin.chooseseat}}</li> </ul>{{if $data.isorderable && !$data.checkinhasnooptions}}<div class="service__checkinselectblock"> <label class="service__checkinlabel"> <span class="service__checkinlabeltext"> ${$data.dict.onlinecheckin.select.seat.select}: </span> <select class="service__checkinselect service__checkinselect--seat"> <option value="all">${$data.dict.onlinecheckin.select.seat.all}</option> <option value="window">${$data.dict.onlinecheckin.select.seat.window}</option> <option value="passage">${$data.dict.onlinecheckin.select.seat.passage}</option> </select> </label> <label class="service__checkinlabel"> <span class="service__checkinlabeltext"> ${$data.dict.onlinecheckin.select.row.select}: </span> <select class="service__checkinselect service__checkinselect--row"> <option value="all">${$data.dict.onlinecheckin.select.row.all}</option> <option value="nose">${$data.dict.onlinecheckin.select.row.nose}</option> <option value="wing">${$data.dict.onlinecheckin.select.row.wing}</option> <option value="tail">${$data.dict.onlinecheckin.select.row.tail}</option> </select> </label> </div>{{/if}}{{else $data.servicename == 'return_packs'}}<div>{{html $data.dict.return_packs.description .replacebyhash({percent: $data.returnpercent})}}</div> <ul class="service__liststandard"> <li class="service__liststandard__listitem">{{html $data.dict.return_packs.list[0]}}</li> <li class="service__liststandard__listitem">{{html $data.dict.return_packs.list[1]}}</li> </ul> <div class='service__returnpack--note'>{{html $data.dict.return_packs.footer}}</div> <span class='service__returnpack--rules'>{{html $data.dict.return_packs.modal.returnrules}}</span>{{else $data.servicename == 'seatselection'}}<div class="service__seatselectionwidget"></div>{{else $data.servicename == 'aeroexpress'}}{{if $data.hasgroupticket}}<p>${$data.dict.aeroexpress.descriptionforgroup}</p>{{else}}<p>${$data.dict.aeroexpress.description}</p>{{/if}}{{each($i, $ticket) $data.tickets}}<div> <a href=${$ticket.ticketurl}target='_blank'>ссылка на билет №${$ticket.ticketid}</a> <div>{{/each}}{{/if}}</div> </script> <script id="tmpl_vas_cardblock" type="text/x-jquery-tmpl"> <div class="service__paymentblock"> <div class="service__cardblock"></div>{{if $data.servicename != 'seatselection'}}<div class="service__total">{{html $data.dict.total.replacebyhash({amount: formatmoneyconcat($data.pricedata.amount, $data.pricedata.currency)})}}{{if $data.pricedata.paxquantity > 1}}{{html $data.dict.forpaxamount.replacebyhash({paxamount: $data.pricedata.paxquantity + ' ' + declofnum($data.pricedata.paxquantity, $data.dict.paxdecl)})}}{{/if}}</div>{{else}}<div class="service__total" />{{/if}}<div class="service__controlsblock"> <button class="service__paybutton service__actionbutton">${$data.dict.pay}</button> <span class="service__paymentloader"></span> <a class="service__refusebutton" href="">${$data.dict.refuse}</a> </div> </div> </script> <script id="tmpl_vas_onlinecheckin" type="text/x-jquery-tmpl"> <div class="service service--onlinecheckin"> <h1 class="service__title"> ${$data.dict.onlinecheckin.name}<span class="label label-success">${$data.dict.statuses.captured}</span> </h1> <div class="service__content">{{if $data.needdescription}}<div> ${$data.dict.onlinecheckin.seatingpreferences}<span class='service--onlinecheckin--places'>${$data.dict.onlinecheckin.select.row[$data.rowtype]}/ ${$data.dict.onlinecheckin.select.seat[$data.seattype]}</span> </div> ${$data.dict.onlinecheckin.description}{{/if}}<ul class='service--onlinecheckin--tripslist'>{{each($i, $trip) $data.trips}}{{if $trip.relevant}}<li class='service--onlinecheckin--tripslist--listitem'> <div class='service--onlinecheckin--row service--onlinecheckin--row--trips'> <div class='service--onlinecheckin--column'> <p class='service--onlinecheckin--text__bold service--onlinecheckin--direction'>${$trip.fromcity}— ${$trip.tocity}</p> <p class='service--onlinecheckin--text__gray'> ${$trip.departuredate.getdate() + ' ' + l10n.calendar["months_s"][($trip.departuredate.getmonth())].tolowercase() + ' ' + $trip.departuredate.getfullyear() + ', ' + $trip.departuredate.format("localshorttime")}</p> </div> <div class='service--onlinecheckin--column'>{{if $trip.registrationfailureforall}}<p class='service--onlinecheckin--text__bold service--onlinecheckin--text__bold__gray'> <img class='service--onlinecheckin--icon' src='twiketlive/svg/vascloseicon.svg' /> ${$data.dict.onlinecheckin.status.failedforall.head}</p> <p class='service--onlinecheckin--text__gray'>${$data.dict.onlinecheckin.status.failedforall.body}</p>{{else}}<p class='service--onlinecheckin--text__bold'>{{if $trip.status === 'created' || $trip.status === 'processed'}}<img class='service--onlinecheckin--icon' src='twiketlive/svg/vasclockicon.svg' />{{else $trip.status === 'finished'}}<img class='service--onlinecheckin--icon' src='twiketlive/svg/vascheckicon.svg' />{{else}}<img class='service--onlinecheckin--icon' src='twiketlive/svg/vascloseicon.svg' />{{/if}}${$data.dict.onlinecheckin.status[$trip.status].head}</p> <p class='service--onlinecheckin--text__gray'>${$data.dict.onlinecheckin.status[$trip.status].body}</p>{{/if}}</div> </div>{{if $trip.status === 'finished' && !$trip.registrationfailureforall}}<div class='service--onlinecheckin--row service--onlinecheckin--row--passengers'> <ul class="service--onlinecheckin--passengerslist">{{each($pi, $passenger) $trip.passengers}}<li class='service--onlinecheckin--passengerslist--listitem'> <div class='service--onlinecheckin--column service--onlinecheckin--name'> ${$passenger.firstname}${$passenger.lastname}</div> <div class='service--onlinecheckin--column'>{{if $passenger.result === 'error'}}<span class='service--onlinecheckin--seat'>-</span> <span class='service--onlinecheckin--text__gray service--onlinecheckin--cardinfo'>${$data.dict.onlinecheckin.noseatassigned}</span>{{else}}<span class='service--onlinecheckin--seat'>${$passenger.seat}</span>{{if $passenger.boardingcard}}<a class='service--onlinecheckin--boardingcard' target='_blank' href=${$passenger.boardingcard}>${$data.dict.onlinecheckin.linkboardingcard}</a>{{/if}}{{/if}}</div> </li>{{/each}}</ul> </div>{{/if}}</li>{{/if}}{{/each}}</ul> </div> </div> </script> <!--<script id="tmpl_seatmap_button" type="text/x-jquery-tmpl"> &lt;!&ndash;# include file="tmpl_seatmap_button.tmpl" &ndash;&gt; </script>--> <script id="tmpl_vas--returnpack__modal" type="text/x-jquery-tmpl"> <div> <h3 class='service__modal__header'>{{html $data.dict.return_packs.modal.header}}</h3> <section> <p>{{html $data.dict.return_packs.modal.text[0]}}</p> <p> <strong>{{html $data.dict.return_packs.modal.text[1] .replacebyhash({percent: $data.returnpercent})}}</strong> </p> <ul stylename='ul'> <li>{{html $data.dict.return_packs.modal.list[0]}}</li> <li>{{html $data.dict.return_packs.modal.list[1]}}</li> </ul> <p>{{html $data.dict.return_packs.modal.text[2]}}</p> <p>{{html $data.dict.return_packs.modal.text[3]}}</p> <br/> </section> </div> </script> <script id="tmpl_carrentinfo" type="text/x-jquery-tmpl"> <h1>аренда машины ${$data.ordernumber}</h1> <div> <span class="cr-first-row"><b class="capitalize">${$data.lastname}${$data.firstname}</b></span>&nbsp; <span class="cr-label-wrapper"> <span class="label label-success">${$data.paymentstatus.title}</span>&nbsp; <span class="label label-info">${$data.paymentstatus.providername}</span>&nbsp; <span class="label label-info">${$data.paymentstatus.vouchernumber || $data.paymentstatus.confirmationnumber}</span> </span> </div> <div>{{tmpl($data.summarydata) "#tmpl_carrent_summary"}}</div> <a id="crshowinfo" style="display: none" class="cr-link-dashed" data-toggle="modal" data-target="#crinfomodal">важно! ознакомьтесь с условиями получения машины</a> <div class="cr-buttons"> <button type="button" class="btn print-carrent" ><i class="icon-print"></i>распечатать подтверждение</button> <span class="cr-showoncancelavailability"> <button id="crcancelrent" type="button" class="btn" ><i class="icon-refresh"></i>отменить аренду</button> </span> </div> <div id="crcancelconfirm" class="cr-cancel cr-cancel--hidden"> <div class="cr-cancel-btns"> <button type="button" class="btn btn-close btn-close-rent" >закрыть</button> <button type="button" class="btn btn-danger btn-cancel" >отменить аренду</button> </div> </div> <div id="crchangeconfirm" class="cr-cancel cr-cancel--hidden"> <div class="cr-cancel-row"> чтобы внести изменения в вашу аренду, пожалуйста, свяжитесь со службой поддержки клиентов onetwotrip. </div> <div class="cr-cancel-btns"> <button type="button" class="btn btn-close btn-close-change" >закрыть</button> <a target="_black" href="https://support.onetwotrip.com/hc/ru" type="button" class="btn btn-primary btn-crchange">связаться со службой поддержки</a> </div> </div> </script> <script id="tmpl_carrent_cancelfees" type="text/x-jquery-tmpl"> <div>{{if $data.cancellation}}{{each(i, c) $data.cancellation.rules}}{{if c}}<div class="cr-cancel-item">{{if c.penalty == false}}если вы отменяете бронирование <span class="nowrap">до ${c.to}</span>, денежные средства будут возвращены вам в полном размере.{{else c.refund == false}}если вы отменяете бронирование <span class="nowrap">после ${c.from}</span>, денежные средства не подлежат возврату.{{else}}если вы отменяете бронирование <span class="nowrap">после ${c.from}</span>, вам будут возвращены денежные средства, за исключением штрафа за отмену в размере ${c.penalty}${c.currency}&ast;.{{/if}}</div>{{/if}}{{/each}}<div class="cr-cancel-item"> бронирование не может быть отменено после начала аренды. </div>{{if $data.cancellation.haspartialrefundrule}}<div class="cr-cancel-item"> &ast;или той же суммы в usd/gbp в соответствии с валютным курсом, действующим на момент отмены бронирования. </div>{{/if}}{{/if}}</div> </script> <script id="tmpl_carrent_canceled" type="text/x-jquery-tmpl"> <div class="cr-cancel--wrap"> <h1>аренда машины ${$data.ordernumber}</h1> <div> <span class="cr-first-row"><b>${$data.lastname}${$data.firstname}</b></span>&nbsp; <span class="cr-label-wrapper"> <span class="label label-info">${$data.statusmsg}</span>&nbsp; </span> </div> </div> </script> <script id="tmpl_carrent_summary" type="text/x-jquery-tmpl"> <p> вы забронировали автомобиль{{if $data.carmodel}}${' '}<b>${$data.carmodel}</b> или похожий${' '}{{else}}${' '}<b>${$data.cartype}</b>${' '}{{/if}}с&nbsp;<b class="nowrap">${$data.pdatetime}</b> по&nbsp;<b class="nowrap">${$data.ddatetime}</b>, всего на ${$data.rentaldays}.${' '}{{if $data.ispending}}<p> пожалуйста, дождитесь письма с подтверждением бронирования. время подтверждения зависит от поставщика, но составляет не более 48 часов. </p>{{else}}{{if $data.pplace == $data.dplace}}место получения и возврата <b>${$data.pplace}</b>.${' '}{{else}}место получения <b>${$data.pplace}</b>, место возврата <b>${$data.dplace}</b>.${' '}{{/if}}{{/if}}</p> <p>{{html $data.shuttleinfostr}}</p> <p>{{html $data.additionalinsuranceinfostr}}</p> </script> <script id="tmpl_carprint" type="text/x-jquery-tmpl"> <div class="crv-top-margin"></div> <div class="crv-header"> <div class="crv-cols crv-overflow"> <div class="crv-header__left">{{if $data.resellerid == 'vtb24'}}<img class="crv-header__partner-logo" src="twiketlive/svg/carrent/vtblogo.svg">{{/if}}{{if $data.resellerid == 'u6'}}<img class="crv-header__partner-logo crv-header__partner-logo--u6" src="twiketlive/img/car_receipt/u6-logo-new-grey.png">{{/if}}<img class="crv-header__logo" src="twiketlive/svg/carrent/logo-minimalism.svg"> <span class="crv-header__ott">onetwotrip</span> </div> <div class="crv-header__provider"> <img class="crv-header__provider-pic" src="${$data.providerlogourl}" /> </div> </div> </div> <!-- 1 --> <div class="crv-block"> <div class="crv-block__hd crv-block__hd--big"> <div class="crv-h1">аренда автомобиля</div> </div> <div class="crv-block__content"> <p>{{tmpl($data.summarydata) "#tmpl_carrent_summary"}}</p> <p>машину может получить только основной водитель <b>${$data.driver.name}</b>. ему необходимо предъявить сотруднику проката:</p> <ul class="crv-ul">{{if $data.vouchernumber}}<li>номер электронного ваучера <b>${$data.vouchernumber}</b>;</li>{{else}}<li>номер брони <b>${$data.reservationnumber}</b>;</li>{{/if}}<li>удостоверение личности;</li> <li>водительские права (и международное водительское удостоверение, если требуется);</li> <li> кредитную банковскую карту на своё имя для блокировки депозита.${' '}{{if $data.notincluded.deposit}}<span class="crv-nowrap">размер депозита ${$data.notincluded.deposit}.</span>{{/if}}</li> </ul> </div> </div> <!-- 2 --> <div class="crv-block"> <div class="crv-block__hd crv-block__hd--big"> <div class="crv-h2">нужна помощь?</div> </div> <div class="crv-block__content"> <p>если у вас возникли вопросы по аренде машины, пожалуйста напишите нам на <b>support@onetwotrip.com</b> или позвоните по телефону <b>+7 (495) 646-83-62</b> (работаем круглосуточно).</p> <p>чтобы ускорить обработку вашего запроса, сообщите сотруднику службы поддержки:</p> <ul class="crv-ul"> <li>номер заказа <b>${$data.referencenumber}</b></li> <li>адрес электронной почты <b>${$data.driver.email}</b></li> <li>номер телефона <b>${$data.driver.phone}</b></li> </ul> </div> </div> <!-- 3 --> <div class="crv-block"> <div class="crv-block__hd crv-block__hd--big"> <div class="crv-h2">советы эксперта</div> </div> <div class="crv-block__content"> <div class="crv-cols"> <div class="crv-col--w-50"> <p>рекомендуем узнать у&nbsp;сотрудника проката, где находится ближайшая к&nbsp;месту возврата автомобиля заправка. это сэкономит вам время в&nbsp;последний день отпуска. попросите у&nbsp;сотрудника проката карту города.</p> <p>прежде чем выезжать со&nbsp;стоянки, ознакомьтесь с&nbsp;управлением автомобилем, чтобы потом не&nbsp;искать, где включается ближний свет или дворники.</p> </div> <div class="crv-col--w-50"> <p>прежде чем выезжать с&nbsp;места стоянки, внимательно осмотрите автомобиль на&nbsp;наличие повреждений, а&nbsp;в&nbsp;случае их&nbsp;обнаружения сообщите об&nbsp;этом в&nbsp;пункт проката.</p> <p>в&nbsp;целях безопасности всегда оставляйте арендованный автомобиль на&nbsp;охраняемой стоянке.</p> </div> </div> </div> <div class="crv-bottom-info">заказ ${$data.referencenumber}от ${$data.datecreate}</div> </div> <div class="crv-pagebreak"></div> <div class="crv-top-margin" style=""></div> <div class="crv-header"> <div class="crv-cols crv-overflow"> <div class="crv-header__left">{{if $data.resellerid == 'vtb24'}}<img class="crv-header__partner-logo" src="twiketlive/svg/carrent/vtblogo.svg">{{/if}}{{if $data.resellerid == 'u6'}}<img class="crv-header__partner-logo crv-header__partner-logo--u6" src="twiketlive/img/car_receipt/u6-logo-new-grey.png">{{/if}}<img class="crv-header__logo" src="twiketlive/svg/carrent/logo-minimalism.svg"> <span class="crv-header__ott">onetwotrip</span> </div> <div class="crv-header__provider"> <img class="crv-header__provider-pic" src="${$data.providerlogourl}" /> </div> </div> </div> <!-- 0 --> <div class="crv-block"> <div class="crv-block__hd crv-block__hd--big"> <div class="crv-h1">${dict.confirmed.hasbeenconfirmed}</div> </div> <div class="crv-block__content"> <div class="crv-cols"> <div class="crv-col--offset crv-col--o-1"> <table class="crv-table">{{if $data.referencenumber}}<tr> <td>${dict.confirmed.referencenumber}</td> <td>${$data.referencenumber}</td> </tr>{{/if}}<tr> <td>${dict.confirmed.reservationnumber}</td> <td>${$data.reservationnumber}</td> </tr>{{if $data.vouchernumber}}<tr> <td>${dict.confirmed.evoucher}</td> <td>${$data.vouchernumber}</td> </tr>{{/if}}<tr> <td>${dict.confirmed.maindriver}</td> <td>${$data.driver.name}</td> </tr> <tr> <td>${dict.confirmed.email}</td> <td> ${$data.driver.email.split('@')[0]}<span class='crv-email-wrapper'>@${$data.driver.email.split('@')[1]}</span> </td> </tr> <tr> <td>${dict.confirmed.phone}</td> <td>${$data.driver.phone}</td> </tr> <tr> <td>${dict.confirmed.cartype}</td> <td>${$data.acrisscode}</td> </tr>{{if $data.carmodel}}<tr> <td>${dict.confirmed.makemodel}</td> <td>${$data.carmodel}<span class="crv-fw--normal">${dict.confirmed.orsimilar}</span></td> </tr>{{/if}}<tr> <td>${dict.confirmed.transmission}</td> <td>${rates.transmission[$data.transmission]}</td> </tr> <tr> <td>${dict.confirmed.airconditioning}</td> <td>${dict.confirmed['airconditioning' + $data.airconditioning]}</td> </tr>{{if $data.passengers}}<tr> <td>${dict.confirmed.passengers}</td> <td>${$data.passengers}</td> </tr>{{/if}}{{if $data.bags}}<tr> <td>${dict.confirmed.baggage}</td> <td>${$data.bags}</td> </tr>{{/if}}</table> </div> <div class="crv-col--offset crv-col--o-2"> ${dict.confirmed.mostoftenprovided.replacebyhash($data.hash.mostoftencarmodel)}</div> </div> </div> </div> <!-- 1 --> <div class="crv-block"> <div class="crv-block__hd crv-block__hd--big"> <div class="crv-h2">внесение изменений</div> </div> <div class="crv-block__content"> <span>внесение изменений в бронирование не допускается</span> </div> </div> <!-- 2 --> <div class="crv-block"> <div class="crv-block__hd crv-block__hd--big"> <div class="crv-h2">${dict.pickdrop.pickup}</div> </div> <div class="crv-block__content"> <div class="crv-cols"> <div class="crv-col--offset crv-col--o-1"> <table class="crv-table"> <tr> <td>${dict.pickdrop.date}</td> <td>${$data.pickup.date}</td> </tr> <tr> <td>${dict.pickdrop.time}</td> <td>${$data.pickup.time}</td> </tr>{{if $data.pickup.location.city}}<tr> <td>${dict.pickdrop.place}</td> <td>${$data.pickup.location.city}</td> </tr>{{/if}}<tr> <td>${dict.pickdrop.address}</td> <td>${$data.pickup.location.line1}<div> ${$data.pickup.location.address}</div> </td> </tr>{{if $data.pickup.location.phone}}<tr> <td>${dict.pickdrop.phone}</td> <td>${$data.pickup.location.phone}</td> </tr>{{/if}}</table> </div> <div class="crv-col--offset crv-col--o-2"> ${false && dict.pickdrop.additionalmanhours}{{html $data.summarydata.shuttleinfostr}}${' '}{{if $data.summarydata.operatedby}}<span><strong>обратите внимание!</strong> для получения машины вам необходимо пройти к стойке <strong>${$data.summarydata.operatedby}</strong>, а не ${$data.summarydata.providername}.</span>{{/if}}</div> </div> </div> </div> <!-- 3 --> <div class="crv-block"> <div class="crv-block__hd crv-block__hd--big"> <div class="crv-h2">${dict.pickdrop.dropoff}</div> </div> <div class="crv-block__content"> <div class="crv-cols"> <div class="crv-col--offset crv-col--o-1"> <table class="crv-table"> <tr> <td>${dict.pickdrop.date}</td> <td>${$data.dropoff.date}</td> </tr> <tr> <td>${dict.pickdrop.time}</td> <td>${$data.dropoff.time}</td> </tr>{{if $data.dropoff.location.city}}<tr> <td>${dict.pickdrop.place}</td> <td>${$data.dropoff.location.city}</td> </tr>{{/if}}<tr> <td>${dict.pickdrop.address}</td> <td>${$data.dropoff.location.line1}<div> ${$data.dropoff.location.address}</div> </td> </tr>{{if $data.dropoff.location.phone}}<tr> <td>${dict.pickdrop.phone}</td> <td>${$data.dropoff.location.phone}</td> </tr>{{/if}}</table> </div> <div class="crv-col--offset crv-col--o-2"></div> </div> </div> </div> <!-- 4 --> <div class="crv-block"> <div class="crv-block__hd crv-block__hd--big"> <div class="crv-h2">при получении машины вам потребуется</div> </div> <div class="crv-block__content"> <table class="crv-table crv-table--margin-bottom"> <tr> <td>кредитная карта на имя главного водителя</td> <td> <span>mastercard, visa или amex</span>&nbsp; <span class='crv-fw--normal'>(дебетовые и предоплаченные карты не принимаются)</span> </td> </tr> <tr> <td>удостоверение личности</td> <td> <span>стандартное и международное водительское удостоверение</span>&nbsp; <span class='crv-fw--normal'>(для аренды за пределами рф)</span>&nbsp; <span>и паспорт</span> </td> </tr> <tr> <td>ваучер</td> <td>в распечатанном виде</td> </tr> </table> </div> </div> <!-- 5 --> <div class="crv-block"> <div class="crv-block__hd crv-block__hd--big"> <div class="crv-h2">${dict.payment.paymentinfohd}</div> </div> <div class="crv-block__content"> <div class="crv-cols"> <div class="crv-col--offset crv-col--o-1"> <table class="crv-table"> <tr> <td>${dict.payment.total}</td> <td>${$data.payment.formattedtotal}</td> </tr> <tr> <td>${dict.payment.receivedamount}</td> <td>${$data.payment.formattedpaynow}</td> </tr> <tr> <td>${dict.payment.dueatpickup}</td> <td>${$data.payment.formattedpaylater}</td> </tr> </table> </div> <div class="crv-col--offset crv-col--o-2"></div> </div> <p>{{if $data.payment.paylater > 0}}${dict.payment.incurrency}{{else}}${dict.payment.payedviaott}{{/if}}${' '}{{html dict.payment.paymentinfo.replacebyarray(['<b>' + ($data.summarydata.operatedby || $data.providername) + '</b>'])}}</p> </div> </div> <!-- 6 -->{{if $data.included && $data.included.length}}<div class="crv-block"> <div class="crv-block__hd crv-block__hd--big"> <div class="crv-h2">${dict.included.includedhd}</div> </div> <div class="crv-block__content">{{each(i, charge) $data.included}}<div class="crv-h3"> ${charge.name}{{if charge.deductibleamount}}<span> с ограничением ответственности водителя (франшизой) в размере ${charge.deductibleamount}</span>{{/if}}</div> <p>${charge.description}</p>{{/each}}</div> </div>{{/if}}<!-- 7 --> <div class="crv-block"> <div class="crv-block__hd crv-block__hd--big"> <div class="crv-h2">${dict.notincluded.notincludedhd}</div> </div> <div class="crv-block__content"> <div class="crv-h3">${dict.notincluded.franchdeposithd}</div> <p> ${dict.notincluded.deposit}<br />{{if $data.notincluded.deposit}}${dict.notincluded.depositamount.replacebyarray([$data.notincluded.deposit])}{{/if}}</p>{{html dict.notincluded.depositinfo}}{{if $data.notincluded.franchiselist.length}}<p>${dict.notincluded.includedfranchise}</p> <ul class="crv-ul">{{each $data.notincluded.franchiselist}}<li> ${name}.{{if amount}}${' '}${dict.notincluded.franchise}${amount}{{/if}}</li>{{/each}}</ul>{{/if}}<div class="crv-h3">${dict.notincluded.cleanhd}</div>{{html dict.notincluded.cleantext}}<div class="crv-h3">${dict.notincluded.roadtaxeshhd}</div>{{html dict.notincluded.roadtaxestext}}<div class="crv-h3">${dict.notincluded.drivershhd}</div>{{html dict.notincluded.driverstext}}</div> </div> <!-- 8 -->{{if $data.notincluded.services.length}}<div class="crv-block"> <div class="crv-block__hd crv-block__hd--big"> <div class="crv-h2">${dict.additional.additionalserviceshd}</div> </div> <div class="crv-block__content">{{each(i, charge) $data.notincluded.services}}<p>${charge.name}– ${charge.amount}${charge.period}</p>{{/each}}</div> </div>{{/if}}<!-- 9 -->{{if $data.notincluded.equipment.length}}<div class="crv-block"> <div class="crv-block__hd crv-block__hd--big"> <div class="crv-h2">${dict.additional.additionalequipmenthd}</div> </div> <div class="crv-block__content">{{each(i, charge) $data.notincluded.equipment}}<p>${charge.name}– ${charge.amount}${charge.period}</p>{{/each}}</div> </div>{{/if}}<!-- 10 --> <div class="crv-block"> <div class="crv-block__hd crv-block__hd--big"> <div class="crv-h2">${dict.usefulinfo.usefulinfo}</div> </div> <div class="crv-block__content"> <div class="crv-h3">${dict.usefulinfo.bordershd}</div>{{html dict.usefulinfo.borderstext}}<div class="crv-h3">${dict.usefulinfo.crashhd}</div>{{html dict.usefulinfo.crashtext}}<div class="crv-h3">${dict.usefulinfo.helphd}</div>{{html dict.usefulinfo.helptext}}<div class="crv-h3">${dict.usefulinfo.keyshd}</div>{{html dict.usefulinfo.keystext}}<div class="crv-h3">${dict.usefulinfo.strapshd}</div>{{html dict.usefulinfo.strapstext}}<div class="crv-h3">${dict.usefulinfo.amounthd}</div>{{html dict.usefulinfo.amounttext}}<div class="crv-h3">${dict.usefulinfo.anothervehiclehd}</div>{{html dict.usefulinfo.anothervehicletext}}<div class="crv-h3">${dict.usefulinfo.turnoverhd}</div>{{html dict.usefulinfo.turnovertext}}</div> </div> <!-- 11 --> <div class="crv-block"> <div class="crv-block__hd crv-block__hd--big"> <div class="crv-h2">${dict.cancel.cancel}</div> </div> <div class="crv-block__content"> <div>{{if $data.cancellation}}{{each(i, c) $data.cancellation.rules}}{{if c}}<div class="cr-cancel-item">{{if c.penalty == false}}если вы отменяете бронирование <span class="nowrap">до ${c.to}</span>, денежные средства будут возвращены вам в полном размере.{{else c.refund == false}}если вы отменяете бронирование <span class="nowrap">после ${c.from}</span>, денежные средства не подлежат возврату.{{else}}если вы отменяете бронирование <span class="nowrap">после ${c.from}</span>, вам будут возвращены денежные средства, за исключением штрафа за отмену в размере ${c.penalty}${c.currency}&ast;.{{/if}}</div>{{/if}}{{/each}}<div class="cr-cancel-item"> бронирование не может быть отменено после начала аренды. </div>{{if $data.cancellation.haspartialrefundrule}}<div class="cr-cancel-item"> &ast;или той же суммы в usd/gbp в соответствии с валютным курсом, действующим на момент отмены бронирования. </div>{{/if}}{{/if}}</div> <p>для уточнения размера депозита и других деталей аренды вы можете обратиться в службу поддержки</p>{{html dict.cancel.cases}}{{html dict.cancel.noreturn}}</div> </div>{{if false}}<!-- samples --> <!-- <div class="crv-block"> <div class="crv-block__hd crv-block__hd--big"> <div class="crv-h2"></div> </div> <div class="crv-block__content"> </div> </div> <ul class="crv-ul"> <li></li> </ul> <div class="crv-cols"> <div class="crv-col--w-50"></div> <div class="crv-col--w-50"></div> </div> <div class="crv-cols"> <div class="crv-col--offset crv-col--o-1"> <table class="crv-table"> <tr> <td></td> <td></td> </tr> </table> </div> <div class="crv-col--offset crv-col--o-2"></div> </div> -->{{/if}}<div id="carrent-printready"></div> </script> </body> </html>
